<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>5.개발 환경 만들기 | Today Youngjun learned✍</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/til/images/logo-144.png">
    <link rel="manifest" href="/til/manifest.json">
    <meta name="description" content="Youngjun`s Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/til/assets/css/0.styles.5b85764b.css" as="style"><link rel="preload" href="/til/assets/js/app.bfbfa927.js" as="script"><link rel="preload" href="/til/assets/js/2.f827bc55.js" as="script"><link rel="preload" href="/til/assets/js/117.2a1c47b1.js" as="script"><link rel="preload" href="/til/assets/js/46.01e6df54.js" as="script"><link rel="prefetch" href="/til/assets/js/10.d7bebace.js"><link rel="prefetch" href="/til/assets/js/100.5789d20a.js"><link rel="prefetch" href="/til/assets/js/101.c34422c8.js"><link rel="prefetch" href="/til/assets/js/102.5669c6e9.js"><link rel="prefetch" href="/til/assets/js/103.5bfa6597.js"><link rel="prefetch" href="/til/assets/js/104.80865abc.js"><link rel="prefetch" href="/til/assets/js/105.d4b6ee29.js"><link rel="prefetch" href="/til/assets/js/106.bfc58b9a.js"><link rel="prefetch" href="/til/assets/js/107.94230b50.js"><link rel="prefetch" href="/til/assets/js/108.5f216130.js"><link rel="prefetch" href="/til/assets/js/109.51e245f9.js"><link rel="prefetch" href="/til/assets/js/11.af453223.js"><link rel="prefetch" href="/til/assets/js/110.8ca4309a.js"><link rel="prefetch" href="/til/assets/js/111.bc804496.js"><link rel="prefetch" href="/til/assets/js/112.c60a0917.js"><link rel="prefetch" href="/til/assets/js/113.830f3786.js"><link rel="prefetch" href="/til/assets/js/114.d3993c2e.js"><link rel="prefetch" href="/til/assets/js/115.b4929715.js"><link rel="prefetch" href="/til/assets/js/116.1fd08ec1.js"><link rel="prefetch" href="/til/assets/js/118.38ba08b9.js"><link rel="prefetch" href="/til/assets/js/119.320ea3f4.js"><link rel="prefetch" href="/til/assets/js/12.a3d5f9cc.js"><link rel="prefetch" href="/til/assets/js/120.a585aa3b.js"><link rel="prefetch" href="/til/assets/js/121.2c826722.js"><link rel="prefetch" href="/til/assets/js/122.da4f6f2f.js"><link rel="prefetch" href="/til/assets/js/123.6aca698b.js"><link rel="prefetch" href="/til/assets/js/124.ce2b3f2e.js"><link rel="prefetch" href="/til/assets/js/125.7606400e.js"><link rel="prefetch" href="/til/assets/js/126.39b878a4.js"><link rel="prefetch" href="/til/assets/js/127.c453aa60.js"><link rel="prefetch" href="/til/assets/js/128.afb353a5.js"><link rel="prefetch" href="/til/assets/js/129.cfdec7bb.js"><link rel="prefetch" href="/til/assets/js/13.36b91a88.js"><link rel="prefetch" href="/til/assets/js/130.a2dcc955.js"><link rel="prefetch" href="/til/assets/js/131.37112240.js"><link rel="prefetch" href="/til/assets/js/132.6b6b543d.js"><link rel="prefetch" href="/til/assets/js/133.e65111ff.js"><link rel="prefetch" href="/til/assets/js/134.eb6a431a.js"><link rel="prefetch" href="/til/assets/js/135.a6941348.js"><link rel="prefetch" href="/til/assets/js/136.654d66c8.js"><link rel="prefetch" href="/til/assets/js/137.980efe26.js"><link rel="prefetch" href="/til/assets/js/138.71127e4d.js"><link rel="prefetch" href="/til/assets/js/139.3d84eea7.js"><link rel="prefetch" href="/til/assets/js/14.21d198f0.js"><link rel="prefetch" href="/til/assets/js/140.e7cad63e.js"><link rel="prefetch" href="/til/assets/js/141.a60a4e88.js"><link rel="prefetch" href="/til/assets/js/142.5973a54e.js"><link rel="prefetch" href="/til/assets/js/143.ea3dd2a6.js"><link rel="prefetch" href="/til/assets/js/15.a0350cec.js"><link rel="prefetch" href="/til/assets/js/16.6ccf773c.js"><link rel="prefetch" href="/til/assets/js/17.92966275.js"><link rel="prefetch" href="/til/assets/js/18.0d484a85.js"><link rel="prefetch" href="/til/assets/js/19.ce64e38d.js"><link rel="prefetch" href="/til/assets/js/20.5c8846a0.js"><link rel="prefetch" href="/til/assets/js/21.2e485fd8.js"><link rel="prefetch" href="/til/assets/js/22.083d91dc.js"><link rel="prefetch" href="/til/assets/js/23.a79ef9c9.js"><link rel="prefetch" href="/til/assets/js/24.1c53e189.js"><link rel="prefetch" href="/til/assets/js/25.43488937.js"><link rel="prefetch" href="/til/assets/js/26.cfda8508.js"><link rel="prefetch" href="/til/assets/js/27.04675916.js"><link rel="prefetch" href="/til/assets/js/28.201dabcb.js"><link rel="prefetch" href="/til/assets/js/29.229f0abe.js"><link rel="prefetch" href="/til/assets/js/3.523a327b.js"><link rel="prefetch" href="/til/assets/js/30.f00fd4d5.js"><link rel="prefetch" href="/til/assets/js/31.e2302d67.js"><link rel="prefetch" href="/til/assets/js/32.20d8b662.js"><link rel="prefetch" href="/til/assets/js/33.ae5e8e46.js"><link rel="prefetch" href="/til/assets/js/34.32525616.js"><link rel="prefetch" href="/til/assets/js/35.c2833f9c.js"><link rel="prefetch" href="/til/assets/js/36.7df57647.js"><link rel="prefetch" href="/til/assets/js/37.d923853e.js"><link rel="prefetch" href="/til/assets/js/38.d261d060.js"><link rel="prefetch" href="/til/assets/js/39.239a50af.js"><link rel="prefetch" href="/til/assets/js/4.45c650f4.js"><link rel="prefetch" href="/til/assets/js/40.2d9bc2a1.js"><link rel="prefetch" href="/til/assets/js/41.caa07bae.js"><link rel="prefetch" href="/til/assets/js/42.45690ce9.js"><link rel="prefetch" href="/til/assets/js/43.825c1580.js"><link rel="prefetch" href="/til/assets/js/44.a1853fe4.js"><link rel="prefetch" href="/til/assets/js/45.c5347b78.js"><link rel="prefetch" href="/til/assets/js/47.1fbcadb6.js"><link rel="prefetch" href="/til/assets/js/48.2b9b1509.js"><link rel="prefetch" href="/til/assets/js/49.494fbd72.js"><link rel="prefetch" href="/til/assets/js/5.0aa337fe.js"><link rel="prefetch" href="/til/assets/js/50.b3e0241f.js"><link rel="prefetch" href="/til/assets/js/51.497b25e7.js"><link rel="prefetch" href="/til/assets/js/52.079e17c0.js"><link rel="prefetch" href="/til/assets/js/53.d15109f5.js"><link rel="prefetch" href="/til/assets/js/54.d9dc8d80.js"><link rel="prefetch" href="/til/assets/js/55.989f2527.js"><link rel="prefetch" href="/til/assets/js/56.5b7c8e8e.js"><link rel="prefetch" href="/til/assets/js/57.7b163896.js"><link rel="prefetch" href="/til/assets/js/58.2ca7da5b.js"><link rel="prefetch" href="/til/assets/js/59.926b192a.js"><link rel="prefetch" href="/til/assets/js/6.52e5f234.js"><link rel="prefetch" href="/til/assets/js/60.221c2169.js"><link rel="prefetch" href="/til/assets/js/61.d1814565.js"><link rel="prefetch" href="/til/assets/js/62.2c62fe16.js"><link rel="prefetch" href="/til/assets/js/63.64d19172.js"><link rel="prefetch" href="/til/assets/js/64.45e22399.js"><link rel="prefetch" href="/til/assets/js/65.4c350e04.js"><link rel="prefetch" href="/til/assets/js/66.5a834cf8.js"><link rel="prefetch" href="/til/assets/js/67.d1c48057.js"><link rel="prefetch" href="/til/assets/js/68.77fbd198.js"><link rel="prefetch" href="/til/assets/js/69.90e61771.js"><link rel="prefetch" href="/til/assets/js/7.21123317.js"><link rel="prefetch" href="/til/assets/js/70.a784e544.js"><link rel="prefetch" href="/til/assets/js/71.493fbe0d.js"><link rel="prefetch" href="/til/assets/js/72.3746d801.js"><link rel="prefetch" href="/til/assets/js/73.289e070e.js"><link rel="prefetch" href="/til/assets/js/74.26c52c69.js"><link rel="prefetch" href="/til/assets/js/75.cf19f8d1.js"><link rel="prefetch" href="/til/assets/js/76.c3b42ac9.js"><link rel="prefetch" href="/til/assets/js/77.aa7da66b.js"><link rel="prefetch" href="/til/assets/js/78.896bd633.js"><link rel="prefetch" href="/til/assets/js/79.272c621f.js"><link rel="prefetch" href="/til/assets/js/8.bc2662d1.js"><link rel="prefetch" href="/til/assets/js/80.8488b5a6.js"><link rel="prefetch" href="/til/assets/js/81.edc4bc43.js"><link rel="prefetch" href="/til/assets/js/82.c38528d6.js"><link rel="prefetch" href="/til/assets/js/83.3faadb6e.js"><link rel="prefetch" href="/til/assets/js/84.d8a552da.js"><link rel="prefetch" href="/til/assets/js/85.55f502c3.js"><link rel="prefetch" href="/til/assets/js/86.c493861b.js"><link rel="prefetch" href="/til/assets/js/87.1bb57bd2.js"><link rel="prefetch" href="/til/assets/js/88.2d238be1.js"><link rel="prefetch" href="/til/assets/js/89.81f41fd8.js"><link rel="prefetch" href="/til/assets/js/9.1d59b63f.js"><link rel="prefetch" href="/til/assets/js/90.db78fbe7.js"><link rel="prefetch" href="/til/assets/js/91.9074b2eb.js"><link rel="prefetch" href="/til/assets/js/92.57b5abb5.js"><link rel="prefetch" href="/til/assets/js/93.325238be.js"><link rel="prefetch" href="/til/assets/js/94.b9819f7d.js"><link rel="prefetch" href="/til/assets/js/95.2bd5be66.js"><link rel="prefetch" href="/til/assets/js/96.f7ec3a35.js"><link rel="prefetch" href="/til/assets/js/97.f6c12817.js"><link rel="prefetch" href="/til/assets/js/98.542b0796.js"><link rel="prefetch" href="/til/assets/js/99.cc724f32.js">
    <link rel="stylesheet" href="/til/assets/css/0.styles.5b85764b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/til/" class="home-link router-link-active"><!----> <span class="site-name">Today Youngjun learned✍</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🎨 Elasticsearch</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🐳 Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>🐋 Kubernetes</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/til/kubernetes/00.Overview.html" class="sidebar-link">1.Kubernetes란?</a></li><li><a href="/til/kubernetes/01.WhyKubernetes.html" class="sidebar-link">2.Why Kubernetes?</a></li><li><a href="/til/kubernetes/02.VMvsContainer.html" class="sidebar-link">3.VM vs Container</a></li><li><a href="/til/kubernetes/03.GettingStartedKubernetes.html" class="sidebar-link">4.Kubernetes 시작하기</a></li><li><a href="/til/kubernetes/04.setting.html" aria-current="page" class="active sidebar-link">5.개발 환경 만들기</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/til/kubernetes/04.setting.html#_1-실습에-앞서" class="sidebar-link">1. 실습에 앞서</a></li><li class="sidebar-sub-header"><a href="/til/kubernetes/04.setting.html#_2-내-pc에서-실습하기-1" class="sidebar-link">2. 내 PC에서 실습하기 - 1</a></li><li class="sidebar-sub-header"><a href="/til/kubernetes/04.setting.html#_3-내-pc에서-실습하기-2" class="sidebar-link">3. 내 PC에서 실습하기 - 2</a></li></ul></li><li><a href="/til/kubernetes/05.Pod.html" class="sidebar-link">6.Pod 설정 살펴보기</a></li><li><a href="/til/kubernetes/06.Pod-Characteristic.html" class="sidebar-link">7.Pod의 특징</a></li><li><a href="/til/kubernetes/07.Object-Service.html" class="sidebar-link">8.기본 Object - Service</a></li><li><a href="/til/kubernetes/08.Volume.html" class="sidebar-link">9.기본 Objecet - Volume</a></li><li><a href="/til/kubernetes/09.ConfigMap_Secret.html" class="sidebar-link">기본 Object - ConfigMap, Secret</a></li><li><a href="/til/kubernetes/10.Namespace-ResourceQuota-LimitRange.html" class="sidebar-link">11.기본 Object - Namespace, ResourceQuota, LimitRange 란?</a></li><li><a href="/til/kubernetes/11.Controller-Replication&amp;Replicaset.html" class="sidebar-link">12.Controller - Replication &amp; ReplicaSet</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📘 Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📗 GCP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📙 Machine Learning</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📕 Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💚 Data Structure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💝 Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💙 Kubeflow</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🖤 News</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💜 NGINX</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🤍 Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🤎 System Programming</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💛 UX&amp;UI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💕 Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📌 etc</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_5-개발-환경-만들기"><a href="#_5-개발-환경-만들기" class="header-anchor">#</a> 5.개발 환경 만들기</h1> <h2 id="_1-실습에-앞서"><a href="#_1-실습에-앞서" class="header-anchor">#</a> 1. 실습에 앞서</h2> <h3 id="⏹kubernetes-설치-desktop-vm-master-node"><a href="#⏹kubernetes-설치-desktop-vm-master-node" class="header-anchor">#</a> ⏹Kubernetes 설치(Desktop + VM =&gt; Master, node)</h3> <ul><li>한 physical Server PC 위에 OS가 설치되어 있음</li> <li>VirtualBox를 먼저 설치하고 master용으로 사용할 VM을 만들 것</li> <li>(Host OS – Memory 12G, CPU 4Core, Disk 500G라고 하면)</li> <li>각 VM은 Memory 4G, CPU 2Core, 150G로 할당</li></ul> <p>각자 가용한 자원에 맞게 수치를 조절하면 되지만
Kubernetes master의 권장 CPU는 <code>2 core 이상</code>이기 때문에 1 core이면 실행 안 됨</p> <blockquote><ol><li>환경 Setting 한 Node 생성 2개 생성</li> <li>master 구동 → 초기화 → 다음 Node와 연결</li> <li>Kubernetes 클러스터 구성 끝</li></ol></blockquote> <h3 id="⏹필수-플러그인-설치"><a href="#⏹필수-플러그인-설치" class="header-anchor">#</a> ⏹필수 플러그인 설치</h3> <ul><li>Networking 관련</li> <li>Dashboard</li></ul> <h3 id="⏹네트워크-구성-살펴보기"><a href="#⏹네트워크-구성-살펴보기" class="header-anchor">#</a> ⏹네트워크 구성 살펴보기</h3> <ul><li>현재 <code>192.168.0.1</code>인 공유기가 있고 인터넷과 연결되어 있음</li> <li>공유기에서 <code>Physical Server</code>는 <code>192.168.0.20</code>로 IP를 할당</li></ul> <p>VM은 가상 네트워크가 있는데 Physical port를 통해 공유기에서 직접 IP를 할당 받을 수 있게 설정하기 때문에 Physical Port와 동일한 level로 IP가 할당 됨</p> <p>따라서 내 PC에서 각각의 <code>master</code>나 <code>Node</code>로 연결을 시도하면 해당 트래픽은 공유기를 거쳐 다시 PC의 브릿지 연결을 통해 <code>VM의 IP로 연결이 됨</code></p> <h2 id="_2-내-pc에서-실습하기-1"><a href="#_2-내-pc에서-실습하기-1" class="header-anchor">#</a> 2. 내 PC에서 실습하기 - 1</h2> <h3 id="⏹-1-desktop-vm-환경-구축"><a href="#⏹-1-desktop-vm-환경-구축" class="header-anchor">#</a> ⏹ 1 Desktop + VM 환경 구축</h3> <p><code>Windows</code>나 <code>Mac</code>이 설치되어 있는 <code>Desktop가 1대</code> 있고,
그 위에 <code>VirtualBox</code>와 같은 도구를 이용해서 VM을 만드는 경우</p> <h3 id="_1-1-install-virtualbox"><a href="#_1-1-install-virtualbox" class="header-anchor">#</a> 1-1) Install Virtualbox</h3> <h4 id="_1-1-1-virtualbox-다운로드-및-설치"><a href="#_1-1-1-virtualbox-다운로드-및-설치" class="header-anchor">#</a> 1-1-1) Virtualbox 다운로드 및 설치</h4> <ul><li>Windows 환경) <a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener noreferrer">Windows hosts VirtualBox<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 다운로드 후 설치</li> <li>Mac 환경) <a href="https://www.virtualbox.org/wiki/Mac%20OS%20X%20build%20instructions" target="_blank" rel="noopener noreferrer">Mac VirtualBox<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 다운로드 후 설치</li></ul> <h4 id="_1-1-2-centos-download"><a href="#_1-1-2-centos-download" class="header-anchor">#</a> 1-1-2) CentOS Download</h4> <p><a href="http://isoredirect.centos.org/centos/7/isos/x86_64/" target="_blank" rel="noopener noreferrer">centOS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 다운로드</p> <h4 id="_1-1-3-원격접속-툴-mobaxterm-설치"><a href="#_1-1-3-원격접속-툴-mobaxterm-설치" class="header-anchor">#</a> 1-1-3) 원격접속 툴 MobaXterm 설치</h4> <p><a href="https://mobaxterm.mobatek.net/" target="_blank" rel="noopener noreferrer">MobaXterm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 다운로드</p> <blockquote><p>편한 원격접속 툴이 있다면 아무거나 사용하면 됨!</p></blockquote> <p>아래 예제는 MobaXterm를 설치하고 필요한 Host 등록 예제</p> <div class="language-bash extra-class"><pre class="language-bash"><code>// <span class="token punctuation">[</span>GET MOBAXTERM NOW<span class="token punctuation">]</span> 버튼 클릭
// Free 버전 <span class="token punctuation">[</span>Download now<span class="token punctuation">]</span>
// Installer editon 다운로드 및 실행

- Sessions <span class="token operator">&gt;</span> SSH <span class="token operator">&gt;</span> Remote <span class="token function">host</span> <span class="token builtin class-name">:</span> <span class="token number">192.168</span>.0.30 <span class="token operator">&gt;</span> <span class="token punctuation">[</span>Bookmark settings<span class="token punctuation">]</span> Session name <span class="token builtin class-name">:</span> master-192.168.0.30 <span class="token operator">&gt;</span> <span class="token punctuation">[</span>ok<span class="token punctuation">]</span>
- Sessions <span class="token operator">&gt;</span> SSH <span class="token operator">&gt;</span> Remote <span class="token function">host</span> <span class="token builtin class-name">:</span> <span class="token number">192.168</span>.0.31 <span class="token operator">&gt;</span> <span class="token punctuation">[</span>Bookmark settings<span class="token punctuation">]</span> Session name <span class="token builtin class-name">:</span> node1-192.168.0.31 <span class="token operator">&gt;</span> <span class="token punctuation">[</span>ok<span class="token punctuation">]</span>
- Sessions <span class="token operator">&gt;</span> SSH <span class="token operator">&gt;</span> Remote <span class="token function">host</span> <span class="token builtin class-name">:</span> <span class="token number">192.168</span>.0.32 <span class="token operator">&gt;</span> <span class="token punctuation">[</span>Bookmark settings<span class="token punctuation">]</span> Session name <span class="token builtin class-name">:</span> node2-192.168.0.32 <span class="token operator">&gt;</span> <span class="token punctuation">[</span>ok<span class="token punctuation">]</span>
</code></pre></div><h3 id="⏹2-1-setting-vm"><a href="#⏹2-1-setting-vm" class="header-anchor">#</a> ⏹2-1) Setting VM</h3> <h4 id="_2-1-1-vm-스펙-설정"><a href="#_2-1-1-vm-스펙-설정" class="header-anchor">#</a> 2-1-1) VM 스펙 설정</h4> <p>메모리 및 디스크는 각자 상황에 맞게 참고해서 VM 설정</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span>. <span class="token punctuation">[</span>VM 생성 <span class="token number">1</span>단계<span class="token punctuation">]</span> 머신 <span class="token operator">&gt;</span> 새로 만들기 클릭  
<span class="token number">2</span>. <span class="token punctuation">[</span>VM 생성 <span class="token number">1</span>단계<span class="token punctuation">]</span> 이름 <span class="token builtin class-name">:</span> k8s-master, 종류: Linux, 버전: Other Linux<span class="token punctuation">(</span><span class="token number">32</span>-bit<span class="token punctuation">)</span>  
<span class="token number">3</span>. <span class="token punctuation">[</span>VM 생성 <span class="token number">2</span>단계<span class="token punctuation">]</span> 메모리 <span class="token builtin class-name">:</span> <span class="token number">4096</span> MB  
<span class="token number">4</span>. <span class="token punctuation">[</span>VM 생성 <span class="token number">3</span>단계<span class="token punctuation">]</span> 하드디스크 <span class="token builtin class-name">:</span> 지금 새 가상 하드 디스크 만들기 <span class="token punctuation">(</span>VDI:VirtualBox 디크스 이미지, 동적할당, 150GB<span class="token punctuation">)</span>  
<span class="token number">5</span>. <span class="token punctuation">[</span>VM 생성 후 시스템 설정<span class="token punctuation">]</span> 프로세서 개수 <span class="token builtin class-name">:</span> CPU <span class="token number">2</span>개  
<span class="token number">6</span>. <span class="token punctuation">[</span>VM 생성 후 저장소 설정<span class="token punctuation">]</span> 컨트롤러:IDE 하위에 있는 광학드라이브 클릭 <span class="token operator">&gt;</span> CentOS 이미지 선택 후 확인  
<span class="token number">7</span>. <span class="token punctuation">[</span>VM 생성 후 네트워크 설정<span class="token punctuation">]</span> VM 선택 후 설정 버튼 클릭 <span class="token operator">&gt;</span> 네트워크 <span class="token operator">&gt;</span> 어댑터 <span class="token number">1</span> 탭 <span class="token operator">&gt;</span> 다음에 연결됨 <span class="token punctuation">[</span>어댑터에 브리지<span class="token punctuation">]</span> 선택  
<span class="token number">8</span>. 시작
</code></pre></div><h3 id="⏹2-2-install-centos"><a href="#⏹2-2-install-centos" class="header-anchor">#</a> ⏹2-2) Install CentOS</h3> <h4 id="_2-2-1-centos-설치"><a href="#_2-2-1-centos-설치" class="header-anchor">#</a> 2-2-1) CentOS 설치</h4> <blockquote><p>4번 단계에서 <code>8.8.8.8</code>은 Google DNS!<br>
원하는 DNS 쓰면 됨.</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span>. Test this media <span class="token operator">&amp;</span> <span class="token function">install</span> CentOS <span class="token number">7</span>
<span class="token number">2</span>. Language <span class="token builtin class-name">:</span> 한국어 
<span class="token number">3</span>. Disk 설정 <span class="token punctuation">[</span>시스템 <span class="token operator">&gt;</span> 설치 대상<span class="token punctuation">]</span>
   - <span class="token punctuation">[</span>기타 저장소 옵션 <span class="token operator">&gt;</span> 파티션 설정<span class="token punctuation">]</span> 파티션을 설정합니다. <span class="token punctuation">[</span>체크<span class="token punctuation">]</span> 후 <span class="token punctuation">[</span>완료<span class="token punctuation">]</span>
   - 새로운 CentOS 설치 <span class="token operator">&gt;</span> 여기를 클릭하여 자동으로 생성합니다. <span class="token punctuation">[</span>클릭<span class="token punctuation">]</span>
   - /home <span class="token punctuation">[</span>클릭<span class="token punctuation">]</span> 후 용량 <span class="token number">5.12</span> GiB로 변경 <span class="token punctuation">[</span>설정 업데이트 클릭<span class="token punctuation">]</span>
   - / <span class="token punctuation">[</span>클릭<span class="token punctuation">]</span> 후 <span class="token number">140</span> GiB 변경 후 <span class="token punctuation">[</span>설정 업데이트 클릭<span class="token punctuation">]</span>
   - <span class="token punctuation">[</span>완료<span class="token punctuation">]</span>, <span class="token punctuation">[</span>변경 사항 적용<span class="token punctuation">]</span>
<span class="token number">4</span>. 네트워크 설정 <span class="token punctuation">[</span>시스템 <span class="token operator">&gt;</span> 네트워크 및 호스트명 설정<span class="token punctuation">]</span>
   - 호스트 이름: k8s-master <span class="token punctuation">[</span>적용<span class="token punctuation">]</span>
   - 이더넷 <span class="token punctuation">[</span>켬<span class="token punctuation">]</span>, <span class="token punctuation">[</span>설정<span class="token punctuation">]</span>, <span class="token punctuation">[</span>IPv4 설정<span class="token punctuation">]</span> 탭
   - 방식: 수동으로 선택, 
   - <span class="token punctuation">[</span>Add<span class="token punctuation">]</span> -<span class="token operator">&gt;</span> 주소: <span class="token number">192.168</span>.0.30, 넷마스크 <span class="token builtin class-name">:</span> <span class="token number">255.255</span>.255.0, 게이트웨이: <span class="token number">192.168</span>.0.1, DNS 서버 <span class="token builtin class-name">:</span> <span class="token number">8.8</span>.8.8 <span class="token punctuation">[</span>저장<span class="token punctuation">]</span><span class="token punctuation">[</span>완료<span class="token punctuation">]</span>
<span class="token number">5</span>. 설치시작
<span class="token number">6</span>. <span class="token punctuation">[</span>설정 <span class="token operator">&gt;</span> 사용자 설정<span class="token punctuation">]</span> ROOT 암호 설정 
<span class="token number">7</span>. 설치 완료 후 <span class="token punctuation">[</span>재부팅<span class="token punctuation">]</span>
</code></pre></div><h2 id="_3-내-pc에서-실습하기-2"><a href="#_3-내-pc에서-실습하기-2" class="header-anchor">#</a> 3. 내 PC에서 실습하기 - 2</h2> <h3 id="⏹3-1-pre-setting"><a href="#⏹3-1-pre-setting" class="header-anchor">#</a> ⏹3-1) Pre-Setting</h3> <h4 id="_3-1-1-se-linux-설정"><a href="#_3-1-1-se-linux-설정" class="header-anchor">#</a> 3-1-1) SE Linux 설정</h4> <p><a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/" target="_blank" rel="noopener noreferrer">Ubuntu<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>나 <a href="https://kubernetes.io/docs/setup/production-environment/container-runtimes/#docker" target="_blank" rel="noopener noreferrer">Debian<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>등 다른 OS를 설치하면 참고하자.</p> <p><code>Kubernetes</code>가 <code>Pod Network</code>에 필요한 호스트 파일 시스템에 액세스가 가능하도록 하기 위해서 필요한 설정</p> <p>아래 설정으로 SELinux을 permissive로 변경</p> <div class="language-bash extra-class"><pre class="language-bash"><code>setenforce <span class="token number">0</span>
</code></pre></div><p>리부팅시 다시 원복되기 때문에 아래 명령을 통해서 영구적으로 변경하자</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sed</span> -i <span class="token string">'s/^SELINUX=enforcing$/SELINUX=permissive/'</span> /etc/selinux/config
</code></pre></div><p>아래 명령어를 실행해서 <code>Current mode:permissive</code> 내용 확인</p> <div class="language-bash extra-class"><pre class="language-bash"><code>sestatus
</code></pre></div><h4 id="_3-1-2-방화벽-해제"><a href="#_3-1-2-방화벽-해제" class="header-anchor">#</a> 3-1-2) 방화벽 해제</h4> <p>firewalld 비활성화</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop firewalld <span class="token operator">&amp;&amp;</span> systemctl disable firewalld
</code></pre></div><p>NetworkManager 비활성화</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop NetworkManager <span class="token operator">&amp;&amp;</span> systemctl disable NetworkManager
</code></pre></div><h4 id="_3-1-3-swap-비활성화"><a href="#_3-1-3-swap-비활성화" class="header-anchor">#</a> 3-1-3) Swap 비활성화</h4> <p><a href="https://github.com/kubernetes/kubernetes/issues/53533" target="_blank" rel="noopener noreferrer">Swap 사용에 관련한 자세한 내용<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>을 참고하자</p> <div class="language-bash extra-class"><pre class="language-bash"><code>swapoff -a <span class="token operator">&amp;&amp;</span> <span class="token function">sed</span> -i <span class="token string">'/ swap / s/^/#/'</span> /etc/fstab
</code></pre></div><h4 id="_3-1-4-iptables-커널-옵션-활성화"><a href="#_3-1-4-iptables-커널-옵션-활성화" class="header-anchor">#</a> 3-1-4) Iptables 커널 옵션 활성화</h4> <p><code>RHEL</code>이나 <code>CentOS7</code> 사용 시 <code>iptables</code>가 무시돼서 트래픽이 잘못 라우팅되는 문제가 발생한다고 하여 아래 설정이 추가</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;</span>  /etc/sysctl.d/k8s.conf</span>

net.bridge.bridge-nf-call-ip6tables = 1

net.bridge.bridge-nf-call-iptables = 1

EOF</span>

sysctl --system
</code></pre></div><h4 id="_3-1-5-쿠버네티스-yum-repository-설정"><a href="#_3-1-5-쿠버네티스-yum-repository-설정" class="header-anchor">#</a> 3-1-5) 쿠버네티스 YUM Repository 설정</h4> <p><a href="https://www.lesstif.com/display/1STB/yum" target="_blank" rel="noopener noreferrer">YUM에 대한 자세한 내용<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>도 확인하자.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;</span> /etc/yum.repos.d/kubernetes.repo</span>

[kubernetes]

name=Kubernetes

baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64

enabled=1

gpgcheck=1

repo_gpgcheck=1

gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg

EOF</span>
</code></pre></div><h4 id="_3-1-6-centos-update"><a href="#_3-1-6-centos-update" class="header-anchor">#</a> 3-1-6) Centos Update</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>yum update
</code></pre></div><h4 id="_3-1-7-hosts-등록"><a href="#_3-1-7-hosts-등록" class="header-anchor">#</a> 3-1-7) Hosts 등록</h4> <p>계획된 master와 node의 호스트 이름과 IP를 모두 등록하기</p> <p>안하면 kubeadm init시 Host이름으로 IP를 찾을 수 없다고 에러 발생</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;&gt;</span> /etc/hosts</span>

192.168.0.30 k8s-master

192.168.0.31 k8s-node1

192.168.0.32 k8s-node2

EOF</span>
</code></pre></div><h3 id="⏹3-2-install"><a href="#⏹3-2-install" class="header-anchor">#</a> ⏹3-2) Install</h3> <h4 id="_3-2-1-docker-설치"><a href="#_3-2-1-docker-설치" class="header-anchor">#</a> 3-2-1) Docker 설치</h4> <p>도커 설치 전에 필요한 패키지 설치</p> <div class="language-bash extra-class"><pre class="language-bash"><code>yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2 
</code></pre></div><p>도커 설치를 위한 저장소 를 설정</p> <div class="language-bash extra-class"><pre class="language-bash"><code>yum-config-manager --add-repo 
</code></pre></div><p>https://download.docker.com/linux/centos/docker-ce.repo</p> <p>도커 패키지 설치</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable"><span class="token variable">`</span>yum update <span class="token operator">&amp;&amp;</span> yum <span class="token function">install</span> docker-ce-18.06.2.ce<span class="token variable">`</span></span>

<span class="token variable"><span class="token variable">`</span><span class="token function">mkdir</span> /etc/docker<span class="token variable">`</span></span>

<span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> <span class="token operator">&gt;</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;</span>EOF<span class="token variable">`</span></span>


<span class="token string">''</span>' json
<span class="token punctuation">{</span>
  <span class="token string">&quot;exec-opts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;native.cgroupdriver=systemd&quot;</span><span class="token punctuation">]</span>,
  <span class="token string">&quot;log-driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;json-file&quot;</span>,
  <span class="token string">&quot;log-opts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;max-size&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;100m&quot;</span>
  <span class="token punctuation">}</span>,
  <span class="token string">&quot;storage-driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;overlay2&quot;</span>,
  <span class="token string">&quot;storage-opts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;overlay2.override_kernel_check=true&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token string">''</span>'

<span class="token variable"><span class="token variable">`</span>EOF<span class="token variable">`</span></span>

<span class="token variable"><span class="token variable">`</span><span class="token function">mkdir</span> -p /etc/systemd/system/docker.service.d<span class="token variable">`</span></span>
</code></pre></div><h4 id="_3-2-2-kubernetes-설치"><a href="#_3-2-2-kubernetes-설치" class="header-anchor">#</a> 3-2-2) Kubernetes 설치</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>yum <span class="token function">install</span> -y --disableexcludes<span class="token operator">=</span>kubernetes kubeadm-1.15.5-0.x86_64 kubectl-1.15.5-0.x86_64 kubelet-1.15.5-0.x86_64
</code></pre></div><h3 id="⏹4-1-clone-vm"><a href="#⏹4-1-clone-vm" class="header-anchor">#</a> ⏹4-1) Clone VM</h3> <h4 id="_4-1-1-시스템-shutdown"><a href="#_4-1-1-시스템-shutdown" class="header-anchor">#</a> 4-1-1) 시스템 Shutdown</h4> <p>여기까지 만든 이미지를 복사해 놓기 위해서 Master를 잠시 Shutdown</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">shutdown</span> now
</code></pre></div><h4 id="_4-1-2-vm-복사"><a href="#_4-1-2-vm-복사" class="header-anchor">#</a> 4-1-2) VM 복사</h4> <p>VirtualBox UI를 통해 Master 선택 후 마우스 우클릭을 해서 [복제] 버튼 클릭</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span>. 이름 <span class="token builtin class-name">:</span> k8s-node1, MAC 주소정책 <span class="token builtin class-name">:</span> 모든 네트워크 어댑터의 새 MAC 주소 생성

<span class="token number">2</span>. 복제방식 <span class="token builtin class-name">:</span> 완전한 복제
</code></pre></div><blockquote><p>node2도 반복</p></blockquote> <h3 id="⏹4-2-config-node"><a href="#⏹4-2-config-node" class="header-anchor">#</a> ⏹4-2) Config Node</h3> <h4 id="_4-2-1-network-변경하기"><a href="#_4-2-1-network-변경하기" class="header-anchor">#</a> 4-2-1) Network 변경하기</h4> <p>VirtualBox UI에서 k8s-node1을 시작 시키면 뜨는 Console 창을 통해 아래 명령어 입력</p> <p>Host의 Ip Address를 변경하기 위해 아래 명령어로 설정을 열고</p> <p><code>vi /etc/sysconfig/network-scripts/ifcfg-eth0</code></p> <p>IPADDR=
부분을 해당 Node의 IP (192.168.0.31)로 변경</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>
<span class="token string">&quot;etho0&quot;</span>
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token string">&quot;192.168.0.31&quot;</span>
</code></pre></div><p>그리고 아래 명령어로 네트워크 재시작</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl restart network
</code></pre></div><h4 id="_4-2-2-host-name-변경"><a href="#_4-2-2-host-name-변경" class="header-anchor">#</a> 4-2-2) Host Name 변경</h4> <p>해당 Node의 Host 이름을 변경</p> <div class="language-bash extra-class"><pre class="language-bash"><code>hostnamectl set-hostname k8s-node1
</code></pre></div><p>이와 같은 방식으로 <code>k8s-node2(192.168.0.32)</code> 도 설정</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/7/2021, 5:47:34 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/til/kubernetes/03.GettingStartedKubernetes.html" class="prev">
        4.Kubernetes 시작하기
      </a></span> <span class="next"><a href="/til/kubernetes/05.Pod.html">
        6.Pod 설정 살펴보기
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/til/assets/js/app.bfbfa927.js" defer></script><script src="/til/assets/js/2.f827bc55.js" defer></script><script src="/til/assets/js/117.2a1c47b1.js" defer></script><script src="/til/assets/js/46.01e6df54.js" defer></script>
  </body>
</html>
