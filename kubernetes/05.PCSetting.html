<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Today Youngjun learnedâœ</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/til/images/logo-144.png">
    <link rel="manifest" href="/til/manifest.json">
    <meta name="description" content="Youngjun`s Personal Wiki (Today I Learned)">
    <link rel="preload" href="/til/assets/css/0.styles.5b390fac.css" as="style"><link rel="preload" href="/til/assets/js/app.3e1c319a.js" as="script"><link rel="preload" href="/til/assets/js/2.80896604.js" as="script"><link rel="preload" href="/til/assets/js/54.c7d816d7.js" as="script"><link rel="preload" href="/til/assets/js/7.e3c344f4.js" as="script"><link rel="prefetch" href="/til/assets/js/10.27b68f8a.js"><link rel="prefetch" href="/til/assets/js/11.5f5a4a8c.js"><link rel="prefetch" href="/til/assets/js/12.d5b89a8b.js"><link rel="prefetch" href="/til/assets/js/13.cca31fc6.js"><link rel="prefetch" href="/til/assets/js/14.52ddbc72.js"><link rel="prefetch" href="/til/assets/js/15.5519d7e5.js"><link rel="prefetch" href="/til/assets/js/16.3afa21dc.js"><link rel="prefetch" href="/til/assets/js/17.67f29a9b.js"><link rel="prefetch" href="/til/assets/js/18.bf4f38fb.js"><link rel="prefetch" href="/til/assets/js/19.29ff5f8c.js"><link rel="prefetch" href="/til/assets/js/20.79c72725.js"><link rel="prefetch" href="/til/assets/js/21.9e54bf1a.js"><link rel="prefetch" href="/til/assets/js/22.40a95d68.js"><link rel="prefetch" href="/til/assets/js/23.44fbb3cc.js"><link rel="prefetch" href="/til/assets/js/24.8e8e521a.js"><link rel="prefetch" href="/til/assets/js/25.36242eb6.js"><link rel="prefetch" href="/til/assets/js/26.4210c09f.js"><link rel="prefetch" href="/til/assets/js/27.8c0fcc7a.js"><link rel="prefetch" href="/til/assets/js/28.980adca0.js"><link rel="prefetch" href="/til/assets/js/29.c9db0159.js"><link rel="prefetch" href="/til/assets/js/3.896e2142.js"><link rel="prefetch" href="/til/assets/js/30.38d351ee.js"><link rel="prefetch" href="/til/assets/js/31.753e6ae4.js"><link rel="prefetch" href="/til/assets/js/32.8aeace8e.js"><link rel="prefetch" href="/til/assets/js/33.b7fed570.js"><link rel="prefetch" href="/til/assets/js/34.c526ee6e.js"><link rel="prefetch" href="/til/assets/js/35.2fa463cf.js"><link rel="prefetch" href="/til/assets/js/36.24fb02e8.js"><link rel="prefetch" href="/til/assets/js/37.2db22208.js"><link rel="prefetch" href="/til/assets/js/38.bcd6d0b8.js"><link rel="prefetch" href="/til/assets/js/39.10b5a52d.js"><link rel="prefetch" href="/til/assets/js/4.8390b990.js"><link rel="prefetch" href="/til/assets/js/40.9eac7e7b.js"><link rel="prefetch" href="/til/assets/js/41.1e6cfafb.js"><link rel="prefetch" href="/til/assets/js/42.142a8519.js"><link rel="prefetch" href="/til/assets/js/43.134b5406.js"><link rel="prefetch" href="/til/assets/js/44.82fb0b3f.js"><link rel="prefetch" href="/til/assets/js/45.b3dac9eb.js"><link rel="prefetch" href="/til/assets/js/46.d4a8b400.js"><link rel="prefetch" href="/til/assets/js/47.8aa0a7a1.js"><link rel="prefetch" href="/til/assets/js/48.623799d0.js"><link rel="prefetch" href="/til/assets/js/49.37504e39.js"><link rel="prefetch" href="/til/assets/js/5.55878b4e.js"><link rel="prefetch" href="/til/assets/js/50.2a60d3e4.js"><link rel="prefetch" href="/til/assets/js/51.7f991ddb.js"><link rel="prefetch" href="/til/assets/js/52.550b10e3.js"><link rel="prefetch" href="/til/assets/js/53.6653548f.js"><link rel="prefetch" href="/til/assets/js/55.0ad323a7.js"><link rel="prefetch" href="/til/assets/js/56.5d621f7c.js"><link rel="prefetch" href="/til/assets/js/57.f98ca734.js"><link rel="prefetch" href="/til/assets/js/58.2a94e910.js"><link rel="prefetch" href="/til/assets/js/59.46124e86.js"><link rel="prefetch" href="/til/assets/js/6.2e2edddd.js"><link rel="prefetch" href="/til/assets/js/60.6b0583aa.js"><link rel="prefetch" href="/til/assets/js/61.33a85e16.js"><link rel="prefetch" href="/til/assets/js/62.0ff46c35.js"><link rel="prefetch" href="/til/assets/js/63.532b1d3a.js"><link rel="prefetch" href="/til/assets/js/64.a0a82795.js"><link rel="prefetch" href="/til/assets/js/65.3b57fda1.js"><link rel="prefetch" href="/til/assets/js/66.bb602739.js"><link rel="prefetch" href="/til/assets/js/67.f5d88931.js"><link rel="prefetch" href="/til/assets/js/68.33f9ddfe.js"><link rel="prefetch" href="/til/assets/js/69.2fdb0aaf.js"><link rel="prefetch" href="/til/assets/js/70.2e8be5c6.js"><link rel="prefetch" href="/til/assets/js/71.147e6dc1.js"><link rel="prefetch" href="/til/assets/js/72.d2d6a912.js"><link rel="prefetch" href="/til/assets/js/73.1c01a69b.js"><link rel="prefetch" href="/til/assets/js/74.670dea98.js"><link rel="prefetch" href="/til/assets/js/75.afc826df.js"><link rel="prefetch" href="/til/assets/js/76.780a938e.js"><link rel="prefetch" href="/til/assets/js/77.ee2668de.js"><link rel="prefetch" href="/til/assets/js/78.1b69f9cf.js"><link rel="prefetch" href="/til/assets/js/8.ed6532c8.js"><link rel="prefetch" href="/til/assets/js/9.d8b8fce6.js">
    <link rel="stylesheet" href="/til/assets/css/0.styles.5b390fac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/til/" class="home-link router-link-active"><!----> <span class="site-name">Today Youngjun learnedâœ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ³ Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ğŸ‹ Kubernetes</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/til/kubernetes/00.Overview.html" class="sidebar-link">Kubernetesë€?</a></li><li><a href="/til/kubernetes/01.WhyKubernetes.html" class="sidebar-link">Why Kubernetes?</a></li><li><a href="/til/kubernetes/02.VMvsContainer.html" class="sidebar-link">VM vs Container</a></li><li><a href="/til/kubernetes/03.GettingStartedKubernetes.html" class="sidebar-link">Getting Started Kubernetes</a></li><li><a href="/til/kubernetes/04.setting.html" class="sidebar-link">/kubernetes/04.setting.html</a></li><li><a href="/til/kubernetes/05.PCSetting.html" aria-current="page" class="active sidebar-link">/kubernetes/05.PCSetting.html</a></li><li><a href="/til/kubernetes/06.Pod.html" class="sidebar-link">1. Container</a></li><li><a href="/til/kubernetes/07.Pod-Characteristic.html" class="sidebar-link">/kubernetes/07.Pod-Characteristic.html</a></li><li><a href="/til/kubernetes/08.Object-Service.html" class="sidebar-link">/kubernetes/08.Object-Service.html</a></li><li><a href="/til/kubernetes/09.Volume.html" class="sidebar-link">ê¸°ë³¸ Objecet - Volume</a></li><li><a href="/til/kubernetes/10.ConfigMap_Secret.html" class="sidebar-link">ê¸°ë³¸ Object - ConfigMap, Secret</a></li><li><a href="/til/kubernetes/11.Namespace-ResourceQuota-LimitRange.html" class="sidebar-link">ê¸°ë³¸ Object - Namespace, ResourceQuota, LimitRange ë€?</a></li><li><a href="/til/kubernetes/12.Controller-Replication&amp;Replicaset.html" class="sidebar-link">Controller - Replication &amp; ReplicaSet</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“˜ Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“— GCP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“™ Machine Learning</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“• Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’š Data Structure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>â¤ Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’™ Kubeflow</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ–¤ News</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’œ NGINX</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ¤ Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ¤ System Programming</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’› UX&amp;UI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’• Web</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>ë‚´ PCì—ì„œ ì‹¤ìŠµí•˜ê¸° - 1</p> <p>ìœˆë„ìš°ë‚˜ ë§¥ì´ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” Desktopê°€ 1ëŒ€ ìˆê³ , ê·¸ìœ„ì— VirtualBoxì™€ ê°™ì€ ë„êµ¬ë¥¼ ì´ìš©í•´ì„œ VMì„ ë§Œë“œëŠ” ê²½ìš°</p> <p>1-1) Install Virtualbox</p> <p>1-1-1) Virtualbox ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜
[ìœˆë„ìš°10 ë²„ì „ìœ¼ë¡œ ì§„í–‰] ì•„ë˜ ê²½ë¡œì—ì„œ [Windows hosts] í´ë¦­ í•˜ì—¬ ë‹¤ìš´ë¡œë“œ í›„ ì„¤ì¹˜ (ë³„ë‹¤ë¥¸ ë³€ê²½ ì—†ì´ Nextë§Œ í•¨)</p> <blockquote></blockquote> <p>https://www.virtualbox.org/wiki/Downloads</p> <p>Mac ì‚¬ìš©ì ì°¸ê³  URL</p> <blockquote><p>https://www.virtualbox.org/wiki/Mac%20OS%20X%20build%20instructions</p></blockquote> <p>1-1-2) CentOS Download
ì•„ë˜ ê²½ë¡œë¡œ ë“¤ì–´ê°€ì„œ ì›í•˜ëŠ” ê²½ë¡œì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ</p> <blockquote><p>http://isoredirect.centos.org/centos/7/isos/x86_64/</p></blockquote> <p>1-1-3) ì›ê²©ì ‘ì† íˆ´ MobaXterm ì„¤ì¹˜
ê¼­ MobaXtermì´ ì•„ë‹Œ ê°ì í¸í•œ ì›ê²©ì ‘ì† íˆ´ì„ ì‚¬ìš©í•˜ë©´ ë¨.
ì•„ë˜ ì˜ˆì œëŠ” MobaXtermë¥¼ ì„¤ì¹˜í•˜ê³  í•„ìš”í•œ Host ë“±ë¡ ì˜ˆì œ</p> <blockquote><p>https://mobaxterm.mobatek.net/</p></blockquote> <ul><li>[GET MOBAXTERM NOW] ë²„íŠ¼ í´ë¦­</li> <li>Free ë²„ì „ [Download now]</li> <li>Installer editon ë‹¤ìš´ë¡œë“œ ë° ì‹¤í–‰</li> <li>Sessions &gt; SSH &gt; Remote host : 192.168.0.30 &gt; [Bookmark settings] Session name : master-192.168.0.30 &gt; [ok]</li> <li>Sessions &gt; SSH &gt; Remote host : 192.168.0.31 &gt; [Bookmark settings] Session name : node1-192.168.0.31 &gt; [ok]</li> <li>Sessions &gt; SSH &gt; Remote host : 192.168.0.32 &gt; [Bookmark settings] Session name : node2-192.168.0.32 &gt; [ok]</li></ul> <p>2-1) Setting VM</p> <p>2-1-1) VM ìŠ¤í™ ì„¤ì •
ë©”ëª¨ë¦¬ ë° ë””ìŠ¤í¬ëŠ” ê°ì ìƒí™©ì— ë§ê²Œ ì°¸ê³ í•´ì„œ VM ì„¤ì •</p> <ol><li>[VM ìƒì„± 1ë‹¨ê³„] ë¨¸ì‹  &gt; ìƒˆë¡œ ë§Œë“¤ê¸° í´ë¦­</li> <li>[VM ìƒì„± 1ë‹¨ê³„] ì´ë¦„ : k8s-master, ì¢…ë¥˜: Linux, ë²„ì „: Other Linux(32-bit)</li> <li>[VM ìƒì„± 2ë‹¨ê³„] ë©”ëª¨ë¦¬ : 4096 MB</li> <li>[VM ìƒì„± 3ë‹¨ê³„] í•˜ë“œë””ìŠ¤í¬ : ì§€ê¸ˆ ìƒˆ ê°€ìƒ í•˜ë“œ ë””ìŠ¤í¬ ë§Œë“¤ê¸° (VDI:VirtualBox ë””í¬ìŠ¤ ì´ë¯¸ì§€, ë™ì í• ë‹¹, 150GB)</li> <li>[VM ìƒì„± í›„ ì‹œìŠ¤í…œ ì„¤ì •] í”„ë¡œì„¸ì„œ ê°œìˆ˜ : CPU 2ê°œ</li> <li>[VM ìƒì„± í›„ ì €ì¥ì†Œ ì„¤ì •] ì»¨íŠ¸ë¡¤ëŸ¬:IDE í•˜ìœ„ì— ìˆëŠ” ê´‘í•™ë“œë¼ì´ë¸Œ í´ë¦­ &gt; CentOS ì´ë¯¸ì§€ ì„ íƒ í›„ í™•ì¸</li> <li>[VM ìƒì„± í›„ ë„¤íŠ¸ì›Œí¬ ì„¤ì •] VM ì„ íƒ í›„ ì„¤ì • ë²„íŠ¼ í´ë¦­ &gt; ë„¤íŠ¸ì›Œí¬ &gt; ì–´ëŒ‘í„° 1 íƒ­ &gt; ë‹¤ìŒì— ì—°ê²°ë¨ [ì–´ëŒ‘í„°ì— ë¸Œë¦¬ì§€] ì„ íƒ</li> <li>ì‹œì‘</li></ol> <p>2-2) Install CentOS</p> <p>2-2-1) CentOS ì„¤ì¹˜
4ë²ˆ ë‹¨ê³„ì—ì„œÂ 
8.8.8.8
ëŠ” Google DNSì…ë‹ˆë‹¤. ì›í•˜ëŠ” DNS ì“°ë©´ ë¨</p> <ol><li>Test this media &amp; install CentOS 7</li> <li>Language : í•œêµ­ì–´</li> <li>Disk ì„¤ì • [ì‹œìŠ¤í…œ &gt; ì„¤ì¹˜ ëŒ€ìƒ]
<ul><li>[ê¸°íƒ€ ì €ì¥ì†Œ ì˜µì…˜ &gt; íŒŒí‹°ì…˜ ì„¤ì •] íŒŒí‹°ì…˜ì„ ì„¤ì •í•©ë‹ˆë‹¤. [ì²´í¬] í›„ [ì™„ë£Œ]</li> <li>ìƒˆë¡œìš´ CentOS ì„¤ì¹˜ &gt; ì—¬ê¸°ë¥¼ í´ë¦­í•˜ì—¬ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤. [í´ë¦­]</li> <li>/home [í´ë¦­] í›„ ìš©ëŸ‰ 5.12 GiBë¡œ ë³€ê²½ [ì„¤ì • ì—…ë°ì´íŠ¸ í´ë¦­]</li> <li>/ [í´ë¦­] í›„ 140 GiB ë³€ê²½ í›„ [ì„¤ì • ì—…ë°ì´íŠ¸ í´ë¦­]</li> <li>[ì™„ë£Œ], [ë³€ê²½ ì‚¬í•­ ì ìš©]</li></ul></li> <li>ë„¤íŠ¸ì›Œí¬ ì„¤ì • [ì‹œìŠ¤í…œ &gt; ë„¤íŠ¸ì›Œí¬ ë° í˜¸ìŠ¤íŠ¸ëª… ì„¤ì •]
<ul><li>í˜¸ìŠ¤íŠ¸ ì´ë¦„: k8s-master [ì ìš©]</li> <li>ì´ë”ë„· [ì¼¬], [ì„¤ì •], [IPv4 ì„¤ì •] íƒ­</li> <li>ë°©ì‹: ìˆ˜ë™ìœ¼ë¡œ ì„ íƒ,</li> <li>[Add] -&gt; ì£¼ì†Œ: 192.168.0.30, ë„·ë§ˆìŠ¤í¬ : 255.255.255.0, ê²Œì´íŠ¸ì›¨ì´: 192.168.0.1, DNS ì„œë²„ : 8.8.8.8 [ì €ì¥][ì™„ë£Œ]</li></ul></li> <li>ì„¤ì¹˜ì‹œì‘</li> <li>[ì„¤ì • &gt; ì‚¬ìš©ì ì„¤ì •] ROOT ì•”í˜¸ ì„¤ì •</li> <li>ì„¤ì¹˜ ì™„ë£Œ í›„ [ì¬ë¶€íŒ…]</li></ol> <p>ë‚´ PCì—ì„œ ì‹¤ìŠµí•˜ê¸° - 2</p> <p>3-1) Pre-Setting</p> <p>3-1-1) SELinux ì„¤ì •</p> <p>Ubuntuë‚˜ Debianë“± ë‹¤ë¥¸ OSë¥¼ ì„¤ì¹˜í•˜ë©´ ì°¸ê³ </p> <p>https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/</p> <p>https://kubernetes.io/docs/setup/production-environment/container-runtimes/#docker</p> <p>ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ Pod Networkì— í•„ìš”í•œ í˜¸ìŠ¤íŠ¸ íŒŒì¼ ì‹œìŠ¤í…œì— ì•¡ì„¸ìŠ¤ê°€ ê°€ëŠ¥í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œ í•„ìš”í•œ ì„¤ì •</p> <p>ì•„ë˜ ì„¤ì •ìœ¼ë¡œ SELinuxì„ permissiveë¡œ ë³€ê²½</p> <p>setenforce 0</p> <p>ë¦¬ë¶€íŒ…ì‹œ ë‹¤ì‹œ ì›ë³µë˜ê¸° ë•Œë¬¸ì— ì•„ë˜ ëª…ë ¹ì„ í†µí•´ì„œ ì˜êµ¬ì ìœ¼ë¡œ ë³€ê²½</p> <p>sed -i 's/^SELINUX=enforcing$/SELINUX=permissive/' /etc/selinux/config</p> <p>ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì„œ Current mode:permissive ë‚´ìš© í™•ì¸</p> <p>sestatus</p> <p>3-1-2) ë°©í™”ë²½ í•´ì œ</p> <p>firewalld ë¹„í™œì„±í™”</p> <p>systemctl stop firewalld &amp;&amp; systemctl disable firewalld</p> <p>NetworkManager ë¹„í™œì„±í™”</p> <p>systemctl stop NetworkManager &amp;&amp; systemctl disable</p> <p>NetworkManager</p> <p>3-1-3) Swap ë¹„í™œì„±í™”</p> <p>Swap ì‚¬ìš©ì— ê´€ë ¨í•œ ë‚´ìš©</p> <blockquote><p>https://github.com/kubernetes/kubernetes/issues/53533</p></blockquote> <p>ì°¸ê³ í•´ì„œ ì„¤ì •</p> <p>swapoff -a &amp;&amp; sed -i '/ swap / s/^/#/' /etc/fstab</p> <p>3-1-4) Iptables ì»¤ë„ ì˜µì…˜ í™œì„±í™”</p> <p>RHELì´ë‚˜ CentOS7 ì‚¬ìš© ì‹œ iptablesê°€ ë¬´ì‹œë¼ì„œ íŠ¸ë˜í”½ì´ ì˜ëª» ë¼ìš°íŒ…ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤ê³  í•˜ì—¬ ì•„ë˜ ì„¤ì •ì´ ì¶”ê°€</p> <p>cat &lt;<EOF>  /etc/sysctl.d/k8s.conf</EOF></p> <p>net.bridge.bridge-nf-call-ip6tables = 1</p> <p>net.bridge.bridge-nf-call-iptables = 1</p> <p>EOF</p> <p>sysctl --system</p> <p>3-1-5) ì¿ ë²„ë„¤í‹°ìŠ¤ YUM Repository ì„¤ì •</p> <p>YUMì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©</p> <blockquote><p>https://www.lesstif.com/display/1STB/yum</p></blockquote> <p>cat &lt;<EOF> /etc/yum.repos.d/kubernetes.repo</EOF></p> <p>[kubernetes]</p> <p>name=Kubernetes</p> <p>baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64</p> <p>enabled=1</p> <p>gpgcheck=1</p> <p>repo_gpgcheck=1</p> <p>gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg</p> <p>EOF</p> <p>3-1-6) Centos Update</p> <p>yum update</p> <p>3-1-7) Hosts ë“±ë¡</p> <p>ê³„íšëœ masterì™€ nodeì˜ í˜¸ìŠ¤íŠ¸ ì´ë¦„ê³¼ IPë¥¼ ëª¨ë‘ ë“±ë¡í•˜ê¸°</p> <p>ì•ˆí•˜ë©´ kubeadm initì‹œ Hostì´ë¦„ìœ¼ë¡œ IPë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ê³  ì—ëŸ¬ ë°œìƒ</p> <p>cat &lt;&lt; EOF &gt;&gt; /etc/hosts</p> <p>192.168.0.30 k8s-master</p> <p>192.168.0.31 k8s-node1</p> <p>192.168.0.32 k8s-node2</p> <p>EOF</p> <p>3-2) Install</p> <p>3-2-1) Docker ì„¤ì¹˜</p> <p>ë„ì»¤ ì„¤ì¹˜ ì „ì— í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜</p> <p>yum install -y yum-utils device-mapper-persistent-data lvm2</p> <p>ë„ì»¤ ì„¤ì¹˜ë¥¼ ìœ„í•œ ì €ì¥ì†Œ ë¥¼ ì„¤ì •</p> <p>yum-config-manager --add-repo</p> <p>https://download.docker.com/linux/centos/docker-ce.repo</p> <p>ë„ì»¤ íŒ¨í‚¤ì§€ ì„¤ì¹˜</p> <p><code>yum update &amp;&amp; yum install docker-ce-18.06.2.ce</code></p> <p><code>mkdir /etc/docker</code></p> <p><code>cat &gt; /etc/docker/daemon.json &lt;&lt;EOF</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;exec-opts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;native.cgroupdriver=systemd&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;log-driver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;json-file&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;log-opts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;max-size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100m&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;storage-driver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;overlay2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;storage-opts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;overlay2.override_kernel_check=true&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>EOF</code></p> <p><code>mkdir -p /etc/systemd/system/docker.service.d</code></p> <p>3-2-2) Kubernetes ì„¤ì¹˜</p> <p><code>yum install -y --disableexcludes=kubernetes kubeadm-1.15.5-0.x86_64 kubectl-1.15.5-0.x86_64 kubelet-1.15.5-0.x86_64</code></p> <p>4-1) Clone VM</p> <p>4-1-1) ì‹œìŠ¤í…œ Shutdown</p> <p>ì—¬ê¸°ê¹Œì§€ ë§Œë“  ì´ë¯¸ì§€ë¥¼ ë³µì‚¬í•´ ë†“ê¸° ìœ„í•´ì„œ Masterë¥¼ ì ì‹œ Shutdown</p> <p>shutdown now</p> <p>4-1-2) VM ë³µì‚¬</p> <p>VirtualBox UIë¥¼ í†µí•´ Master ì„ íƒ í›„ ë§ˆìš°ìŠ¤ ìš°í´ë¦­ì„ í•´ì„œ [ë³µì œ] ë²„íŠ¼ í´ë¦­</p> <ol><li><p>ì´ë¦„ : k8s-node1, MAC ì£¼ì†Œì •ì±… : ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì–´ëŒ‘í„°ì˜ ìƒˆ MAC ì£¼ì†Œ ìƒì„±</p></li> <li><p>ë³µì œë°©ì‹ : ì™„ì „í•œ ë³µì œ
node2ë„ ë°˜ë³µ</p></li></ol> <p>4-2) Config Node</p> <p>4-2-1) Network ë³€ê²½í•˜ê¸°</p> <p>VirtualBox UIì—ì„œ k8s-node1ì„ ì‹œì‘ ì‹œí‚¤ë©´ ëœ¨ëŠ” Console ì°½ì„ í†µí•´ ì•„ë˜ ëª…ë ¹ì–´ ì…ë ¥</p> <p>Hostì˜ Ip Addressë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´ ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì„¤ì •ì„ ì—´ê³ </p> <p><code>vi /etc/sysconfig/network-scripts/ifcfg-eth0</code></p> <p>IPADDR=
ë¶€ë¶„ì„ í•´ë‹¹ Nodeì˜ IP (192.168.0.31)ë¡œ ë³€ê²½</p> <div class="language- extra-class"><pre class="language-text"><code>DEVICE=
&quot;etho0&quot;
ONBOOT=&quot;yes&quot;
IPADDR=&quot;192.168.0.31&quot;
</code></pre></div><p>ê·¸ë¦¬ê³  ì•„ë˜ ëª…ë ¹ì–´ë¡œ ë„¤íŠ¸ì›Œí¬ ì¬ì‹œì‘</p> <p><code>systemctl restart network</code></p> <p>4-2-2) Host Name ë³€ê²½</p> <p>í•´ë‹¹ Nodeì˜ Host ì´ë¦„ì„ ë³€ê²½</p> <p><code>hostnamectl set-hostname k8s-node1</code></p> <p>ì´ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ k8s-node2(192.168.0.32) ë„ ì„¤ì •</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/19/2020, 2:23:21 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/til/kubernetes/04.setting.html" class="prev">
        /kubernetes/04.setting.html
      </a></span> <span class="next"><a href="/til/kubernetes/06.Pod.html">
        1. Container
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/til/assets/js/app.3e1c319a.js" defer></script><script src="/til/assets/js/2.80896604.js" defer></script><script src="/til/assets/js/54.c7d816d7.js" defer></script><script src="/til/assets/js/7.e3c344f4.js" defer></script>
  </body>
</html>
