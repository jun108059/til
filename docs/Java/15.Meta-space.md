# Meta space

**ëª©ì°¨**

- [Meta space](#meta-space)
    - [1. PermGen](#1-permgen)
    - [2. Metaspace](#2-metaspace)

JVMì˜ ì—¬ëŸ¬ ë©”ëª¨ë¦¬ ì˜ì—­ ì¤‘ì— **PermGen ë©”ëª¨ë¦¬ ì˜ì—­ì´ ì—†ì–´ì§€ê³ ** **Metaspace** **ì˜ì—­ì´ ìƒê²¼ë‹¤.**

## 1. PermGen

- ë©”ëª¨ë¦¬ êµ¬ì¡°

  ![memory](https://user-images.githubusercontent.com/42997924/142433257-9316af02-f095-4d9d-bd22-ce75ecb257e6.png)

[ğŸ”¼ì¶œì²˜](https://code-overflow.tistory.com/entry/%EC%9E%90%EB%B0%948-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B4%80%EB%A6%ACJava-8-Memory-Management-%EB%B3%80%ED%99%94?category=796033)

- permanent generation**, í´ë˜ìŠ¤ ë©”íƒ€ë°ì´í„°**ë¥¼ ë‹´ëŠ” ê³³.
- **Heap** ì˜ì—­ì— ì†í•¨.
- ê¸°ë³¸ê°’ìœ¼ë¡œ **ì œí•œëœ í¬ê¸°**ë¥¼ ê°€ì§€ê³  ìˆìŒ.
    - ë™ì ìœ¼ë¡œ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš° PermGen ì˜ì—­ì´ ê°€ë“ ì°¨ëŠ” ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ë©”ëª¨ë¦¬ ì—ëŸ¬ ë°œìƒ.
    - ìœ„ì˜ ë¬¸ì œë¥¼ ê·¼ë³¸ì ìœ¼ë¡œ í•´ê²°í•˜ë ¤ë©´ PermGen ì‚¬ì´ì¦ˆë¥¼ ëŠ˜ë¦¬ëŠ” ê²ƒì´ì•„ë‹ˆë¼ í´ë˜ìŠ¤ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼í•œë‹¤.
- XX:PermSize=N, PermGen ì´ˆê¸° ì‚¬ì´ì¦ˆ ì„¤ì •
- XX:MaxPermSize=N, PermGen ìµœëŒ€ ì‚¬ì´ì¦ˆ ì„¤ì •

## 2. Metaspace

- ë©”ëª¨ë¦¬ êµ¬ì¡°

  ![memory2](https://user-images.githubusercontent.com/42997924/142433263-79fb017a-97f5-4450-8b14-c470ccbe03c1.png)

[ğŸ”¼ì¶œì²˜](https://code-overflow.tistory.com/entry/%EC%9E%90%EB%B0%948-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B4%80%EB%A6%ACJava-8-Memory-Management-%EB%B3%80%ED%99%94?category=796033)

- **í´ë˜ìŠ¤ ë©”íƒ€ë°ì´í„°**ë¥¼ ë‹´ëŠ” ê³³.
- Heap ì˜ì—­ì´ ì•„ë‹ˆë¼, **Native ë©”ëª¨ë¦¬ ì˜ì—­**ì´ë‹¤.
- **ê¸°ë³¸ê°’ìœ¼ë¡œ ì œí•œëœ í¬ê¸°ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤.**
    - **Native ë©”ëª¨ë¦¬ ì˜ì—­ì´ ê°€ë“ì°° ë•Œê¹Œì§€ í•„ìš”í•œ ë§Œí¼ ê³„ì† ëŠ˜ì–´ë‚œë‹¤.**
    - Native ë©”ëª¨ë¦¬ ì˜ì—­ì´ ê°€ë“ì°¨ê²Œ ë˜ë©´ ì„œë²„ê°€ ì£½ëŠ” ì¹˜ëª…ì ì¸ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
    - ë”°ë¼ì„œ ìµœì†Œí•œ Metaspaceì˜ ìµœëŒ€ ì‚¬ì´ì¦ˆëŠ” ì„¤ì •í•´ì£¼ì–´ì•¼í•œë‹¤.
    - íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ ëª¨ë‹ˆí„°ë§ í•˜ì—¬ ìµœì ì˜ Metaspace ê°’ì„ ì°¾ì•„ ìµœëŒ€ê°’ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤. ë§Œì•½ ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ ë„ì¶œí•´ë‚¸ ì´ ê°’ì— ë©”ëª¨ë¦¬ ë¬¸ì œê°€ ìƒê¸°ë©´ ì–´ë”˜ê°€ì˜ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ì˜ì‹¬í•´ë³´ì•„ì•¼ í•œë‹¤.
- ìë°” 8ë¶€í„°ëŠ” PermGen ê´€ë ¨ java ì˜µì…˜ì€ ë¬´ì‹œí•œë‹¤.
- XX:MetaspaceSize=N, Metaspace ì´ˆê¸° ì‚¬ì´ì¦ˆ ì„¤ì •.
- XX:MaxMetaspaceSize=N, Metaspace ìµœëŒ€ ì‚¬ì´ì¦ˆ ì„¤ì •.

![memory-management](https://user-images.githubusercontent.com/42997924/142433643-30799d17-7afd-4e4f-8bb6-4bf9a079bd4c.png)

**Ref.**

- [https://code-overflow.tistory.com/entry/ìë°”8-ë©”ëª¨ë¦¬-ê´€ë¦¬Java-8-Memory-Management-ë³€í™”?category=796033](https://code-overflow.tistory.com/entry/%EC%9E%90%EB%B0%948-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B4%80%EB%A6%ACJava-8-Memory-Management-%EB%B3%80%ED%99%94?category=796033)
- [ë” ìë°”, Java 8, ë°±ê¸°ì„ ](https://www.inflearn.com/course/the-java-java8/dashboard)
- [PermGen Elimination project is promoting](http://mail.openjdk.java.net/pipermail/hotspot-dev/2012-September/006679.html)
- [[Java Memory Profilingì— ëŒ€í•˜ì—¬]â‘  JVM ë©”ëª¨ë¦¬ ì´í•´ì™€ ì¼€ì´ìŠ¤ ìŠ¤í„°ë””](https://m.post.naver.com/viewer/postView.nhn?volumeNo=23726161&memberNo=36733075)
- [[Java Memory Profilingì— ëŒ€í•˜ì—¬]â‘¡ ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§ê³¼ ì›ì¸ë¶„ì„](https://m.post.naver.com/viewer/postView.nhn?volumeNo=24042502&memberNo=36733075)
- [Java 8: From PermGen to Metaspace](https://dzone.com/articles/java-8-permgen-metaspace)
- [One important change in Memory Management in Java 8](http://karunsubramanian.com/websphere/one-important-change-in-memory-management-in-java-8/)