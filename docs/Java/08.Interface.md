# ì¸í„°í˜ì´ìŠ¤ì˜ ë³€í™”

## 1. ì¸í„°í˜ì´ìŠ¤ ê¸°ë³¸ ë©”ì†Œë“œì™€ ìŠ¤íƒœí‹± ë©”ì†Œë“œ

> Java 8 ë¶€í„°ëŠ” ì¸í„°í˜ì´ìŠ¤ì—ë„ ë©”ì†Œë“œ ì„ ì–¸ë¿ë§Œ ì•„ë‹ˆë¼ `default method` ì™€ `static method`ë¥¼ í†µí•´ êµ¬í˜„ì´ ê°€ëŠ¥í•´ì¡Œë‹¤. 

### 1-1. Default method (ê¸°ë³¸ ë©”ì†Œë“œ)

```java
public interface Foo {
  void printName();
}
```

```java
public class DefaultFoo implements Foo{
    @Override
    public void printName() {
        System.out.println("DefaultFoo");
    }
}
```

Foo ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤ê°€ ë§ì•„ì§€ë©´, ìƒˆë¡œìš´ ê¸°ëŠ¥ì˜ ë©”ì†Œë“œë¥¼ ì„ ì–¸í–ˆì´ ì¶”ê°€ëì„ ë•Œ êµ¬í˜„ì²´ ëª¨ë‘ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒ.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, `Default Method` ë“±ì¥!

```java
public interface Foo {
    void printName();
		//ê¸°ë³¸ ë©”ì†Œë“œ(Default Method)
    default void printNameUpperCase(){
        System.out.println("FOO");
    }
}
```
```java
public static void main(String[] args){
      Foo foo = new DefaultFoo();
      foo.printName();
      foo.printNameUpperCase();
}
```

- `ì¥ì ` í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ê¹¨íŠ¸ë¦¬ì§€ ì•Šê³  ìƒˆ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ.
- `ì£¼ì˜í•  ì ` ê¸°ë³¸ ë©”ì†Œë“œëŠ” êµ¬í˜„ì²´ê°€ ëª¨ë¥´ê²Œ ì¶”ê°€ëœ ê¸°ëŠ¥ì´ê¸° ë•Œë¬¸ì—, ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆìŒ.

```java
public interface Foo {
    void printName();    
    default void printNameUpperCase() {
        System.out.println(getName().toUpperCase());
    }
    String getName(); // Name ê°’ì´ í•­ìƒ ìˆë‹¤ê³  ë³´ì¥í•  ìˆ˜ ì—†ë‹¤.                        
    // name = null -> NullPointException
}
```
- **ì»´íŒŒì¼ ì—ëŸ¬ëŠ” ì•„ë‹ˆì§€ë§Œ êµ¬í˜„ì²´ì— ë”°ë¼ ëŸ°íƒ€ì„ ì—ëŸ¬ ë°œìƒ ê°€ëŠ¥**
- **ë°˜ë“œì‹œ ë¬¸ì„œí™”** (`@ImplSpec` ìë°”ë… íƒœê·¸ ì‚¬ìš©)

```java
/**
 * @ImplSpec
 * ì´ êµ¬í˜„ì²´ëŠ” getName()ìœ¼ë¡œ ê°€ì ¸ì˜¨ ë¬¸ìì—´ì„ ëŒ€ë¬¸ìë¡œ ë³€í™˜ í›„ ì¶œë ¥í•œë‹¤.
 */
default void printNameUpperCase() {
    System.out.println(getName().toUpperCase());
}
```

ì´ë˜ë„ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ëŠ” êµ¬í˜„ í´ë˜ìŠ¤ì—ì„œ `Overriding` ì„ ì´ìš©í•´ ì¬ì •ì˜ í•  ìˆ˜ ìˆë‹¤.

- `ì£¼ì˜í•  ì ` **Objectê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥**ì€ default ë©”ì†Œë“œë¡œ ì œê³µí•  ìˆ˜ ì—†ë‹¤.
  - `equals`, `hashCode` ë“±
  - êµ¬í˜„ì²´ê°€ ì¬ì •ì˜ í•´ì•¼í•œë‹¤!
  - ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì¶”ìƒ ë©”ì„œë“œë¡œ ì„ ì–¸í•˜ëŠ” ê²ƒì€ ê´œì°®ë‹¤.
    - ëª¨ë‘ ê³µí†µìœ¼ë¡œ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ì¶”ìƒ ë©”ì„œë“œë¡œ ë¶„ë¥˜í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ë³¸ì¸ì´ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ë§Œ ìˆ˜ì • ê°€ëŠ¥í•˜ë‹¤.
- ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” ì¸í„°í˜ì´ìŠ¤ì—ì„œ ë‹¤ì‹œ ì¶”ìƒ ë©”ì†Œë“œë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

**êµ¬í˜„ì²´ê°€ ìƒì†ë°›ëŠ” ë‘ ì¸í„°í˜ì´ìŠ¤ ëª¨ë‘ ë™ì¼í•œ ê¸°ë³¸ ë©”ì†Œë“œê°€ ìˆëŠ” ê²½ìš°?**

```java
public interface Foo {
    default void getNameUpperCase() {
        ...
    }
}
public interface Bar extends Foo {
    void getNameUpperCase();  // ì¶”ìƒ ë©”ì„œë“œë¡œ ì„ ì–¸í•œ ê²½ìš° êµ¬í˜„ í´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜ í•„ìˆ˜    
    // ì¶”ìƒ ë©”ì„œë“œë¡œ ì„ ì–¸ í•˜ì§€ ì•Šì€ ê²½ìš° ìƒìœ„ ì¸í„°í˜ì´ìŠ¤ ê·¸ëŒ€ë¡œ ì‚¬ìš© ê°€ëŠ¥
}
```

```java
public interface Foo {
    default void getNameUpperCase() {
        System.out.println("Foo");    
    }
}
public interface Bar {
    default void getNameUpperCase() {
        System.out.println("Bar");    
    }
}
public class Test implements Foo, Bar {
    ...
      // @Override      
      // public void printNameUpperCase() {      
      //    ...      
      // }
}
```
> `Error`: **DefaultFoo inherits unrelated defaults for printNameUpperCase() from types Foo and Bar**

  - Bar, Foo ì¤‘ ë¬´ì—‡ì„ ì‚¬ìš©í• ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— **ì»´íŒŒì¼ ì—ëŸ¬** ë°œìƒ
  - ì¶©ëŒí•˜ëŠ” default method ì§ì ‘ override í•´ì•¼í•œë‹¤.

### 1-2. Static method (ì •ì  ë©”ì†Œë“œ)

> í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ë‚˜ í•´ë‹¹ íƒ€ì…ì— ê´€ë ¨ëœ í—¬í¼ ë˜ëŠ” ìœ í‹¸ë¦¬í‹° ë©”ì†Œë“œë¥¼ ì œê³µí•  ë•Œ ì¸í„°í˜ì´ìŠ¤ì— static method ì œê³µ ê°€ëŠ¥

```java
public interface Foo {
    void printName();

    default void hello(){
        System.out.println("Foo");
    }
    static void helloAll(){
        System.out.println("ì¸ì‚¿ë§");
    }
}
```

```java
public class App {
    public static void main(String[] args) {
        Foo foo = new DefaultFoo();
        foo.hello();
        
        Foo.helloAll(); // static ë©”ì†Œë“œ ì‚¬ìš©
    }
}
```


## 2. ìë°”8 APIì˜ ê¸°ë³¸ ë©”ì†Œë“œì™€ ìŠ¤íƒœí‹± ë©”ì†Œë“œ

JAVA8 ì—ì„œ ì¶”ê°€ëœ ê¸°ë³¸ ë©”ì†Œë“œë¡œ ì¸í•´ API ì— ë³€í™”ì— ëŒ€í•´ ì•Œì•„ë³´ì 

### 2-1. Iterable

**[ê³µì‹ ë¬¸ì„œ](https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html)**

> ìˆœíšŒë¥¼ í¸í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤!
 
**forEach()**
```java
public static void main(String[] args) {
    List<String> names = new ArrayList<>();
    names.add("catsbi");
    names.add("hansol");
    names.add("toby");
    names.add("mijeong");

    names.forEach(System.out::println);
		
    // for (String name : names) {
    //    System.out.println(name);
    // }
}
```
1. `names.forEach(System.out::println)`
   - forEach ëŠ” ë‚´ë¶€ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ìˆœíšŒí•˜ë©° ê°ê°ì˜ ìš”ì†Œë“¤ì„ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ëœ ì¼ê¸‰í•¨ìˆ˜ì— Functional Interfaceì¸ Consumerê°€ ë“¤ì–´ì˜¤ê³  ì²˜ë¦¬. 
   - ë‹¨ìˆœ ì¶œë ¥ë§Œ í•˜ê¸° ë•Œë¬¸ì— ë©”ì†Œë“œ ë ˆí¼ëŸ°ìŠ¤ ê¸°ëŠ¥ì„ ì´ìš©í•´ ê°„ê²°í•˜ê²Œ ì‘ì„±!
2. `for-of{...}`
   - ê¸°ì¡´ì—ëŠ” for-of ë¬¸ì„ ì‚¬ìš©í•´ ì¶œë ¥ì´ ê°€ëŠ¥í•˜ë‹¤ê³  í•¨.
   - í•˜ì§€ë§Œ ì¡°ê¸ˆì´ë‚˜ë§ˆ ë” ê°„ê²°í•œ forEachë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì•„ ë³´ì„.

### 2-2. Collection

> `Iterable` ì„ ìƒì†ë°›ëŠ” ì¸í„°í˜ì´ìŠ¤ë‹¤!

**[ê³µì‹ ë¬¸ì„œ](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html)**

**spliterator**

> iterator ì™€ ë¹„ìŠ·í•œ ê°œë…ì´ì§€ë§Œ Collection ì„ ë¶„í• í•œë‹¤ëŠ” ì ì—ì„œ ì°¨ì´ê°€ ìˆìŒ.

```java
public static void main(String[] args) {
    List<String> names = new ArrayList<>();
    names.add("yj");
    names.add("youngjun");
    names.add("spring");
    names.add("java8");

    Spliterator<String> spliterator = names.spliterator();
    while(spliterator.tryAdvance(System.out::println));
}
```

1. Spliterator<String> spliterator = names.spliterator(); 
   - iteratorì™€ ë¹„ìŠ·í•˜ì§€ë§Œ ë¶„í• í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ê°€ì§„ Iterator ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜
2. spliterator.tryAdvance(System.out::println)
   - iteratorì˜ hasNext()ë©”ì†Œë“œì™€ ìœ ì‚¬
   - ë‹¤ë§Œ ë‚´ë¶€ ë©”ì†Œë“œì— íŒŒë¼ë¯¸í„°ë¡œ forEach()ì™€ ë™ì¼í•˜ê²Œ Functional Interfaceì¸ Consumerê°€ ë“¤ì–´ì˜¤ê³  ë” ì´ìƒ ë“¤ì–´ì˜¬ê²Œ ì—†ì„ ê²½ìš° falseë¥¼ ë°˜í™˜
   - ì´ ì˜ˆì œì—ì„œëŠ” ë“¤ì–´ì˜¨ ê°’ì„ ë‹¨ìˆœ ì¶œë ¥í•˜ëŠ” ë©”ì†Œë“œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì‚¬ìš©

> ì—¬ê¸°ê¹Œì§€ëŠ” iteratorì™€ ì°¨ì´ê°€ ì—†ë‹¤. trySplitì„ ì‚¬ìš©í•´ë³´ì.

```java
public static void main(String[] args) {
    List<String> names = new ArrayList<>();
    names.add("yj");
    names.add("youngjun");
    names.add("spring");
    names.add("java8");

    Spliterator<String> spliterator = names.spliterator();
    Spliterator<String> trySplit = spliterator.trySplit();
    while(spliterator.tryAdvance(System.out::println));
    System.out.println("=========================");
    while(trySplit.tryAdvance(System.out::println));
}

/*
[ì‹¤í–‰ ê²°ê³¼]
spring
java8
=========================
yj
youngjun
*/
```

1. `Spliterator<String> trySplit = spliterator.trySplit();` 
   - spliteratorì—ì„œ trySplit()ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ê²Œë˜ë©´ í•´ë‹¹ spliteratorì—ì„œ ì•ì—ì„œë¶€í„° ì ˆë°˜ì˜ ìš”ì†Œë¥¼ êº¼ë‚´ ìƒˆë¡œìš´ spliteratorë¥¼ ë§Œë“¤ì–´ ë°˜í™˜

    <img src = "https://user-images.githubusercontent.com/42997924/139379819-9390b364-6120-4b51-a766-79b4a6d81e8e.png" width="50%" height="50%">

    ğŸ”¼ trySplit() ì‹¤í–‰ ê²°ê³¼

2. `while(spliterator.tryAdvance(System.out::println));` 
   - trySplit()ì„ í†µí•´ ì•ì˜ ë‘ String(yj, youngjun)ì´ ë¶„í• ë˜ì–´ ë¹ ì ¸ë‚˜ê°”ê¸° ë•Œë¬¸ì— ë’¤ì˜ ë‘ ê°’ë§Œ ì¶œë ¥
3. `while(trySplit.tryAdvance(System.out::println));`
   - spliterator ì—ì„œ ê°€ì ¸ì˜¨ ì• ë‘ ê°’(yj, youngjun)ì„ ì¶œë ¥

**removeIf**

> Collection ìš”ì†Œë¥¼ ìˆœíšŒí•˜ë©° ì¸ìë¡œ ë„˜ê²¨ì£¼ëŠ” í•¨ìˆ˜ë¥¼ Functional Interfaceì¸ Predicateì— ë„˜ê²¨ì¤˜ì„œ true ì´ë©´ ì‚­ì œ

```java
public static void main(String[] args) {
    List<String> names = new ArrayList<>();
    names.add("yj");
    names.add("youngjun");
    names.add("spring");
    names.add("java8");

    names.removeIf(s -> s.startsWith("y"));
    names.forEach(System.out::println);
}
```

1. `names.removeIf(s -> s.startsWith("y"));`
   - namesë¥¼ ìˆœíšŒí•˜ë©° ê° ìš”ì†Œë“¤ ì¤‘ ë‹¨ì–´ê°€ 'y'ë¡œ ì‹œì‘í•˜ëŠ” ë‹¨ì–´ë¥¼ ì°¾ì•„ ì‚­ì œ

### 2-3. Comparator

[ê³µì‹ë¬¸ì„œ](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html)

> ì •ë ¬ì— ì‚¬ìš©ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤

**reversed**

> ì •ë ¬ì„ ì—­ìˆœìœ¼ë¡œ!

```java
public static void main(String[] args) {
    List<String> names = new ArrayList<>();
    names.add("yj");
    names.add("youngjun");
    names.add("spring");
    names.add("java8");

    Comparator<String> compareToIgnoreCase = String::compareToIgnoreCase;
    names.sort(compareToIgnoreCase.reversed());
    names.forEach(System.out::println);
}
```

1. `Comparator<String> compareToIgnoreCase = String::compareToIgnoreCase`
   - ë©”ì†Œë“œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ë©”ì†Œë“œ ì²´ì´ë‹ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í• ìˆ˜ëŠ” ì—†ê¸°ì— ë¶„ë¦¬í•˜ì—¬ Comparator íƒ€ì…ì˜ Functional Interfaceì¸ compareToIgnoreCase ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.
2. `names.sort(compareToIgnoreCase.reversed());`
   - ë¯¸ë¦¬ ì„ ì–¸í•´ë†“ì€ String ì˜ ì •ë ¬ ê¸°ì¤€ ë©”ì†Œë“œ ë ˆí¼ëŸ°ìŠ¤ì— `reversed()` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ ì—­ìˆœìœ¼ë¡œ ì •ë ¬

> â“ ë§Œì•½, ì—¬ê¸°ì„œ ë‹¤ìŒ ì •ë ¬ì¡°ê±´ì„ ì‚¬ìš©í•˜ì—¬ ì •ë ¬ì„ ì´ì–´ê°€ê³ ì‹¶ë‹¤ë©´ thenComparing() ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ì—¬ ì¶”ê°€ì ì¸ ì •ë ¬ì„ í•  ìˆ˜ ìˆë‹¤.

---

## Reference

- [ë°±ê¸°ì„  ì¸í”„ëŸ° ê°•ì˜ : ë” ìë°”, Java8](https://www.inflearn.com/course/the-java-java8/dashboard)