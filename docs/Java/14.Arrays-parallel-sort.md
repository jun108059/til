# ë°°ì—´ ë³‘ë ¬ ì •ë ¬

**ëª©ì°¨**

- [ë°°ì—´ ë³‘ë ¬ ì •ë ¬](#ë°°ì—´-ë³‘ë ¬-ì •ë ¬)
    - [1. Arrays.parallelSort()](#1-arraysparallelsort)
    - [2. ë³‘ë ¬ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜](#2-ë³‘ë ¬-ì •ë ¬-ì•Œê³ ë¦¬ì¦˜)
    - [3. sort()ì™€ parallelSort() ë¹„êµ](#3-sortì™€-parallelsort-ë¹„êµ)

## 1. Arrays.parallelSort()

- Fork/Join í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•´ì„œ ë°°ì—´ì„ ë³‘ë ¬ë¡œ ì •ë ¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

## 2. ë³‘ë ¬ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜

- ë°°ì—´ì„ ë‘˜ë¡œ ê³„ì† ìª¼ê° ë‹¤.
- í•©ì¹˜ë©´ì„œ ì •ë ¬í•œë‹¤.

## 3. sort()ì™€ parallelSort() ë¹„êµ

- ì•Œê³ ë¦¬ì¦˜ íš¨ì¸Œì„±ì€ ê°™ë‹¤.
    - ì‹œê°„ë³µì¡ë„ : O(n logN)
    - ê³µê°„ë³µì¡ë„ : O(n)

> **ë‹¨, ì •ë ¬í•˜ëŠ” ë°°ì—´ì˜ í¬ê¸°ì—ë”°ë¼ ì†ë„ê°€ ì°¨ì´ë‚  ìˆ˜ ìˆë‹¤.**

```java
public class App {
	public static void main(@Chicken String[] args) {
		int size = 1500;
		int[] numbers = new int[size];
		Random random = new Random();
		IntStream.range(0, size).forEach(i -> numbers[i] = random.nextInt());

		// ì‹±ê¸€ ì“°ë ˆë“œ ì‚¬ìš© (ì¼ë°˜ ì •ë ¬ ì‹œê°„ ì¸¡ì •)
		long start = System.nanoTime();
		Arrays.sort(numbers);
		System.out.println("serial sorting took " + (System.nanoTime() - start));

		// ë©€í‹° ì“°ë ˆë“œ ì‚¬ìš© (ë³‘ë ¬ ì •ë ¬ ì‹œê°„ ì¸¡ì •)
		IntStream.range(0, size).forEach(i -> numbers[i] = random.nextInt());
		start = System.nanoTime();
		Arrays.parallelSort(numbers);
		System.out.println("parallel sorting took " + (System.nanoTime() - start));
	}
}
```

```bash
serial sorting took 1127801
parallel sorting took 612500
```

#### `ì°¸ê³ `

sizeê°€ 15000ì¼ ë•Œ ë‚˜ì˜¤ëŠ” ì†ë„

```bash
serial sorting took 5023800
parallel sorting took 14654200
```

**Arrays.sort()**

- Arrays.sort() ì•Œê³ ë¦¬ì¦˜ì€ ê¸°ë³¸ì ìœ¼ë¡œ **DualPivotQuicksort**ë¥¼ ì‚¬ìš©í•œë‹¤.

ì´ ì•Œê³ ë¦¬ì¦˜ì€ ê¸°ë³¸ì ìœ¼ë¡œ

1. Insertion Sort
2. Merge Sort
3. Quick Sort

ìœ„ 3ê°œì˜ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ”ë° ë³´í†µ 1,2, 1,3ì„ ì„ì–´ì„œ ì‚¬ìš©í•œë‹¤.

**Arrays.parallelSort()**

- ë°˜ë©´ **Arrays.parallelSort()** ëŠ” Merge Sortë¥¼ ì‚¬ìš©í•¨.

![img](https://user-images.githubusercontent.com/42997924/142432355-c0758fab-378e-461d-ba78-119768453867.png)

- in-place ì •ë ¬ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë°°ì—´ì´ ì»¤ì§€ë©´ ëŠë ¤ì§ˆ ìˆ˜ ë°–ì— ì—†ë‹¤.
- [ìì„¸í•œ ë‚´ìš©ì€ ì—¬ê¸¸ ì°¸ê³ í•˜ì](https://gmlwjd9405.github.io/2018/05/08/algorithm-merge-sort.html)

# Meta space

JVMì˜ ì—¬ëŸ¬ ë©”ëª¨ë¦¬ ì˜ì—­ ì¤‘ì— **PermGen ë©”ëª¨ë¦¬ ì˜ì—­ì´ ì—†ì–´ì§€ê³ ** **Metaspace** **ì˜ì—­ì´ ìƒê²¼ë‹¤.**

## 1. PermGen

- ë©”ëª¨ë¦¬ êµ¬ì¡°

  ![memory](https://user-images.githubusercontent.com/42997924/142433257-9316af02-f095-4d9d-bd22-ce75ecb257e6.png)

[ğŸ”¼ì¶œì²˜](https://code-overflow.tistory.com/entry/%EC%9E%90%EB%B0%948-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B4%80%EB%A6%ACJava-8-Memory-Management-%EB%B3%80%ED%99%94?category=796033)

- permanent generation**, í´ë˜ìŠ¤ ë©”íƒ€ë°ì´í„°**ë¥¼ ë‹´ëŠ” ê³³.
- **Heap** ì˜ì—­ì— ì†í•¨.
- ê¸°ë³¸ê°’ìœ¼ë¡œ **ì œí•œëœ í¬ê¸°**ë¥¼ ê°€ì§€ê³  ìˆìŒ.
    - ë™ì ìœ¼ë¡œ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš° PermGen ì˜ì—­ì´ ê°€ë“ ì°¨ëŠ” ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ë©”ëª¨ë¦¬ ì—ëŸ¬ ë°œìƒ.
    - ìœ„ì˜ ë¬¸ì œë¥¼ ê·¼ë³¸ì ìœ¼ë¡œ í•´ê²°í•˜ë ¤ë©´ PermGen ì‚¬ì´ì¦ˆë¥¼ ëŠ˜ë¦¬ëŠ” ê²ƒì´ì•„ë‹ˆë¼ í´ë˜ìŠ¤ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼í•œë‹¤.
- XX:PermSize=N, PermGen ì´ˆê¸° ì‚¬ì´ì¦ˆ ì„¤ì •
- XX:MaxPermSize=N, PermGen ìµœëŒ€ ì‚¬ì´ì¦ˆ ì„¤ì •
