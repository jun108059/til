<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ì˜µì €ë²„ (Observer) íŒ¨í„´ | Today Youngjun learnedâœ</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/til/images/logo-144.png">
    <link rel="manifest" href="/til/manifest.json">
    <meta name="description" content="Youngjun`s Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/til/assets/css/0.styles.5b85764b.css" as="style"><link rel="preload" href="/til/assets/js/app.4da9ca1b.js" as="script"><link rel="preload" href="/til/assets/js/2.f827bc55.js" as="script"><link rel="preload" href="/til/assets/js/120.ba61235a.js" as="script"><link rel="preload" href="/til/assets/js/46.01e6df54.js" as="script"><link rel="prefetch" href="/til/assets/js/10.d7bebace.js"><link rel="prefetch" href="/til/assets/js/100.10add18d.js"><link rel="prefetch" href="/til/assets/js/101.fc5a0940.js"><link rel="prefetch" href="/til/assets/js/102.7a32911f.js"><link rel="prefetch" href="/til/assets/js/103.b87f99b0.js"><link rel="prefetch" href="/til/assets/js/104.568ac1fd.js"><link rel="prefetch" href="/til/assets/js/105.a6266b36.js"><link rel="prefetch" href="/til/assets/js/106.6f9f3240.js"><link rel="prefetch" href="/til/assets/js/107.4b11e714.js"><link rel="prefetch" href="/til/assets/js/108.3b50a929.js"><link rel="prefetch" href="/til/assets/js/109.d62e2365.js"><link rel="prefetch" href="/til/assets/js/11.0f06add5.js"><link rel="prefetch" href="/til/assets/js/110.b5535820.js"><link rel="prefetch" href="/til/assets/js/111.4cb0279a.js"><link rel="prefetch" href="/til/assets/js/112.af713b0f.js"><link rel="prefetch" href="/til/assets/js/113.15fc01bd.js"><link rel="prefetch" href="/til/assets/js/114.27a3c9f9.js"><link rel="prefetch" href="/til/assets/js/115.b29b8bd0.js"><link rel="prefetch" href="/til/assets/js/116.1a75c525.js"><link rel="prefetch" href="/til/assets/js/117.c3985c54.js"><link rel="prefetch" href="/til/assets/js/118.8bbde709.js"><link rel="prefetch" href="/til/assets/js/119.0a6e4091.js"><link rel="prefetch" href="/til/assets/js/12.32cd872d.js"><link rel="prefetch" href="/til/assets/js/121.1d19845e.js"><link rel="prefetch" href="/til/assets/js/122.76352e08.js"><link rel="prefetch" href="/til/assets/js/123.bdf6c8ad.js"><link rel="prefetch" href="/til/assets/js/124.65d6a68f.js"><link rel="prefetch" href="/til/assets/js/125.ba572baa.js"><link rel="prefetch" href="/til/assets/js/126.6362e5f7.js"><link rel="prefetch" href="/til/assets/js/127.278e8d96.js"><link rel="prefetch" href="/til/assets/js/128.940585f8.js"><link rel="prefetch" href="/til/assets/js/129.fcdae323.js"><link rel="prefetch" href="/til/assets/js/13.36b91a88.js"><link rel="prefetch" href="/til/assets/js/130.9ce02b8f.js"><link rel="prefetch" href="/til/assets/js/131.c4f8380d.js"><link rel="prefetch" href="/til/assets/js/132.466b27f2.js"><link rel="prefetch" href="/til/assets/js/133.a74b2bcf.js"><link rel="prefetch" href="/til/assets/js/134.cd262fd3.js"><link rel="prefetch" href="/til/assets/js/135.db0c46d2.js"><link rel="prefetch" href="/til/assets/js/136.8d7c3ae2.js"><link rel="prefetch" href="/til/assets/js/137.095348af.js"><link rel="prefetch" href="/til/assets/js/138.971c20da.js"><link rel="prefetch" href="/til/assets/js/139.b9cae344.js"><link rel="prefetch" href="/til/assets/js/14.59abe798.js"><link rel="prefetch" href="/til/assets/js/140.a9ce3dbf.js"><link rel="prefetch" href="/til/assets/js/141.8021e478.js"><link rel="prefetch" href="/til/assets/js/142.3a7d65a4.js"><link rel="prefetch" href="/til/assets/js/143.2ee38d57.js"><link rel="prefetch" href="/til/assets/js/144.03291af7.js"><link rel="prefetch" href="/til/assets/js/145.b5ab18e9.js"><link rel="prefetch" href="/til/assets/js/146.065a6b7e.js"><link rel="prefetch" href="/til/assets/js/147.d31a5026.js"><link rel="prefetch" href="/til/assets/js/148.5b2a7f31.js"><link rel="prefetch" href="/til/assets/js/149.17fec1d0.js"><link rel="prefetch" href="/til/assets/js/15.dc412a0b.js"><link rel="prefetch" href="/til/assets/js/150.427e1cc8.js"><link rel="prefetch" href="/til/assets/js/151.579a53fa.js"><link rel="prefetch" href="/til/assets/js/152.01535ad9.js"><link rel="prefetch" href="/til/assets/js/153.60074c9b.js"><link rel="prefetch" href="/til/assets/js/154.8e3ca391.js"><link rel="prefetch" href="/til/assets/js/155.b9048e3a.js"><link rel="prefetch" href="/til/assets/js/156.de682c3e.js"><link rel="prefetch" href="/til/assets/js/157.d4677d55.js"><link rel="prefetch" href="/til/assets/js/158.4e1c4361.js"><link rel="prefetch" href="/til/assets/js/159.0f90e010.js"><link rel="prefetch" href="/til/assets/js/16.443cd41c.js"><link rel="prefetch" href="/til/assets/js/160.29f51c86.js"><link rel="prefetch" href="/til/assets/js/17.a5cdb965.js"><link rel="prefetch" href="/til/assets/js/18.0d484a85.js"><link rel="prefetch" href="/til/assets/js/19.1c3892bc.js"><link rel="prefetch" href="/til/assets/js/20.8937f56e.js"><link rel="prefetch" href="/til/assets/js/21.fddd6515.js"><link rel="prefetch" href="/til/assets/js/22.a8d8c325.js"><link rel="prefetch" href="/til/assets/js/23.bce98148.js"><link rel="prefetch" href="/til/assets/js/24.9742c20f.js"><link rel="prefetch" href="/til/assets/js/25.43488937.js"><link rel="prefetch" href="/til/assets/js/26.cfda8508.js"><link rel="prefetch" href="/til/assets/js/27.e5d8505d.js"><link rel="prefetch" href="/til/assets/js/28.c07fc438.js"><link rel="prefetch" href="/til/assets/js/29.9392ca02.js"><link rel="prefetch" href="/til/assets/js/3.c419595a.js"><link rel="prefetch" href="/til/assets/js/30.f00fd4d5.js"><link rel="prefetch" href="/til/assets/js/31.30deb5f6.js"><link rel="prefetch" href="/til/assets/js/32.230901ce.js"><link rel="prefetch" href="/til/assets/js/33.ff775729.js"><link rel="prefetch" href="/til/assets/js/34.14ba38de.js"><link rel="prefetch" href="/til/assets/js/35.58ab0557.js"><link rel="prefetch" href="/til/assets/js/36.48ee3df6.js"><link rel="prefetch" href="/til/assets/js/37.d923853e.js"><link rel="prefetch" href="/til/assets/js/38.d261d060.js"><link rel="prefetch" href="/til/assets/js/39.9837999e.js"><link rel="prefetch" href="/til/assets/js/4.45c650f4.js"><link rel="prefetch" href="/til/assets/js/40.2d9bc2a1.js"><link rel="prefetch" href="/til/assets/js/41.1e89639e.js"><link rel="prefetch" href="/til/assets/js/42.83d0c922.js"><link rel="prefetch" href="/til/assets/js/43.d4b3b5a0.js"><link rel="prefetch" href="/til/assets/js/44.a0dcaecc.js"><link rel="prefetch" href="/til/assets/js/45.a79908d0.js"><link rel="prefetch" href="/til/assets/js/47.1be508f7.js"><link rel="prefetch" href="/til/assets/js/48.2b9b1509.js"><link rel="prefetch" href="/til/assets/js/49.494fbd72.js"><link rel="prefetch" href="/til/assets/js/5.0aa337fe.js"><link rel="prefetch" href="/til/assets/js/50.b3e0241f.js"><link rel="prefetch" href="/til/assets/js/51.497b25e7.js"><link rel="prefetch" href="/til/assets/js/52.079e17c0.js"><link rel="prefetch" href="/til/assets/js/53.eea981ae.js"><link rel="prefetch" href="/til/assets/js/54.27b63246.js"><link rel="prefetch" href="/til/assets/js/55.799a85a9.js"><link rel="prefetch" href="/til/assets/js/56.4d6a321c.js"><link rel="prefetch" href="/til/assets/js/57.bbf8da6b.js"><link rel="prefetch" href="/til/assets/js/58.2ca7da5b.js"><link rel="prefetch" href="/til/assets/js/59.926b192a.js"><link rel="prefetch" href="/til/assets/js/6.52e5f234.js"><link rel="prefetch" href="/til/assets/js/60.221c2169.js"><link rel="prefetch" href="/til/assets/js/61.d1814565.js"><link rel="prefetch" href="/til/assets/js/62.2c62fe16.js"><link rel="prefetch" href="/til/assets/js/63.64d19172.js"><link rel="prefetch" href="/til/assets/js/64.45e22399.js"><link rel="prefetch" href="/til/assets/js/65.4c350e04.js"><link rel="prefetch" href="/til/assets/js/66.5a834cf8.js"><link rel="prefetch" href="/til/assets/js/67.c783ae27.js"><link rel="prefetch" href="/til/assets/js/68.b9bae23d.js"><link rel="prefetch" href="/til/assets/js/69.e0304559.js"><link rel="prefetch" href="/til/assets/js/7.21123317.js"><link rel="prefetch" href="/til/assets/js/70.5dfaa4d5.js"><link rel="prefetch" href="/til/assets/js/71.f96d7948.js"><link rel="prefetch" href="/til/assets/js/72.d3b73ec0.js"><link rel="prefetch" href="/til/assets/js/73.d866814e.js"><link rel="prefetch" href="/til/assets/js/74.df8eb4d1.js"><link rel="prefetch" href="/til/assets/js/75.5d7de152.js"><link rel="prefetch" href="/til/assets/js/76.84d9a412.js"><link rel="prefetch" href="/til/assets/js/77.4e5fdc50.js"><link rel="prefetch" href="/til/assets/js/78.1e1b77d2.js"><link rel="prefetch" href="/til/assets/js/79.9228d008.js"><link rel="prefetch" href="/til/assets/js/8.bc2662d1.js"><link rel="prefetch" href="/til/assets/js/80.9f99425b.js"><link rel="prefetch" href="/til/assets/js/81.edc4bc43.js"><link rel="prefetch" href="/til/assets/js/82.c38528d6.js"><link rel="prefetch" href="/til/assets/js/83.3faadb6e.js"><link rel="prefetch" href="/til/assets/js/84.d8a552da.js"><link rel="prefetch" href="/til/assets/js/85.55f502c3.js"><link rel="prefetch" href="/til/assets/js/86.c493861b.js"><link rel="prefetch" href="/til/assets/js/87.1bb57bd2.js"><link rel="prefetch" href="/til/assets/js/88.2d238be1.js"><link rel="prefetch" href="/til/assets/js/89.25104c46.js"><link rel="prefetch" href="/til/assets/js/9.1d59b63f.js"><link rel="prefetch" href="/til/assets/js/90.5c5e8d16.js"><link rel="prefetch" href="/til/assets/js/91.e169fa49.js"><link rel="prefetch" href="/til/assets/js/92.722f0b66.js"><link rel="prefetch" href="/til/assets/js/93.ad3d53df.js"><link rel="prefetch" href="/til/assets/js/94.000327da.js"><link rel="prefetch" href="/til/assets/js/95.801fd8c3.js"><link rel="prefetch" href="/til/assets/js/96.ca00a28b.js"><link rel="prefetch" href="/til/assets/js/97.71a58138.js"><link rel="prefetch" href="/til/assets/js/98.1a9eea17.js"><link rel="prefetch" href="/til/assets/js/99.bfb3e7b4.js">
    <link rel="stylesheet" href="/til/assets/css/0.styles.5b85764b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/til/" class="home-link router-link-active"><!----> <span class="site-name">Today Youngjun learnedâœ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ğŸ¨ Elasticsearch</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/til/ElasticSearch/01.ElasticSearch.html" class="sidebar-link">ElasticSearch Windows10 ì„¤ì¹˜ ë° ê¸°ë³¸ ë™ì‘ ì´í•´</a></li><li><a href="/til/ElasticSearch/02.ElasticSearch.html" class="sidebar-link">ElasticSearch ë°ì´í„° ì…ë ¥, ì¡°íšŒ, ì‚­ì œ ì‹¤ìŠµ</a></li><li><a href="/til/ElasticSearch/03.ElasticSearch.html" class="sidebar-link">ElasticSearch ë°ì´í„° ì—…ë°ì´íŠ¸ ì‹¤ìŠµ</a></li><li><a href="/til/ElasticSearch/04.ElasticSearch.html" class="sidebar-link">ElasticSearch ë²Œí¬(Bulk)</a></li><li><a href="/til/ElasticSearch/05.ElasticSearch.html" class="sidebar-link">ElasticSearch ë§¤í•‘(Mapping)</a></li><li><a href="/til/ElasticSearch/06.ElasticSearch.html" class="sidebar-link">ElasticSearch ë°ì´í„° ì¡°íšŒ(Search)</a></li><li><a href="/til/ElasticSearch/07.ElasticSearch.html" class="sidebar-link">ElasticSearch Metric Aggregation</a></li><li><a href="/til/ElasticSearch/08.ElasticSearch.html" class="sidebar-link">ElasticSearch Bucket Aggregation</a></li><li><a href="/til/ElasticSearch/09.ElasticSearch.html" class="sidebar-link">Elasticsearch7 - Java Rest Client</a></li><li><a href="/til/ElasticSearch/10.ElasticSearch.html" class="sidebar-link">Elasticsearch7 Java REST Client ì‹œì‘í•˜ê¸°</a></li><li><a href="/til/ElasticSearch/14.Logstash.html" class="sidebar-link">Logstash ì„¤ì¹˜</a></li><li><a href="/til/ElasticSearch/15.Logstash.html" class="sidebar-link">Logstash MySQL ì—°ë™í•˜ê¸°</a></li><li><a href="/til/ElasticSearch/Error-handling.html" class="sidebar-link">Error Handling Note</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ³ Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ‹ Kubernetes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“˜ Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“— GCP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“™ Machine Learning</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“• Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’š Data Structure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’ Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’™ Kubeflow</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ–¤ News</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’œ NGINX</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ¤ Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ¤ System Programming</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’› UX&amp;UI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’• Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“Œ etc</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="á„‹á…©á†¸á„Œá…¥á„‡á…¥-observer-á„‘á…¢á„á…¥á†«"><a href="#á„‹á…©á†¸á„Œá…¥á„‡á…¥-observer-á„‘á…¢á„á…¥á†«" class="header-anchor">#</a> ì˜µì €ë²„ (Observer) íŒ¨í„´</h1> <p>ë‹¤ìˆ˜ì˜ ê°ì²´ê°€ íŠ¹ì • ê°ì²´ ìƒíƒœ ë³€í™”ë¥¼ ê°ì§€í•˜ê³  ì•Œë¦¼ì„ ë°›ëŠ” íŒ¨í„´.</p> <p>ë°œí–‰(publish)-êµ¬ë…(subscribe) íŒ¨í„´ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.</p> <p><img src="https://user-images.githubusercontent.com/42997924/153322137-0c49c0f3-ddf2-44db-907b-3fb160dba1c2.png" alt="observer_01"></p> <p><strong>êµ¬ì¡°</strong></p> <ul><li><p>Subject</p> <ul><li><strong>ì—¬ëŸ¬ ì˜µì €ë²„ë¥¼ ë“±ë¡/í•´ì§€í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</strong></li> <li>í´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ Subjectë¥¼ ì‚¬ìš©í•´ì„œ ì—¬ëŸ¬ ì˜µì €ë²„ë“¤ì„ íŠ¹ì • Subjectì— ë“±ë¡í•´ë‘”ë‹¤.</li> <li>Subjectê°€ ì œê³µí•˜ëŠ” íŠ¹ì •í•œ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ Subject ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.</li> <li>Subjectì˜ ìƒíƒœê°€ ë³€ê²½ë˜ë©´ ìì‹ ì—ê²Œ ë“±ë¡ë˜ì–´ìˆëŠ” ëª¨ë“  ì˜µì €ë²„ë“¤ì„ ìˆœíšŒí•˜ë©´ì„œ ì˜µì €ë²„ê°€ ì œê³µí•˜ëŠ” íŠ¹ì •í•œ ë©”ì†Œë“œë¥¼ ëª¨ë‘ í˜¸ì¶œí•´ì¤€ë‹¤.</li></ul></li> <li><p>Observer</p> <ul><li><p>ê³µí†µëœ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.</p></li> <li><p>ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ, ì˜µì €ë²„ì—ì„œ í˜¸ì¶œí•´ ì¤˜ì•¼í•˜ëŠ” ë©”ì†Œë“œê°€ í•˜ë‚˜ê°€ í•„ìš”í•˜ë‹¤.</p></li> <li><p>ì´ë²¤íŠ¸ê°€ ë‹´ê³ ìˆëŠ” ì •ë³´ ë˜ëŠ” ì´ë²¤íŠ¸ ìì²´ë¥¼ ì˜µì €ë²„ì—ê²Œ ì „ë‹¬í•˜ë©´ì„œ íŠ¹ì • ë©”ì†Œë“œë¥¼ í˜¸ì¶œì‹œí‚¤ê³ ,</p> <p>í•´ë‹¹ ë©”ì†Œë“œ ë‚´ì—ì„œ ì‹¤ì œë¡œ ì˜µì €ë²„ê°€ í•´ì•¼í•  ì¼ì„ í•˜ë„ë¡ í•œë‹¤.</p></li> <li><p>ì´ ë•Œ ì¼ì¢…ì˜ ê·œì•½ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“œëŠ” ê²ƒì´ë‹¤.</p> <p>&quot;ì–´ë–¤ ë©”ì†Œë“œë¥¼ ì–´ë– í•œ ì •ë³´(íŒŒë¼ë¯¸í„°, ë°ì´í„°)ë¥¼ ê°€ì§€ê³  í˜¸ì¶œí•´ë¼&quot;</p></li></ul></li> <li><p>ConcreteObserver</p> <ul><li>ì—¬ëŸ¬ Observer ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ë“¤</li> <li>ì‹¤ì œë¡œ ì˜µì €ë²„ê°€ í•´ì•¼í•  ì¼ì„ êµ¬í˜„í•œë‹¤.</li></ul></li> <li><p>Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  êµ¬í˜„í•  ìˆ˜ë„ ìˆë‹¤. Subjectê°€ Objectíƒ€ì…ìœ¼ë¡œ ê°€ì§€ê³  ìˆìœ¼ë©´ ëœë‹¤.</p> <p>í•˜ì§€ë§Œ, ê·¸ë ‡ê²Œë˜ë©´ ì–´ë–¤ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ì•¼í•˜ëŠ”ì§€ ëª…í™•í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì´ ì¡°ê¸ˆ ë” ì§ê´€ì ì¼ ìˆ˜ ìˆë‹¤.</p> <p>&quot;ì˜µì €ë²„ ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì†Œë“œ í•˜ë‚˜ë¥¼ í˜¸ì¶œí•˜ë©´ ëœë‹¤.&quot;ê³  ì•Œ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—</p> <ul><li><p>ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ìë°”ê°€ ì œê³µí•˜ëŠ” ë¦¬í”Œë ‰ì…˜ APIë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ë„ ìˆë‹¤.</p> <p>ì˜¤ë¸Œì íŠ¸ê°€ ê°€ì§€ê³  ìˆëŠ” íŠ¹ì • íƒ€ì…ì •ë³´ë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ìˆê³ , íƒ€ì…ì´ ë“¤ê³  ìˆëŠ” ë©”ì†Œë“œ ì¤‘ì—ì„œ íŠ¹ì •í•œ ì• ë…¸í…Œì´ì…˜ì„ ê°€ì§€ê³  ìˆëŠ” ëŒ€ìƒ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.</p></li></ul></li></ul> <p><img src="https://user-images.githubusercontent.com/42997924/153322139-9c4fa45e-bb3c-4443-9d25-5c998b27bd81.png" alt="observer_02"></p> <h2 id="á„Œá…¥á†¨á„‹á…­á†¼á„’á…¡á†¯-á„‰á…®-á„‹á…µá†»á„‚á…³á†«-á„á…©á„ƒá…³"><a href="#á„Œá…¥á†¨á„‹á…­á†¼á„’á…¡á†¯-á„‰á…®-á„‹á…µá†»á„‚á…³á†«-á„á…©á„ƒá…³" class="header-anchor">#</a> ì ìš©í•  ìˆ˜ ìˆëŠ” ì½”ë“œ</h2> <ul><li><p>ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ ì˜ˆì œ</p></li> <li><p>ì‚¬ìš©ìë“¤ì€ íŠ¹ì • ì£¼ì œì— ëŒ€í•´ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.</p></li> <li><p>ì‚¬ìš©ìê°€ íŠ¹ì • ì£¼ì œì— ëŒ€í•´ ì¡°íšŒí•˜ëŠ” ìˆœê°„ì— í•´ë‹¹ ì£¼ì œì—ì„œ ë‚˜ëˆ´ë˜ ì±„íŒ…ë©”ì‹œì§€ë“¤ì„ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.</p> <p>ì‚¬ìš©ìê°€ ì¡°íšŒí•˜ê¸° ì „ê¹Œì§€ëŠ” ì•ì„œ ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ë³´ë‚¸ ë©”ì‹œì§€ê°€ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤.</p></li> <li><p>ì‚¬ìš©ìë“¤ì€ íŠ¹ì • ì£¼ì œì˜ ë©”ì‹œì§€ë¥¼ ë°›ê³  ì‹¶ìœ¼ë©´ ë³¸ì¸ì´ ì§ì ‘ getterë¥¼ í˜¸ì¶œí•´ì„œ ì£¼ê¸°ì ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ê°€ì ¸ì™€ì•¼í•œë‹¤. â‡’ &quot;í´ë§(Polling) ë©”ì»¤ë‹ˆì¦˜&quot;</p> <p>ì£¼ê¸°ì ìœ¼ë¡œ ê°€ì ¸ì˜¤ëŠ” ë™ì‘ì˜ ë¦¬ì†ŒìŠ¤ê°€ ìœ ìš©í• ê¹Œ?</p> <p>ì¤‘ê°„ì— ë©”ì‹œì§€ê°€ ìˆìœ¼ë©´ ìœ ìš©í•˜ê² ì§€ë§Œ ë©”ì‹œì§€ê°€ ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©´ ë¶ˆí•„ìš”í•œ ì‘ì—…ì´ ê³„ì† ë°œìƒí•˜ê²Œ ëœë‹¤. (ë¦¬ì†ŒìŠ¤ ë‚­ë¹„)</p> <p>â‡’ ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë™ì‘ë°©ì‹ì— í´ë§(Polling) ë©”ì»¤ë‹ˆì¦˜ì€ ì ì ˆí•˜ì§€ ì•Šë‹¤.</p></li> <li><p>ì˜µì €ë²„ ë””ìì¸ íŒ¨í„´ì„ ì ìš©í•´ì„œ &quot;ë°œí–‰(publish)-êµ¬ë…(subscribe)&quot; êµ¬ì¡°ë¡œ ë³€ê²½í•œë‹¤.</p></li> <li><p>Client</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ChatServer</span> chatServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChatServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">User</span> user1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>chatServer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user1<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token string">&quot;ë””ìì¸íŒ¨í„´&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ì´ë²ˆì—” ì˜µì €ë²„ íŒ¨í„´ì…ë‹ˆë‹¤.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user1<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token string">&quot;ë¡¤ë“œì»µ2021&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;LCK í™”ì´íŒ…!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">User</span> user2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>chatServer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user2<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token string">&quot;ë””ìì¸íŒ¨í„´&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        user1<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token string">&quot;ë””ìì¸íŒ¨í„´&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ì˜ˆì œ ì½”ë“œ ë³´ëŠ” ì¤‘..&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user2<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token string">&quot;ë””ìì¸íŒ¨í„´&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>ChatServer</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatServer</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> messages<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ChatServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>messages <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span> subject<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>messages<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            messages<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> messageList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            messageList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            messages<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>subject<span class="token punctuation">,</span> messageList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> subject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> messages<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>User</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">ChatServer</span> chatServer<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">ChatServer</span> chatServer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>chatServer <span class="token operator">=</span> chatServer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> subject<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        chatServer<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>subject<span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> subject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> chatServer<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="á„‹á…©á†¸á„Œá…¥á„‡á…¥-á„‘á…¢á„á…¥á†«-á„Œá…¥á†¨á„‹á…­á†¼"><a href="#á„‹á…©á†¸á„Œá…¥á„‡á…¥-á„‘á…¢á„á…¥á†«-á„Œá…¥á†¨á„‹á…­á†¼" class="header-anchor">#</a> ì˜µì €ë²„ íŒ¨í„´ ì ìš©</h2> <h3 id="_1-á„‹á…©á†¸á„Œá…¥á„‡á…¥-á„‹á…µá†«á„á…¥á„‘á…¦á„‹á…µá„‰á…³-á„‰á…¢á†¼á„‰á…¥á†¼-subscriber"><a href="#_1-á„‹á…©á†¸á„Œá…¥á„‡á…¥-á„‹á…µá†«á„á…¥á„‘á…¦á„‹á…µá„‰á…³-á„‰á…¢á†¼á„‰á…¥á†¼-subscriber" class="header-anchor">#</a> 1. ì˜µì €ë²„ ì¸í„°í˜ì´ìŠ¤ ìƒì„± - Subscriber</h3> <ul><li><code>handleMessage()</code> : ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Subscriber</span> <span class="token punctuation">{</span>

    <span class="token keyword">void</span> <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-á„‹á…©á†¸á„Œá…¥á„‡á…¥-á„€á…®á„’á…§á†«á„á…¦-á„€á…®á„’á…§á†«-user"><a href="#_2-á„‹á…©á†¸á„Œá…¥á„‡á…¥-á„€á…®á„’á…§á†«á„á…¦-á„€á…®á„’á…§á†«-user" class="header-anchor">#</a> 2. ì˜µì €ë²„ êµ¬í˜„ì²´ êµ¬í˜„ - User</h3> <ul><li>ì˜µì €ë²„ ì¸í„°í˜ì´ìŠ¤ <code>Subscriber</code>ë¥¼ implementsí•œë‹¤.</li> <li><code>handleMessage()</code> ë©”ì‹œì§€ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì—¬ ë©”ì‹œì§€ë¥¼ ì „ë‹¬ë°›ì•˜ì„ ë•Œ ìˆ˜í–‰í•  ì‹¤ì œ ë™ì‘ì„ êµ¬í˜„í•œë‹¤.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">Subscriber</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-subject-á„€á…®á„’á…§á†«-chatserver"><a href="#_3-subject-á„€á…®á„’á…§á†«-chatserver" class="header-anchor">#</a> 3. Subject êµ¬í˜„ - ChatServer</h3> <ul><li><p>ê° SubjectëŠ” ì—¬ëŸ¬ ì˜µì €ë²„ë“¤ì„ ë“±ë¡/í•´ì§€í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</p></li> <li><p>ì˜µì €ë²„ë“¤ì„ íŠ¹ì •í•œ ì£¼ì œë³„ë¡œ ë¬¶ì–´ ë†“ì„ ê²ƒì´ê¸° ë•Œë¬¸ì— <code>Map</code>ì„ ì‚¬ìš©í•œë‹¤.</p> <ul><li>ì£¼ì œë³„ë¡œ Subscriberë“¤ì˜ ëª©ë¡ì„ ê°€ì§€ê³  ìˆê²Œ ëœë‹¤.</li></ul></li> <li><p><code>register()</code></p> <ul><li><p>ì˜µì €ë²„ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥</p></li> <li><p>íŠ¹ì • ì£¼ì œ(subject)ë¥¼ êµ¬ë…í•  êµ¬ë…ì(Subscriber) ì •ë³´ë¥¼ ë°›ì•„ì„œ</p> <p>subscribersì— í•´ë‹¹ ì£¼ì œê°€ ìˆë‹¤ë©´ êµ¬ë…ì ëª©ë¡ì— ì¶”ê°€, í•´ë‹¹ ì£¼ì œê°€ ì—†ë‹¤ë©´ ìƒˆë¡­ê²Œ ì£¼ì œë¥¼ ë§Œë“¤ê³  êµ¬ë…ì ëª©ë¡ ì¶”ê°€</p></li></ul> <p>â€» ì½”ë“œ ì‘ì„± ì‹œ ì£¼ì˜ ì‚¬í•­</p> <ul><li><code>List.of()</code>ëŠ” ImmutableCollection ì„ ë°˜í™˜í•œë‹¤. ì´ë ‡ê²Œ ë§Œë“  ì»¬ë ‰ì…˜ì— ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¶”ê°€í•  ìˆ˜ ì—†ì–´ì„œ ì´í›„ì— ì¶”ê°€í•˜ë ¤ê³  í•˜ë©´ ì—ëŸ¬ê°€
ë°œìƒí•œë‹¤.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// ì˜¬ë°”ë¥¸ ì½”ë“œ</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Subscriber</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>subject<span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ì˜ëª»ëœ ì½”ë“œ - ìœ„ì˜ ì½”ë“œë¥¼ ì¤„ì´ê³ ì ì´ë ‡ê²Œ ì‘ì„±í•˜ë©´ Immutable ì»¬ë ‰ì…˜ì´ ë°˜í™˜ë˜ê¸° ë•Œë¬¸ì— ì•ˆ ëœë‹¤.</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>subject<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>unregister()</code></p> <ul><li><p>ì˜µì €ë²„ë¥¼ í•´ì§€í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥</p></li> <li><p>íŠ¹ì • ì£¼ì œ(subject)ë¥¼ êµ¬ë…í•˜ê³  ìˆëŠ” êµ¬ë…ì(Subscriber) ì •ë³´ë¥¼ ë°›ì•„ì„œ</p> <p><code>subscribers</code>ì— í•´ë‹¹ ì£¼ì œê°€ ìˆë‹¤ë©´ êµ¬ë…ì ëª©ë¡ì—ì„œ í•´ë‹¹ êµ¬ë…ì ì •ë³´ë¥¼ ì‚­ì œí•œë‹¤.</p></li></ul></li> <li><p><code>sendMessage()</code></p> <ul><li>ChatServer(Subject)ëŠ” ìì‹ (ChatServer, Subject)ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•´ì•¼ í•œë‹¤.</li> <li>ì˜ˆì œì—ì„œëŠ” ChatServerê°€ ë°ì´í„°ë¥¼ ì €ì¥í•´ë†“ì§€ ì•Šì„ ê²ƒì´ì§€ë§Œ, ì‚¬ìš©ìê°€ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” í–‰ìœ„ë¥¼ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” í–‰ìœ„ë¡œ ë³´ê³  í•´ë‹¹ ë©”ì‹œì§€ë¥¼ ì—¬ëŸ¬ Subscriber
ë“¤ì—ê²Œ ì „íŒŒì‹œí‚¤ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</li> <li>íŒŒë¼ë¯¸í„° ì •ë³´
<ul><li>User user - ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ì‚¬ìš©ì</li> <li>String subject - ì£¼ì œ</li> <li>String message - ë³´ë‚´ëŠ” ë©”ì‹œì§€</li></ul></li> <li>ì „ë‹¬í•˜ë ¤ëŠ” ë©”ì‹œì§€  : ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ ì‚¬ìš©ì ì´ë¦„ + ë©”ì‹œì§€ ë‚´ìš©</li> <li>ì „ë‹¬ ëŒ€ìƒ : í•´ë‹¹ ì£¼ì œ(subject)ë¥¼ êµ¬ë…í•˜ê³  ìˆëŠ” êµ¬ë…ì</li> <li>êµ¬ë…ì ëª©ë¡ì„ ìˆœíšŒí•˜ë©´ì„œ subscriberê°€ ê°€ì§€ê³  ìˆëŠ” <code>handleMessage()</code> ë¥¼ í˜¸ì¶œí•´ì„œ ë©”ì‹œì§€(<code>userMessage</code>)ë¥¼ ì „ë‹¬í•œë‹¤.</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatServer</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Subscriber</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> subscribers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">String</span> subject<span class="token punctuation">,</span> <span class="token class-name">Subscriber</span> subscriber<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ì´ë¯¸ í•´ë‹¹ ì£¼ì œê°€ ìˆëŠ” ê²½ìš°</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// ìƒˆë¡œìš´ ì£¼ì œì¸ ê²½ìš°</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Subscriber</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>subject<span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">unregister</span><span class="token punctuation">(</span><span class="token class-name">String</span> subject<span class="token punctuation">,</span> <span class="token class-name">Subscriber</span> subscriber<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">,</span> <span class="token class-name">String</span> subject<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// í•´ë‹¹ subjectë¥¼ êµ¬ë…í•˜ê³  ìˆëŠ” êµ¬ë…ìë“¤ì„ ëŒ€ìƒìœ¼ë¡œ</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ì „ë‹¬í•˜ë ¤ëŠ” ë©”ì‹œì§€</span>
            <span class="token class-name">String</span> userMessage <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> message<span class="token punctuation">;</span>
            <span class="token comment">// êµ¬ë…ìë“¤ì—ê²Œ ë©”ì‹œì§€ ì „ë‹¬</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">handleMessage</span><span class="token punctuation">(</span>userMessage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-client"><a href="#_4-client" class="header-anchor">#</a> 4. Client</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ChatServer</span> chatServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChatServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;keesun&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;whiteship&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// íŠ¹ì • ì£¼ì œì— êµ¬ë…ì ë“±ë¡</span>
        chatServer<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&quot;ì˜¤ì§•ì–´ê²Œì„&quot;</span><span class="token punctuation">,</span> user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        chatServer<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&quot;ì˜¤ì§•ì–´ê²Œì„&quot;</span><span class="token punctuation">,</span> user2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        chatServer<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&quot;ë””ìì¸íŒ¨í„´&quot;</span><span class="token punctuation">,</span> user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ìƒíƒœ ë³€ê²½ - ë©”ì‹œì§€ ì „ë‹¬</span>
        <span class="token comment">// user1, user2ê°€ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•˜ê²Œ ëœë‹¤.</span>
        chatServer<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span>user1<span class="token punctuation">,</span> <span class="token string">&quot;ì˜¤ì§•ì–´ê²Œì„&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ì•„.. ì´ë¦„ì´ ê¸°ì–µë‚¬ì–´.. ì¼ë‚¨ì´ì•¼.. ì˜¤ì¼ë‚¨&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// user1ë§Œ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•˜ê²Œ ëœë‹¤.</span>
        chatServer<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span>user2<span class="token punctuation">,</span> <span class="token string">&quot;ë””ìì¸íŒ¨í„´&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ì˜µì €ë²„ íŒ¨í„´ìœ¼ë¡œ ë§Œë“  ì±„íŒ…&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//ëŸ°íƒ€ì„ì— ì˜µì €ë²„ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•  ìˆ˜ ìˆë‹¤.</span>
        chatServer<span class="token punctuation">.</span><span class="token function">unregister</span><span class="token punctuation">(</span><span class="token string">&quot;ë””ìì¸íŒ¨í„´&quot;</span><span class="token punctuation">,</span> user2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        chatServer<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span>user2<span class="token punctuation">,</span> <span class="token string">&quot;ë””ìì¸íŒ¨í„´&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ì˜µì €ë²„ íŒ¨í„´ ì¥, ë‹¨ì  ë³´ëŠ” ì¤‘&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://user-images.githubusercontent.com/42997924/153322141-e3238e8c-be7a-474e-beb2-10f1b8849022.png" alt="observer_03"></p> <h2 id="á„Œá…¡á†¼á„Œá…¥á†·"><a href="#á„Œá…¡á†¼á„Œá…¥á†·" class="header-anchor">#</a> ì¥ì </h2> <ul><li>ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ê°ì²´(publisher)ì™€ ë³€ê²½ì„ ê°ì§€í•˜ëŠ” ê°ì²´(subsriber)ì˜ ê´€ê³„ë¥¼ ëŠìŠ¨í•˜ê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.</li> <li>Subjectì˜ ìƒíƒœ ë³€ê²½ì„ ì£¼ê¸°ì ìœ¼ë¡œ ì¡°íšŒí•˜ì§€ ì•Šê³  ìë™ìœ¼ë¡œ ê°ì§€í•  ìˆ˜ ìˆë‹¤.</li> <li>ëŸ°íƒ€ì„ì— ì˜µì €ë²„ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•  ìˆ˜ ìˆë‹¤.</li></ul> <h2 id="á„ƒá…¡á†«á„Œá…¥á†·"><a href="#á„ƒá…¡á†«á„Œá…¥á†·" class="header-anchor">#</a> ë‹¨ì </h2> <ul><li><p>ë³µì¡ë„ê°€ ì¦ê°€í•œë‹¤.</p></li> <li><p>ë‹¤ìˆ˜ì˜ Observer ê°ì²´ë¥¼ ë“±ë¡ ì´í›„ í•´ì§€ ì•ŠëŠ”ë‹¤ë©´ memory leakì´ ë°œìƒí•  ìˆ˜ë„ ìˆë‹¤.</p> <ul><li><p>ì˜ˆì œì—ì„œ ChatServerì˜ subscribersì— ë“±ë¡í•˜ê³  í•´ì§€í•˜ì§€ ì•Šìœ¼ë©´ (ì•„ë¬´ë„ ì“°ì§€ ì•Šì•„ë„ Mapì— ë‹´ê²¨ìˆë‹¤ëŠ” ì´ìœ ë¡œ) ë ˆí¼ëŸ°ìŠ¤ë¥¼ ê³„ì†í•´ì„œ ê°€ì§€ê³  ìˆê²Œ ë˜ê³ ,
GCì˜ ëŒ€ìƒì´ ë˜ì§€ ì•Šê²Œëœë‹¤.</p></li> <li><p>ê°€ì¥ ì¢‹ì€ ëŒ€ì•ˆì€ ëª…ì‹œì ìœ¼ë¡œ í•´ì§€(unregister)ë¥¼ ì˜ í•˜ëŠ” ê²ƒì´ë‹¤. (ìµœìš°ì„ ì ì¸ ë°©ë²•)</p></li> <li><p>ìë°”ì˜ <strong>WeakReference</strong>ì„ ì´ìš©í•  ìˆ˜ë„ ìˆë‹¤. (ëª…ì‹œì ìœ¼ë¡œ í•´ì§€í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°ì— ì‚¬ìš©)</p> <p>ë³´í†µ HashMapì— WeakReferenceë¥¼ ì ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ë‹¤ë¥¸ ê³³ì—ì„œ ì°¸ì¡°í•˜ëŠ” ê²½ìš°ê°€ ì—†ìœ¼ë©´ unregisterë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šì•„ë„ ì•Œì•„ì„œ í•´ë‹¹ ë ˆí¼ëŸ°ìŠ¤ë¥¼
í•´ì§€í•´ì¤€ë‹¤.</p> <p>WeakReference ë™ì‘ ë°©ì‹ì— ë”°ë¼ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë§Œ ì—†ì–´ì§€ëŠ” ê²ƒì´ë¯€ë¡œ ì–¸ì œ ì—†ì–´ì§€ëŠ”ì§€ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ í•´ê²°ì±…ì€ ì•„ë‹ˆë‹¤.</p></li></ul></li></ul> <h2 id="á„‰á…µá†¯á„†á…®-á„‰á…¡á„‹á…­á†¼-á„‹á…¨"><a href="#á„‰á…µá†¯á„†á…®-á„‰á…¡á„‹á…­á†¼-á„‹á…¨" class="header-anchor">#</a> ì‹¤ë¬´ ì‚¬ìš© ì˜ˆ</h2> <ul><li><p>ìë°”</p> <ul><li>Observableê³¼ Observer (ìë°” 9ë¶€í„° deprecated)</li> <li>ìë°” 9 ì´í›„ ë¶€í„°ëŠ”
<ul><li>PropertyChangeListener, PropertyChangeEvent</li> <li>Flow API</li></ul></li> <li>SAX (Simple API for XML) ë¼ì´ë¸ŒëŸ¬ë¦¬</li></ul></li> <li><p>ìŠ¤í”„ë§</p> <ul><li>ApplicationContextì™€ ApplicationEvent</li></ul></li></ul> <h3 id="_1-á„Œá…¡á„‡á…¡-observableá„€á…ª-observer"><a href="#_1-á„Œá…¡á„‡á…¡-observableá„€á…ª-observer" class="header-anchor">#</a> 1. ìë°” - Observableê³¼ Observer</h3> <p>ìë°”ì—ì„œ ì˜µì €ë²„ íŒ¨í„´ì„ êµ¬í˜„í•˜ê¸°ìœ„í•´ ì œê³µí•˜ëŠ” Observer ì¸í„°í˜ì´ìŠ¤, Observable í´ë˜ìŠ¤ (ìë°” 9ë¶€í„° deprecated)</p> <ul><li><p><code>setChanged();</code>ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ì—†ë‹¤. ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆë‹¤ê³  í•´ì•¼ì§€ ì•Œë¦¼ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.</p></li> <li><p>ì•Œë¦¼ì„ ë°›ëŠ” ì£¼ì²´ì˜ ìˆœì„œëŠ” ì˜ˆì¸¡í•  ìˆ˜ ì—†ë‹¤.</p></li> <li><p>í•œ ë²ˆ ë³€ê²½ë˜ì—ˆì„ ë•Œ ì—¬ëŸ¬ ë²ˆ ë…¸í‹°í•´ì•¼í•œë‹¤ë©´ <code>notifyObservers(message);</code>ë¥¼ ì—°ì†í•´ì„œ í˜¸ì¶œí•œë‹¤ê³  ë˜ì§€ ì•ŠëŠ”ë‹¤.</p> <p>ë¬´ì¡°ê±´ <code>setChanged();</code> í•œ ë’¤ì— í•œ ë²ˆ <code>notifyObservers(message);</code>ê°€ í˜¸ì¶œëœë‹¤.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Subject</span> <span class="token keyword">extends</span> <span class="token class-name">Observable</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆë‹¤ê³  ì•Œë¦¼</span>
    <span class="token function">setChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token function">notifyObservers</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// í˜¸ì¶œë˜ì§€ ì•ŠìŒ</span>
    <span class="token function">notifyObservers</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    
    <span class="token function">setChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ë¨¼ì € setChanged()ê°€ í˜¸ì¶œëœ í›„ì— ì•Œë¦¼ì„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.</span>
    <span class="token function">notifyObservers</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ObserverInJava</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Observable</span> o<span class="token punctuation">,</span> <span class="token class-name">Object</span> arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Subject</span> <span class="token keyword">extends</span> <span class="token class-name">Observable</span> <span class="token punctuation">{</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆë‹¤ê³  ì•Œë¦¼</span>
            <span class="token function">setChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token function">notifyObservers</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">notifyObservers</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Subject</span> subject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subject<span class="token punctuation">.</span><span class="token function">addObserver</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        subject<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Java, Observer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ì˜¤ë˜ëœ ì½”ë“œì´ê³  ìœ ì§€ë³´ìˆ˜ë„ ì˜ ì•ˆë˜ê³ , ì‚¬ìš©ì„±ì´ ë–¨ì–´ì§€ëŠ” ë“±... ì—¬ëŸ¬ ì´ìœ ë¡œ Deprecated ëœ ê²ƒ ê°™ë‹¤.</p> <p><code>java.beans</code> íŒ¨í‚¤ì§€ ë‚´ì˜ <code>PropertyChangeListener</code>  ë˜ëŠ” <code>java.util.concurrent</code> íŒ¨í‚¤ì§€ ë‚´ì˜ <code>Flow API</code>ë¥¼ ì‚¬ìš©í•˜ë¼ê³ 
ì•Œë ¤ì¤€ë‹¤.</p> <p><img src="https://user-images.githubusercontent.com/42997924/153322143-3a5f1ae8-9a73-4ada-b1ed-989eb1e35e6e.png" alt="observer_04"></p> <h3 id="_2-á„Œá…¡á„‡á…¡-propertychangelistener-propertychangeevent"><a href="#_2-á„Œá…¡á„‡á…¡-propertychangelistener-propertychangeevent" class="header-anchor">#</a> 2. ìë°” - PropertyChangeListener, PropertyChangeEvent</h3> <ul><li><p><code>PropertyChangeListener</code>ì™€ <code>PropertyChangeSupport</code> í´ë˜ìŠ¤ë¥¼ í™œìš©</p></li> <li><p>ì˜µì €ë²„ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ <code>PropertyChangeListener</code> ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©´ ëœë‹¤.</p></li> <li><p><code>propertyChange()</code>ì—ì„œ <code>PropertyChangeEvent</code> ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p> <ul><li>ì´ë²¤íŠ¸ì— ëŒ€í•´ ì¢€ ë” ë§ì€ ì •ë³´ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.</li> <li>getNewValue() : ì´ë²¤íŠ¸ì—ì„œ ê°’ì„ êº¼ë‚´ê¸°</li> <li>getPropertyName() : ì–´ë–¤ í”„ë¡œí¼í‹°ê°€ ë°”ë€Œì—ˆëŠ”ì§€ ì´ë¦„ì„ ê°€ì ¸ì˜¨ë‹¤.</li> <li>getOldValue() : ë³€ê²½ ì „ì— ì–´ë–¤ ê°’ì´ì—ˆëŠ”ì§€ í™•ì¸</li></ul> <p><img src="https://user-images.githubusercontent.com/42997924/153322144-3dd942f5-49e5-4444-9681-e50b7927f434.png" alt="observer_05"></p></li> <li><p><code>firePropertyChange()</code> : ì´ë²¤íŠ¸ publish</p> <ul><li><p>firePropertyChange(propertyName, oldValue, newValue)</p> <p>PropertyChangeEventì— ë“¤ì–´ê°ˆ ê°’ì„ íŒŒë¼ë¯¸í„°ë¡œ ë„£ì–´ì¤˜ì•¼ í•œë‹¤.</p></li> <li><p>fireIndexedPropertyChange() : ìš°ì„ ìˆœìœ„ë¥¼ ì¤„ ìˆ˜ ìˆë‹¤.</p></li></ul></li> <li><p><code>addPropertyChangeListener()</code> : ì˜µì €ë²„ë¥¼ ë“±ë¡</p> <ul><li><code>propertyName</code>ì„ ê°€ì§€ê³  íŠ¹ì •í•œ ê´€ì‹¬ì‚¬ì— ìˆëŠ” ì˜µì €ë²„ë§Œ ë©”ì‹œì§€ë¥¼ ë°›ë„ë¡ í•  ìˆ˜ ìˆë‹¤.</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>beans<span class="token punctuation">.</span></span><span class="token class-name">PropertyChangeEvent</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>beans<span class="token punctuation">.</span></span><span class="token class-name">PropertyChangeListener</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>beans<span class="token punctuation">.</span></span><span class="token class-name">PropertyChangeSupport</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PropertyChangeExample</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">PropertyChangeListener</span> <span class="token punctuation">{</span>

        <span class="token comment">// ì´ë²¤íŠ¸ ë°›ì•„ì„œ ì²˜ë¦¬</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">propertyChange</span><span class="token punctuation">(</span><span class="token class-name">PropertyChangeEvent</span> evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ì´ë²¤íŠ¸ì— ëŒ€í•œ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span><span class="token function">getNewValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>

        <span class="token class-name">PropertyChangeSupport</span> support <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PropertyChangeSupport</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ì˜µì €ë²„ ë“±ë¡</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addObserver</span><span class="token punctuation">(</span><span class="token class-name">PropertyChangeListener</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            support<span class="token punctuation">.</span><span class="token function">addPropertyChangeListener</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// ì˜µì €ë²„ í•´ì œ</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeObserver</span><span class="token punctuation">(</span><span class="token class-name">PropertyChangeListener</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            support<span class="token punctuation">.</span><span class="token function">removePropertyChangeListener</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ì´ë²¤íŠ¸ publish</span>
            support<span class="token punctuation">.</span><span class="token function">firePropertyChange</span><span class="token punctuation">(</span><span class="token string">&quot;eventName&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Subject</span> subject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subject<span class="token punctuation">.</span><span class="token function">addObserver</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        subject<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;ìë°” PCL ì˜ˆì œ ì½”ë“œ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subject<span class="token punctuation">.</span><span class="token function">removeObserver</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        subject<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;ì´ ë©”ì‹œì§€ëŠ” ë³¼ ìˆ˜ ì—†ì§€..&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-á„Œá…¡á„‡á…¡-flow-api"><a href="#_3-á„Œá…¡á„‡á…¡-flow-api" class="header-anchor">#</a> 3. ìë°” - Flow API</h3> <p>ìë°” 9ì— ì²˜ìŒ ë„ì…ëœ API</p> <p>ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ì„ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ ìë°”ì—ì„œ ì œê³µí•´ì£¼ëŠ” ì¸í„°í˜ì´ìŠ¤ ëª©ë¡</p> <ul><li>Publisher</li> <li>Subscriber</li> <li>Subscription</li> <li>Processor : Subscriberì™€ Publisher ì¼ì„ ë‘˜ ë‹¤ ìˆ˜í–‰í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤</li></ul> <h4 id="á„€á…¡á„Œá…¡á†¼-á„€á…µá„á…©á„Œá…¥á†¨á„‹á…µá†«-á„ƒá…©á†¼á„€á…µ-á„‡á…¡á†¼á„‰á…µá†¨á„‹á…´-pub-sub-á„€á…®á„Œá…©-á„‹á…¨á„Œá…¦"><a href="#á„€á…¡á„Œá…¡á†¼-á„€á…µá„á…©á„Œá…¥á†¨á„‹á…µá†«-á„ƒá…©á†¼á„€á…µ-á„‡á…¡á†¼á„‰á…µá†¨á„‹á…´-pub-sub-á„€á…®á„Œá…©-á„‹á…¨á„Œá…¦" class="header-anchor">#</a> ê°€ì¥ ê¸°ì´ˆì ì¸ ë™ê¸° ë°©ì‹ì˜ pub-sub êµ¬ì¡° ì˜ˆì œ</h4> <p>Publisher</p> <ul><li><p>Publisherì—ì„œ subscribeí•˜ë©´ subscriber.onNext()ë¥¼ í˜¸ì¶œí•´ì„œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•œë‹¤.</p></li> <li><p>onComplete() í˜¸ì¶œí•´ì„œ ì™„ë£Œ</p></li></ul> <p>Subscriber</p> <ul><li>onNext()ë¡œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬ë°›ëŠ”ë‹¤.</li> <li>onComplete()ì´ í˜¸ì¶œë˜ì—ˆìœ¼ë¯€ë¡œ onComplete()ì— êµ¬í˜„í•œ ë™ì‘ ìˆ˜í–‰ í›„ ì¢…ë£Œ</li></ul> <h4 id="á„‡á…µá„ƒá…©á†¼á„€á…µ-á„‡á…¡á†¼á„‰á…µá†¨á„‹á…´-pub-sub-á„€á…®á„Œá…©-á„‹á…¨á„Œá…¦-submissionpublisher"><a href="#á„‡á…µá„ƒá…©á†¼á„€á…µ-á„‡á…¡á†¼á„‰á…µá†¨á„‹á…´-pub-sub-á„€á…®á„Œá…©-á„‹á…¨á„Œá…¦-submissionpublisher" class="header-anchor">#</a> ë¹„ë™ê¸° ë°©ì‹ì˜ pub-sub êµ¬ì¡° ì˜ˆì œ - SubmissionPublisher</h4> <p>ë¹„ë™ê¸°ì ìœ¼ë¡œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê²Œ í•  ìˆ˜ ìˆë„ë¡ ìë°”ì—ì„œ ê¸°ëŠ¥ì„ ì œê³µí•´ì¤€ë‹¤. â†’ &quot;<strong>SubmissionPublisher</strong>&quot;</p> <p>ë¹„ë™ê¸°ì ìœ¼ë¡œ Flow APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ê¸°ëŠ¥ì„ ì œê³µí•´ì£¼ëŠ” publisherì´ë‹¤.</p> <p><code>onSubscribe()</code>ê°€ í˜¸ì¶œë˜ë©´ <code>Subscription</code>ì„ ì €ì¥í•´ë‘ê³ , ë°”ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•´ì•¼ë˜ê¸° ë•Œë¬¸ì— <code>subscription.request(n)</code>ë¥¼ í˜¸ì¶œí•´ì„œ
publisherì—ê²Œ nê°œ ì´ë²¤íŠ¸ë¥¼ ìš”ì²­í•´ì„œ êº¼ë‚´ì˜¤ê²Œ ëœë‹¤.</p> <p>publisherê°€ nê°œë¥¼ êº¼ë‚´ì„œ ì•Œì•„ì„œ <code>onNext()</code>ë¥¼ í˜¸ì¶œí•´ì¤€ë‹¤.</p> <ul><li>onNext() ìŠ¤ë ˆë“œëŠ” <code>SubmissionPublisher</code> ê°€ ë§Œë“¤ì–´ì£¼ëŠ” ìŠ¤ë ˆë“œí’€ì—ì„œ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.</li></ul> <p>ë¦¬ì•¡í‹°ë¸Œ ìŠ¤íŠ¸ë¦¼ APIì˜ ì£¼ìš” ëª©ì  ì¤‘ í•˜ë‚˜ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ ë¿ë§Œ ì•„ë‹ˆë¼ ë¹„ë™ê¸° ì²˜ë¦¬í•˜ë©´ì„œ ë°±í”„ë ˆì…”ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤. íë¦„ì–‘ì„ ì¡°ì ˆí•œë‹¤. êµ¬ë…í•˜ëŠ” ìª½ì—ì„œ ì²˜ë¦¬í•˜ë©´ì„œ nê°œì”© ë‹¬ë¼ê³ 
í•˜ë©´ì„œ ë°°ì••ì„ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Flow</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">SubmissionPublisher</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FlowInJava</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Flow<span class="token punctuation">.</span>Publisher</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> publisher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubmissionPublisher</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Flow<span class="token punctuation">.</span>Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> subscriber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Flow<span class="token punctuation">.</span>Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">private</span> <span class="token class-name">Flow<span class="token punctuation">.</span>Subscription</span> subscription<span class="token punctuation">;</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSubscribe</span><span class="token punctuation">(</span><span class="token class-name">Flow<span class="token punctuation">.</span>Subscription</span> subscription<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;sub!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// ì €ì¥</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>subscription <span class="token operator">=</span> subscription<span class="token punctuation">;</span>
                <span class="token comment">// publisherì—ê²Œ 1ê°œ ìš”ì²­</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>subscription<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">String</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onNext called&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ë˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ìŠ¤ë ˆë“œëª… ì¶œë ¥</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">}</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;completed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// êµ¬ë…</span>
        publisher<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">SubmissionPublisher</span><span class="token punctuation">)</span> publisher<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token string">&quot;hello java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ì´ê²Œ ë¨¼ì € ì¶œë ¥ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://user-images.githubusercontent.com/42997924/153322145-aa581c01-e0b0-4d04-94a5-dcce9770c5f5.png" alt="observer_06"></p> <h3 id="_4-á„‰á…³á„‘á…³á„…á…µá†¼-applicationcontextá„‹á…ª-applicationevent"><a href="#_4-á„‰á…³á„‘á…³á„…á…µá†¼-applicationcontextá„‹á…ª-applicationevent" class="header-anchor">#</a> 4. ìŠ¤í”„ë§ - ApplicationContextì™€ ApplicationEvent</h3> <p>ApplicationContext - ìŠ¤í”„ë§ IoCì˜ ëŒ€í‘œ Container</p> <p>ApplicationContextê°€ ì´ë²¤íŠ¸ Publisherì´ë‹¤.</p> <h5 id="_1-á„‹á…µá„‡á…¦á†«á„á…³-á„á…³á†¯á„…á…¢á„‰á…³-á„€á…®á„’á…§á†«"><a href="#_1-á„‹á…µá„‡á…¦á†«á„á…³-á„á…³á†¯á„…á…¢á„‰á…³-á„€á…®á„’á…§á†«" class="header-anchor">#</a> 1. ì´ë²¤íŠ¸ í´ë˜ìŠ¤ êµ¬í˜„</h5> <ul><li>ì´ë²¤íŠ¸ë¥¼ í†µí•´ ì „ë‹¬í•˜ê³  ì‹¶ì€ ë°ì´í„°ë¥¼ í•„ë“œë¡œ ì¶”ê°€í•˜ë©´ ëœë‹¤.
<ul><li>ì „ë‹¬í•˜ë ¤ëŠ” ë°ì´í„°ëŠ” ìƒì„±ìë¡œ ë°›ì•„ì˜¤ë©´ ëœë‹¤.</li></ul></li> <li>êµ³ì´ ìŠ¤í”„ë§ì´ ì œê³µí•´ì£¼ëŠ” <code>ApplicationEvent</code>  íƒ€ì…ì„ ì“°ì§€ ì•Šê³  ì„ì˜ì˜ íƒ€ì…ë„ ì´ë²¤íŠ¸ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyEvent</span> <span class="token punctuation">{</span>
    <span class="token comment">// ì „ë‹¬í•˜ë ¤ëŠ” ë°ì´í„°</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span> 

    <span class="token keyword">public</span> <span class="token class-name">MyEvent</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>ApplicationEvent í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì„œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.</p></li> <li><p>source : ì´ë²¤íŠ¸ë¥¼ ì œê³µí•˜ëŠ” publisher ì •ë³´ë¥¼ ì§€ì¹­</p></li></ul> <h5 id="_2-á„‹á…µá„‡á…¦á†«á„á…³-á„‡á…¡á†¯á„‰á…¢á†¼"><a href="#_2-á„‹á…µá„‡á…¦á†«á„á…³-á„‡á…¡á†¯á„‰á…¢á†¼" class="header-anchor">#</a> 2. ì´ë²¤íŠ¸ ë°œìƒ</h5> <p>ì—¬ëŸ¬ ë°©ë²•ì´ ìˆì§€ë§Œ ApplicationRunnerì„ ì´ìš©</p> <p>â€» ApplicationRunner</p> <ul><li>ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥</li> <li>ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë„ì› ì„ ë•Œ ìë™ìœ¼ë¡œ ì‹¤í–‰í•´ì£¼ëŠ” ì½”ë“œë¥¼ ë„£ê³  ì‹¶ìœ¼ë©´ ApplicationRunnerì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.</li></ul> <p>ApplicationContextë¥¼ ì´ìš©í•´ì„œ ì´ë²¤íŠ¸ë¥¼ publishí•  ìˆ˜ ìˆë‹¤. êµ¬ì²´ì ìœ¼ë¡œëŠ” ApplicationContextê°€ êµ¬í˜„í•˜ê³  ìˆëŠ”
ApplicationEventPublisherë¥¼ ì‚¬ìš©í•´ë„ ëœë‹¤.</p> <ul><li><code>publishEvent(ì´ë²¤íŠ¸)</code> : ì´ë²¤íŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ publish</li></ul> <div class="language-java extra-class"><pre class="language-java"><code>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRunner</span> <span class="token keyword">implements</span> <span class="token class-name">ApplicationRunner</span> <span class="token punctuation">{</span>
    <span class="token comment">// ê°€ì¥ êµ¬ì²´ì ì¸ ì¸í„°í˜ì´ìŠ¤ íƒ€ì…</span>
    <span class="token keyword">private</span> <span class="token class-name">ApplicationEventPublisher</span> publisher<span class="token punctuation">;</span> 

    <span class="token keyword">public</span> <span class="token class-name">MyRunner</span><span class="token punctuation">(</span><span class="token class-name">ApplicationEventPublisher</span> publisher<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>publisher <span class="token operator">=</span> publisher<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ApplicationArguments</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// ì´ë²¤íŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ publish</span>
        publisher<span class="token punctuation">.</span><span class="token function">publishEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyEvent</span><span class="token punctuation">(</span><span class="token string">&quot;hello spring event&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_3-á„‹á…µá„‡á…¦á†«á„á…³-á„…á…µá„‰á…³á„‚á…¥-á„€á…®á„’á…§á†«"><a href="#_3-á„‹á…µá„‡á…¦á†«á„á…³-á„…á…µá„‰á…³á„‚á…¥-á„€á…®á„’á…§á†«" class="header-anchor">#</a> 3. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ êµ¬í˜„</h5> <ul><li>ApplicationListenerë¥¼ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.</li> <li><code>@EventListener(MyEvent.class)</code> ì• ë…¸í…Œì´ì…˜ì„ í™œìš©í•´ì„œ ë¦¬ìŠ¤ë‹í•˜ë ¤ëŠ” ì´ë²¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ì„ ì–¸í•´ì£¼ë©´ ëœë‹¤.</li> <li>ì´ë²¤íŠ¸ í´ë˜ìŠ¤ íƒ€ì… ê·¸ëŒ€ë¡œ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ìœ¼ë©´ ëœë‹¤.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyEventListener</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@EventListener</span><span class="token punctuation">(</span><span class="token class-name">MyEvent</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onApplicationEvent</span><span class="token punctuation">(</span><span class="token class-name">MyEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>ApplicationListenerë¥¼ êµ¬í˜„í•´ì„œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p></li> <li><p>ì œë„¤ë¦­ íƒ€ì…ìœ¼ë¡œ ì „ë‹¬ë°›ê³ ì í•˜ëŠ” ì´ë²¤íŠ¸ íƒ€ì…ì„ ì ì–´ì¤€ë‹¤.</p></li> <li><p>ë¹ˆìœ¼ë¡œ ë“±ë¡ì´ ë˜ì–´ìˆì–´ì•¼ ìŠ¤í”„ë§ì´ ì•Œì•„ì„œ ì—°ê²°í•´ì£¼ë¯€ë¡œ <code>@Component</code> ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì„œ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤.</p></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/10/2022, 8:37:32 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/til/assets/js/app.4da9ca1b.js" defer></script><script src="/til/assets/js/2.f827bc55.js" defer></script><script src="/til/assets/js/120.ba61235a.js" defer></script><script src="/til/assets/js/46.01e6df54.js" defer></script>
  </body>
</html>
