<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HAProxy | Today Youngjun learned✍</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/til/images/logo-144.png">
    <link rel="manifest" href="/til/manifest.json">
    <meta name="description" content="Youngjun`s Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/til/assets/css/0.styles.5b85764b.css" as="style"><link rel="preload" href="/til/assets/js/app.bfbfa927.js" as="script"><link rel="preload" href="/til/assets/js/2.f827bc55.js" as="script"><link rel="preload" href="/til/assets/js/11.af453223.js" as="script"><link rel="preload" href="/til/assets/js/46.01e6df54.js" as="script"><link rel="prefetch" href="/til/assets/js/10.d7bebace.js"><link rel="prefetch" href="/til/assets/js/100.5789d20a.js"><link rel="prefetch" href="/til/assets/js/101.c34422c8.js"><link rel="prefetch" href="/til/assets/js/102.5669c6e9.js"><link rel="prefetch" href="/til/assets/js/103.5bfa6597.js"><link rel="prefetch" href="/til/assets/js/104.80865abc.js"><link rel="prefetch" href="/til/assets/js/105.d4b6ee29.js"><link rel="prefetch" href="/til/assets/js/106.bfc58b9a.js"><link rel="prefetch" href="/til/assets/js/107.94230b50.js"><link rel="prefetch" href="/til/assets/js/108.5f216130.js"><link rel="prefetch" href="/til/assets/js/109.51e245f9.js"><link rel="prefetch" href="/til/assets/js/110.8ca4309a.js"><link rel="prefetch" href="/til/assets/js/111.bc804496.js"><link rel="prefetch" href="/til/assets/js/112.c60a0917.js"><link rel="prefetch" href="/til/assets/js/113.830f3786.js"><link rel="prefetch" href="/til/assets/js/114.d3993c2e.js"><link rel="prefetch" href="/til/assets/js/115.b4929715.js"><link rel="prefetch" href="/til/assets/js/116.1fd08ec1.js"><link rel="prefetch" href="/til/assets/js/117.2a1c47b1.js"><link rel="prefetch" href="/til/assets/js/118.38ba08b9.js"><link rel="prefetch" href="/til/assets/js/119.320ea3f4.js"><link rel="prefetch" href="/til/assets/js/12.a3d5f9cc.js"><link rel="prefetch" href="/til/assets/js/120.a585aa3b.js"><link rel="prefetch" href="/til/assets/js/121.2c826722.js"><link rel="prefetch" href="/til/assets/js/122.da4f6f2f.js"><link rel="prefetch" href="/til/assets/js/123.6aca698b.js"><link rel="prefetch" href="/til/assets/js/124.ce2b3f2e.js"><link rel="prefetch" href="/til/assets/js/125.7606400e.js"><link rel="prefetch" href="/til/assets/js/126.39b878a4.js"><link rel="prefetch" href="/til/assets/js/127.c453aa60.js"><link rel="prefetch" href="/til/assets/js/128.afb353a5.js"><link rel="prefetch" href="/til/assets/js/129.cfdec7bb.js"><link rel="prefetch" href="/til/assets/js/13.36b91a88.js"><link rel="prefetch" href="/til/assets/js/130.a2dcc955.js"><link rel="prefetch" href="/til/assets/js/131.37112240.js"><link rel="prefetch" href="/til/assets/js/132.6b6b543d.js"><link rel="prefetch" href="/til/assets/js/133.e65111ff.js"><link rel="prefetch" href="/til/assets/js/134.eb6a431a.js"><link rel="prefetch" href="/til/assets/js/135.a6941348.js"><link rel="prefetch" href="/til/assets/js/136.654d66c8.js"><link rel="prefetch" href="/til/assets/js/137.980efe26.js"><link rel="prefetch" href="/til/assets/js/138.71127e4d.js"><link rel="prefetch" href="/til/assets/js/139.3d84eea7.js"><link rel="prefetch" href="/til/assets/js/14.21d198f0.js"><link rel="prefetch" href="/til/assets/js/140.e7cad63e.js"><link rel="prefetch" href="/til/assets/js/141.a60a4e88.js"><link rel="prefetch" href="/til/assets/js/142.5973a54e.js"><link rel="prefetch" href="/til/assets/js/143.ea3dd2a6.js"><link rel="prefetch" href="/til/assets/js/15.a0350cec.js"><link rel="prefetch" href="/til/assets/js/16.6ccf773c.js"><link rel="prefetch" href="/til/assets/js/17.92966275.js"><link rel="prefetch" href="/til/assets/js/18.0d484a85.js"><link rel="prefetch" href="/til/assets/js/19.ce64e38d.js"><link rel="prefetch" href="/til/assets/js/20.5c8846a0.js"><link rel="prefetch" href="/til/assets/js/21.2e485fd8.js"><link rel="prefetch" href="/til/assets/js/22.083d91dc.js"><link rel="prefetch" href="/til/assets/js/23.a79ef9c9.js"><link rel="prefetch" href="/til/assets/js/24.1c53e189.js"><link rel="prefetch" href="/til/assets/js/25.43488937.js"><link rel="prefetch" href="/til/assets/js/26.cfda8508.js"><link rel="prefetch" href="/til/assets/js/27.04675916.js"><link rel="prefetch" href="/til/assets/js/28.201dabcb.js"><link rel="prefetch" href="/til/assets/js/29.229f0abe.js"><link rel="prefetch" href="/til/assets/js/3.523a327b.js"><link rel="prefetch" href="/til/assets/js/30.f00fd4d5.js"><link rel="prefetch" href="/til/assets/js/31.e2302d67.js"><link rel="prefetch" href="/til/assets/js/32.20d8b662.js"><link rel="prefetch" href="/til/assets/js/33.ae5e8e46.js"><link rel="prefetch" href="/til/assets/js/34.32525616.js"><link rel="prefetch" href="/til/assets/js/35.c2833f9c.js"><link rel="prefetch" href="/til/assets/js/36.7df57647.js"><link rel="prefetch" href="/til/assets/js/37.d923853e.js"><link rel="prefetch" href="/til/assets/js/38.d261d060.js"><link rel="prefetch" href="/til/assets/js/39.239a50af.js"><link rel="prefetch" href="/til/assets/js/4.45c650f4.js"><link rel="prefetch" href="/til/assets/js/40.2d9bc2a1.js"><link rel="prefetch" href="/til/assets/js/41.caa07bae.js"><link rel="prefetch" href="/til/assets/js/42.45690ce9.js"><link rel="prefetch" href="/til/assets/js/43.825c1580.js"><link rel="prefetch" href="/til/assets/js/44.a1853fe4.js"><link rel="prefetch" href="/til/assets/js/45.c5347b78.js"><link rel="prefetch" href="/til/assets/js/47.1fbcadb6.js"><link rel="prefetch" href="/til/assets/js/48.2b9b1509.js"><link rel="prefetch" href="/til/assets/js/49.494fbd72.js"><link rel="prefetch" href="/til/assets/js/5.0aa337fe.js"><link rel="prefetch" href="/til/assets/js/50.b3e0241f.js"><link rel="prefetch" href="/til/assets/js/51.497b25e7.js"><link rel="prefetch" href="/til/assets/js/52.079e17c0.js"><link rel="prefetch" href="/til/assets/js/53.d15109f5.js"><link rel="prefetch" href="/til/assets/js/54.d9dc8d80.js"><link rel="prefetch" href="/til/assets/js/55.989f2527.js"><link rel="prefetch" href="/til/assets/js/56.5b7c8e8e.js"><link rel="prefetch" href="/til/assets/js/57.7b163896.js"><link rel="prefetch" href="/til/assets/js/58.2ca7da5b.js"><link rel="prefetch" href="/til/assets/js/59.926b192a.js"><link rel="prefetch" href="/til/assets/js/6.52e5f234.js"><link rel="prefetch" href="/til/assets/js/60.221c2169.js"><link rel="prefetch" href="/til/assets/js/61.d1814565.js"><link rel="prefetch" href="/til/assets/js/62.2c62fe16.js"><link rel="prefetch" href="/til/assets/js/63.64d19172.js"><link rel="prefetch" href="/til/assets/js/64.45e22399.js"><link rel="prefetch" href="/til/assets/js/65.4c350e04.js"><link rel="prefetch" href="/til/assets/js/66.5a834cf8.js"><link rel="prefetch" href="/til/assets/js/67.d1c48057.js"><link rel="prefetch" href="/til/assets/js/68.77fbd198.js"><link rel="prefetch" href="/til/assets/js/69.90e61771.js"><link rel="prefetch" href="/til/assets/js/7.21123317.js"><link rel="prefetch" href="/til/assets/js/70.a784e544.js"><link rel="prefetch" href="/til/assets/js/71.493fbe0d.js"><link rel="prefetch" href="/til/assets/js/72.3746d801.js"><link rel="prefetch" href="/til/assets/js/73.289e070e.js"><link rel="prefetch" href="/til/assets/js/74.26c52c69.js"><link rel="prefetch" href="/til/assets/js/75.cf19f8d1.js"><link rel="prefetch" href="/til/assets/js/76.c3b42ac9.js"><link rel="prefetch" href="/til/assets/js/77.aa7da66b.js"><link rel="prefetch" href="/til/assets/js/78.896bd633.js"><link rel="prefetch" href="/til/assets/js/79.272c621f.js"><link rel="prefetch" href="/til/assets/js/8.bc2662d1.js"><link rel="prefetch" href="/til/assets/js/80.8488b5a6.js"><link rel="prefetch" href="/til/assets/js/81.edc4bc43.js"><link rel="prefetch" href="/til/assets/js/82.c38528d6.js"><link rel="prefetch" href="/til/assets/js/83.3faadb6e.js"><link rel="prefetch" href="/til/assets/js/84.d8a552da.js"><link rel="prefetch" href="/til/assets/js/85.55f502c3.js"><link rel="prefetch" href="/til/assets/js/86.c493861b.js"><link rel="prefetch" href="/til/assets/js/87.1bb57bd2.js"><link rel="prefetch" href="/til/assets/js/88.2d238be1.js"><link rel="prefetch" href="/til/assets/js/89.81f41fd8.js"><link rel="prefetch" href="/til/assets/js/9.1d59b63f.js"><link rel="prefetch" href="/til/assets/js/90.db78fbe7.js"><link rel="prefetch" href="/til/assets/js/91.9074b2eb.js"><link rel="prefetch" href="/til/assets/js/92.57b5abb5.js"><link rel="prefetch" href="/til/assets/js/93.325238be.js"><link rel="prefetch" href="/til/assets/js/94.b9819f7d.js"><link rel="prefetch" href="/til/assets/js/95.2bd5be66.js"><link rel="prefetch" href="/til/assets/js/96.f7ec3a35.js"><link rel="prefetch" href="/til/assets/js/97.f6c12817.js"><link rel="prefetch" href="/til/assets/js/98.542b0796.js"><link rel="prefetch" href="/til/assets/js/99.cc724f32.js">
    <link rel="stylesheet" href="/til/assets/css/0.styles.5b85764b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/til/" class="home-link router-link-active"><!----> <span class="site-name">Today Youngjun learned✍</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>🎨 Elasticsearch</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/til/ElasticSearch/01.ElasticSearch.html" class="sidebar-link">ElasticSearch Windows10 설치 및 기본 동작 이해</a></li><li><a href="/til/ElasticSearch/02.ElasticSearch.html" class="sidebar-link">ElasticSearch 데이터 입력, 조회, 삭제 실습</a></li><li><a href="/til/ElasticSearch/03.ElasticSearch.html" class="sidebar-link">ElasticSearch 데이터 업데이트 실습</a></li><li><a href="/til/ElasticSearch/04.ElasticSearch.html" class="sidebar-link">ElasticSearch 벌크(Bulk)</a></li><li><a href="/til/ElasticSearch/05.ElasticSearch.html" class="sidebar-link">ElasticSearch 매핑(Mapping)</a></li><li><a href="/til/ElasticSearch/06.ElasticSearch.html" class="sidebar-link">ElasticSearch 데이터 조회(Search)</a></li><li><a href="/til/ElasticSearch/07.ElasticSearch.html" class="sidebar-link">ElasticSearch Metric Aggregation</a></li><li><a href="/til/ElasticSearch/08.ElasticSearch.html" class="sidebar-link">ElasticSearch Bucket Aggregation</a></li><li><a href="/til/ElasticSearch/09.ElasticSearch.html" class="sidebar-link">Elasticsearch7 - Java Rest Client</a></li><li><a href="/til/ElasticSearch/10.ElasticSearch.html" class="sidebar-link">Elasticsearch7 Java REST Client 시작하기</a></li><li><a href="/til/ElasticSearch/14.Logstash.html" class="sidebar-link">Logstash 설치</a></li><li><a href="/til/ElasticSearch/15.Logstash.html" class="sidebar-link">Logstash MySQL 연동하기</a></li><li><a href="/til/ElasticSearch/Error-handling.html" class="sidebar-link">Error Handling Note</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🐳 Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🐋 Kubernetes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📘 Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📗 GCP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📙 Machine Learning</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📕 Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💚 Data Structure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💝 Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💙 Kubeflow</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🖤 News</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💜 NGINX</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🤍 Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🤎 System Programming</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💛 UX&amp;UI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💕 Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📌 etc</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="haproxy"><a href="#haproxy" class="header-anchor">#</a> HAProxy</h1> <p><img src="/til/assets/img/haproxy00.0c0adf84.png" alt="img"></p> <p>HAProxy를 공부하기 앞서 로드밸런싱(Load Balancing)을 알아야한다.</p> <h2 id="로드밸런싱이란"><a href="#로드밸런싱이란" class="header-anchor">#</a> 로드밸런싱이란?</h2> <p>하나의 서비스에 대한 부하를 여러 서버로 분산하는 것</p> <h2 id="왜-로드밸런서가-필요할까"><a href="#왜-로드밸런서가-필요할까" class="header-anchor">#</a> 왜 로드밸런서가 필요할까</h2> <p><img src="/til/assets/img/haproxy10.1266a320.png" alt="img"></p> <p>▲ <em>일반적인 개인 서버의 구조(</em><a href="https://blog.develope.kr/" target="_blank" rel="noopener noreferrer">https://blog.develope.kr/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <p>위 사진처럼 클라이언트가 한두명 일경우 서버는 여유롭게 응답할 수 있지만, 클라이언트가 많아지면 요청에 대한 응답을 할 수 없게 될 수 있다.</p> <p>서버 측은, 이러한 문제를 해결하기 위한 두가지 방법을 고려할 수 있다.</p> <ol><li>Scale-up</li> <li>Scale-out</li></ol> <h3 id="scale-up"><a href="#scale-up" class="header-anchor">#</a> Scale-up</h3> <ul><li>서버의 사양을 높이는 경우</li> <li>하나의 서버가 한번에 더 많은 응답을 처리할 수 있음</li></ul> <h3 id="scale-out"><a href="#scale-out" class="header-anchor">#</a> Scale-out</h3> <ul><li>부하를 여러 서버에게 분산하는 경우</li></ul> <blockquote><p>HAProxy는 Scale-out을 위해 로드밸런싱을 해주는 SW 로드밸런서이다.</p></blockquote> <h2 id="기존의-로드밸런서-load-balancer"><a href="#기존의-로드밸런서-load-balancer" class="header-anchor">#</a> 기존의 로드밸런서(Load Balancer)</h2> <h3 id="hw-load-balancer"><a href="#hw-load-balancer" class="header-anchor">#</a> HW Load Balancer</h3> <ul><li>L2 : Mac 주소 기반 로드밸런싱</li> <li>L3 : IP 주소 기반 로드밸런싱</li> <li>L4 : Transport Layer(IP와 Port) Level - Load Balancing(TCP, UDP)</li> <li>L7 : Application Layer(사용자의 Request) Level - Load Balancing(HTTP, HTTPS, FTP)</li></ul> <p><img src="/til/assets/img/haproxy11.a4bfbdf5.png" alt="img"></p> <p><img src="/til/assets/img/haproxy12.6f265281.png" alt="img"></p> <h3 id="load-balancer의-기능"><a href="#load-balancer의-기능" class="header-anchor">#</a> Load Balancer의 기능</h3> <p><strong>(1) NAT(Network Address Translation)</strong></p> <ul><li><strong>사설 IP 주소를 공인 IP 주소로 바꾸는 데 사용</strong>하는 통신망의 주소 변조기</li></ul> <p><strong>(2) DSR(Dynamic Source Routing protocol)</strong></p> <ul><li>로드 밸런서 사용 시 <strong>서버에서 클라이언트로 되돌아가는 경우 목적지 주소를 스위치의 IP 주소가 아닌 클라이언트의 IP 주소로 전달</strong>해서 네트워크 스위치를 거치지 않고 바로 클라이언트를 찾아가는 개념</li></ul> <p><strong>(3) Tunneling</strong></p> <ul><li>인터넷상에서 눈에 보이지 않는 통로를 만들어 통신할 수 있게 하는 개념으로, <strong>데이터를 캡슐화해서 연결된 상호 간에만 캡슐화된 패킷을 구별해 캡슐화를 해제</strong>할 수 있다.</li></ul> <h2 id="haproxy란"><a href="#haproxy란" class="header-anchor">#</a> HAProxy란?</h2> <p><img src="/til/assets/img/haproxy01.72cfc719.png" alt="img"></p> <p>L4, L7와 같은 Hardware LoadBalancer를 대체하기 위한 Open Source로 Reverse Proxy를 기반으로 한 L4, L7 Software LoadBalancer이다.</p> <p>Nginx에 비해 Active Heath Check가 가능하므로 좀 더 안정적으로 사용할 수 있으며 HAProxy 설정 추가를 통해 Scale-Out도 할 수 있다.</p> <p>HTTP 통신의 경우 Web-Server (Nginx, Apache 등)를 이중화 시켜줄수 있으며 HTTP와 같은 표준 프로토콜이 아닌 TCP Socket 통신에 대해서도 이중화처리가 가능하다.</p> <p>HAProxy의 경우 HA를 구성하기위해 Keepalived를 많이 사용한다. Keepalived를 사용하여 HAProxy를 이중화하면 아래와 같은 그림이다.</p> <p><img src="/til/assets/img/haproxy02.43fb3605.png" alt="img"></p> <h2 id="haproxy-동작방식"><a href="#haproxy-동작방식" class="header-anchor">#</a> HAProxy 동작방식</h2> <p>HAProxy는 기본적으로 Reverse Proxy 형태로 동작한다. (즉, 실제 서버 앞단에 존재하며 서버로 오는 요청을 대신 받아 뒷단의 서버에 전달하고 결과를 리턴받아 요청한 곳에 다시 전달하는 역할을 한다.)</p> <p>HAProxy의 동작 흐름은 다음과 같다.</p> <p><img src="/til/assets/img/haproxy03.0ff86a7a.png" alt="img"></p> <ol><li>최초 접근시 서버에 요청 전달</li> <li>응답시 쿠키 (Cookie) 에 서버 정보 추가 후 반환</li> <li>재 요청시 Proxy에서 쿠키 정보 확인 후 최초 요청 서버로 전달</li> <li>다시 접근 시 쿠키를 추가할 필요없이 서버에 전달 (클라이언트에 쿠키 정보가 계속 존재하여 재사용)</li></ol> <h2 id="haproxy-ha"><a href="#haproxy-ha" class="header-anchor">#</a> HAProxy HA</h2> <p>HAProxy는 기본적으로 VRRP (Virtual Router Redundancy Protocol) 를 지원한다.</p> <p><img src="/til/assets/img/haproxy04.dc8ba655.png" alt="img"></p> <p>위 그림과 같이 HAProxy를 이중화하여 Master 장애 발생시 Slave가 Master의 VIP를 가져와 Master로 승격된다. 무중단 서비스이지만 1초정도의 순단 현상은 발생할 수 있다.</p> <h2 id="haproxy-ha-동작방식"><a href="#haproxy-ha-동작방식" class="header-anchor">#</a> HAProxy HA 동작방식</h2> <p>HA로 설정된 HAProxy의 동작흐름이 단일 HAProxy와 다른점은 최초 접근시 쿠키에 바로 서버 정보를 입력하지 않고 서버에서 Jsessionid가 전달될 때 서버 정보를 합쳐서 전달한다는 것이다.</p> <p><img src="/til/assets/img/haproxy05.0af2cfe2.png" alt="img"></p> <ol><li>쿠키에 정보가 없고 X-Forwarded-For에 정보 추가</li> <li>쿠키에 추가 없음</li> <li>Jsessionid 추가</li> <li>서버 정보와 Jsessionid를 쿠키에 추가</li> <li>쿠키에서 서버 판별 후 Jsessionid만 전달</li></ol> <h2 id="haproxy-환경-예제"><a href="#haproxy-환경-예제" class="header-anchor">#</a> HAProxy 환경 예제</h2> <h3 id="_1-l4-switch-haproxy"><a href="#_1-l4-switch-haproxy" class="header-anchor">#</a> 1. L4 Switch + HAProxy</h3> <p><img src="/til/assets/img/haproxy06.2751c58a.png" alt="img"></p> <ul><li>L4 스위치 이중화와 HAProxy 이중화로 구성하는 방법으로 해당 구성이 보통 FM 구성이다.</li></ul> <h3 id="_2-gslb-global-service-load-balancing-haproxy"><a href="#_2-gslb-global-service-load-balancing-haproxy" class="header-anchor">#</a> 2. GSLB (Global Service Load Balancing) + HAProxy</h3> <p><img src="/til/assets/img/haproxy07.b4e29fa9.png" alt="img"></p> <ul><li>Global 서비스의 경우 IDC간 이중화 및 Global 환경에서 무정지 서비스를 위한 DR (Disaster Recovery, 재해복구) 시스템 구축이 필요하다.</li> <li>GSLB L4 스위치를 사용할수도 있지만 GSLB 구성용 L4 스위치의 경우 고가이기에 위의 그림은 DNS (BIND) 를 이용한 구축형태이다.</li> <li>클라이언트가 DNS로 도메인 조회시 근거리 IDC 정보를 전달하는 방법이다.</li></ul> <h2 id="haproxy-구성하기"><a href="#haproxy-구성하기" class="header-anchor">#</a> HAProxy 구성하기</h2> <p>테스트 환경</p> <ul><li>OS : Ubuntu 18.04</li> <li>HAProxy Server 2EA : 192.168.219.125 / 192.168.219.126</li> <li>Web Node 2EA :</li></ul> <h3 id="_1-kernel-paramater-수정"><a href="#_1-kernel-paramater-수정" class="header-anchor">#</a> 1. Kernel Paramater 수정</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># echo 'net.ipv4.ip_nonlocal_bind=1' &gt;&gt; /etc/sysctl.conf</span>
<span class="token comment"># echo 'net.ipv4.ip_forward = 1' &gt;&gt; /etc/sysctl.conf</span>
<span class="token comment"># sysctl -p 또는 Reboot</span>
<span class="token comment"># cat /proc/sys/net/ipv4/ip_nonlocal_bind</span>
</code></pre></div><p><img src="/til/assets/img/haproxy08.580ba68c.png" alt="img"></p> <p>net.ipv4.ip_nonlocal_bind 옵션은 프로그램이 시스템 상의 장치에 없는 주소로 Binding 할 수 있도록 할 수 있게하는 커널 파라미터이다.</p> <p>즉 Network Interface에 등록되지 않은 동적 IP (VIP와 같은) 를 연결할 때 사용한다.</p> <h3 id="_2-haproxy-설치"><a href="#_2-haproxy-설치" class="header-anchor">#</a> 2. HAProxy 설치</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># apt install -y haproxy</span>
</code></pre></div><p>→ Ubuntu 18.04에서 기본 Repo로 설치시 1.8.8 버전이 설치된다.</p> <p>현재 (2020-10) 2.1.4버전이 최신버전이며 1.5버전부터 SSL을 지원하기 때문에 기본설치방법으로도 SSL 사용이 가능하지만 최신 버전을 사용하고 싶다면 wget을 사용하여 다운로드 후 컴파일하거나 별도 Repo를 추가시켜준다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># apt-add-repository ppa:vbernat/haproxy-2.1</span>
<span class="token comment"># apt update</span>
<span class="token comment"># apt install -y haproxy 또는 apt install -y haproxy=2.1</span>
</code></pre></div><p>→ 위와 같은 방법으로 Repo 추가 후 설치하면 2.1.4 버전이 설치된다.</p> <h3 id="_3-haproxy-설정"><a href="#_3-haproxy-설정" class="header-anchor">#</a> 3. HAProxy 설정</h3> <p><strong>(1) HAProxy Config 섹션</strong></p> <p>global, defaults, listen, frontend, backend의 영역으로 구분된다.</p> <ul><li>global : 전체 영역에 걸쳐 적용되는 기본 설정을 담당</li> <li>defaults : 이후 오는 영역(frontend, backend, listen)에 적용되는 설정</li> <li>frontend : 클라이언트 연결을 받아들이는 소켓에 대한 설정</li> <li>backend : 앞에서 들어온 연결에 할당될 프록시 서버들에 대한 설정</li> <li>listen : frontend와 backend로 사용되는 포트를 한번에 설정하는 영역으로 TCP 프록시에서만 이용</li></ul> <p>Option Manual : <a href="https://cbonte.github.io/haproxy-dconv/1.8/configuration.html" target="_blank" rel="noopener noreferrer">https://cbonte.github.io/haproxy-dconv/1.8/configuration.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>(2) Balance Option</strong></p> <p>Roundrobin : 순차적으로 분배</p> <p>static-rr : 서버에 부여된 가중치에 따라서 분배</p> <p>leastconn : 접속수가 가장 적은 서버로 분배</p> <p>source : 운영중인 서버의 가중치를 나눠서 접속자 IP 해싱(hashing)해서 분배</p> <p>uri : 접속하는 URI를 해싱해서 운영중인 서버의 가중치를 나눠서 분배 (URI의 길이 또는 depth로 해싱)</p> <p>url_param : HTTP GET 요청에 대해서 특정 패턴이 있는지 여부 확인 후 조건에 맞는 서버로 분배 (조건 없는 경우 round_robin으로 처리)</p> <p>hdr : HTTP 헤더에서 hdr(<name>)으로 지정된 조건이 있는 경우에 대해서만 분배 (조건없는 경우 round robin 으로 처리)</name></p> <p>rdp-cookie : TCP 요청에 대한 RDP 쿠키에 따른 분배</p> <p><strong>(3) HAProxy 설정</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># vim /etc/haproxy/haproxy.cfg</span>
</code></pre></div><ul><li>global # 전역 섹션 프로세스 전체에 영향을 주는 내용</li> <li>log 127.0.0.1 local1 notice # 지정한 ip (127.0.0.1) 또는 소켓 (/dev/log)에 로그를 보냄</li> <li>local1 뒤에는 로그 레벨을 지정할 수 있는데 notice를 붙이면 emerg-notice 레벨을 보내고</li> <li>local1 notice notice 로 설정하면 notice 레벨만 syslog로 보냄 (notice는 최소레벨을 의미)</li> <li>rsyslog에서 &quot;local1.notice /var/log/haproxy.log&quot; 형식으로 설정필요 (# echo &quot;local1.notice /var/log/haproxy.log&quot; → /etc/rsyslog.d/50-default.conf)</li> <li>chroot /var/lib/haproxy # 서비스 Jail 경로, 슈퍼유저로 실행 시 모든 동작은 이 안에서만 수행 (보안 상승)</li> <li>stats socket /run/haproxy/admin.sock mode 660 level admin expose-fd listeners # stats page를 사용하기 위한 Unix 소켓 바인딩</li> <li>stats timeout 30s # stats에 timeout 시간 설정 (stats_page timeout)</li> <li>user haproxy # 프로세스 사용자</li> <li>group haproxy # 프로세스 그룹</li> <li>daemon # 백그라운드로 동작</li> <li>maxconn 4000 # 프로세스당 최대 연결 개수</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>ca-base /etc/ssl/certs
crt-base /etc/ssl/private

ssl-default-bind-ciphers ECDH+AESGCM:DH+AESGCM:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:RSA+AESGCM:RSA+AES:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>DSS
ssl-default-bind-options no-sslv3
</code></pre></div><ul><li>defaults # front, back, listen에 관련된 전역 섹션</li> <li>log global # 로그는 기본적으로 global 설정을 따르겠다는 옵션</li> <li>mode http # http 프로토콜을 사용하는 로드밸런싱 모드</li> <li>option httplog # 기본 Log는 SIP, DIP와 Name만 표기하므로 이 옵션을 사용해 좀 더 자세하게 출력</li> <li>option dontlognull # 로그 비대화 방지를 위해 Probe(정찰, 스캔)과 같은 잡다한 기록을 HAProxy Log화 하지않는 옵션</li> <li>option forwardfor # 클라이언트 정보 전달 (X-Forwarded-For 헤더를 넣어서 전달)</li> <li>option httpclose # keep-alive 문제 발생시 off 옵션</li> <li>timeout http-request 10s # Request시의 헤더에만 적용, DDos 방어를 위해 HTTP 요청 타임아웃시간 설정 (클라이언트의 연결 타임아웃과는 무관한 HAProxy 서버의 옵션임)</li> <li>timeout http-keep-alive 10s # 클라이언트 요청에 따른 응답 전송 후 다음 요청 대기시간 설정 (http-request가 선행함)</li> <li>timeout connect 10s # TCP 패킷 손실을 막기위한 Real 서버로의 연결 최대 지연시간 설정 (Backend에 적용되나 전역으로 설정 가능)</li> <li>timeout client 1m # 외부 클라이언트 요청이나 데이터와의 연결 최대 시간 (Request와 같이 사용하여 서버 안정성을 구현)</li> <li>timeout server 1m # 서버가 데이터를 승인하거나 전송해야할 때의 연결 최대 시간</li> <li>timeout queue 1m # 서버의 maxconn 도달시 무한정 보류상태로 두지 않고 HTTP 503 응답을 보내면서 연결을 버리는 시간 설정 (Surge Queue Time)</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 에러 파일 설정</span>
errorfile <span class="token number">400</span> /etc/haproxy/errors/400.http
errorfile <span class="token number">403</span> /etc/haproxy/errors/403.http
errorfile <span class="token number">408</span> /etc/haproxy/errors/408.http
errorfile <span class="token number">500</span> /etc/haproxy/errors/500.http
errorfile <span class="token number">502</span> /etc/haproxy/errors/502.http
errorfile <span class="token number">503</span> /etc/haproxy/errors/503.http
errorfile <span class="token number">504</span> /etc/haproxy/errors/504.http
</code></pre></div><p>listen stats_page # Listen은 Front / Back의 연결 포트 / 옵션들을 정의함 (TCP 제어나 Proxy에 주로 사용)</p> <ul><li>bind *:8080 # 접속 포트 지정</li> <li>stats enable # 상태 페이지 활성화</li> <li>stats realm HAProxy Statistics # 브라우저 타이틀</li> <li>stats uri / # 접근할 URI 경로</li> <li>stats auth admin:admin # 인증 추가 (auth [User]:[Password])</li></ul> <p>frontend haproxy # 클라이언트 연결을 받아들이는 소켓에 대한 설정 (WAF 기능에 가까움)</p> <ul><li>bind *:80 # 접속 포트 지정</li> <li>mode http # 프로토콜 유형 설정</li> <li>default_backend server # Front서버에서 전달할 기본 backend</li></ul> <p>backend server # Front에서 들어온 연결에 할당될 프록시 서버들에 대한 설정</p> <ul><li>mode http # 프로토콜 유형 설정</li> <li>balance roundrobin # LoadBalancer 유형 설정</li> <li>cookie SVID insert indirect nocache maxlife 10m # Sticky Session 설정 (maxlife는 유지기간 설정)</li> <li>option httpchk GET / # healthcheck uri로 GET 뒤의 경로에 curl 명령으로 http header 값 [200 OK] 확인 (server 옵션에서 inter값으로 주기 설정)</li> <li>http-check expect status 200 # http check시 header 값이 200이면 정상을 의미</li> <li>server web01 192.168.50.11:80 cookie web01 check inter 3000 rise 2 fall 5 # real server</li> <li>server web02 192.168.50.12:80 cookie web02 check inter 3000 rise 2 fall 5 # real server</li> <li>#server [host명] [ip]:[port] cookie [서버쿠키명] check inter [주기(m/s)] rise [서버구동여부점검횟수] fall [서비스중단]</li> <li>#inter는 ms단위이며 값이 2000이면 2초</li> <li>#rise는 서버 정상 동작 체크로 2로 설정시 2번 정상 체크되면 정상으로 간주</li> <li>#fall은 서버 실패 동작 체크로 5로 설정시 5번 정상 체크에 실패하면 서버를 비정상으로 간주</li></ul> <h2 id="haproxy-서비스-시작"><a href="#haproxy-서비스-시작" class="header-anchor">#</a> HAProxy 서비스 시작</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># /etc/init.d/haproxy start -f /etc/haproxy/haproxy.cfg</span>
</code></pre></div><h3 id="haproxy-stats-page"><a href="#haproxy-stats-page" class="header-anchor">#</a> HAProxy Stats Page</h3> <p>브라우저에 설정한 stats uri를 입력하여 접근하면 web ui로 확인할 수 있다.</p> <p>https://(haproxy server ip 또는 vip):8080</p> <p><img src="/til/assets/img/haproxy09.719b8eac.png" alt="img"></p> <h2 id="haproxy의-장애-대응"><a href="#haproxy의-장애-대응" class="header-anchor">#</a> HAProxy의 장애 대응</h2> <p>로드밸런서 자체를 이중화하여 장애에 대비한다.</p> <p><img src="/til/assets/img/haproxy13.37abe2d4.png" alt="img"></p> <h3 id="장애-발생-시-시나리오"><a href="#장애-발생-시-시나리오" class="header-anchor">#</a> 장애 발생 시 시나리오</h3> <p><img src="/til/assets/img/haproxy14.5960b112.gif" alt="img"></p> <ol><li>이중화된 로드밸런서들은 서로 HC (Health Check)함</li> <li>Primary 로드밸런서가 장애가 발생했을 경우 가상 IP(Virtual IP, VIP)는 Secondary 로드밸런서로 전달</li> <li>Secondary 로드밸런서가 서비스를 유지</li></ol> <h3 id="reference"><a href="#reference" class="header-anchor">#</a> Reference</h3> <ul><li><a href="https://lascrea.tistory.com/212" target="_blank" rel="noopener noreferrer">https://lascrea.tistory.com/212<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://dveamer.github.io/architecture/HAProxyAndKeepalived.html" target="_blank" rel="noopener noreferrer">http://dveamer.github.io/architecture/HAProxyAndKeepalived.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://coffeenix.net/board_print.php?bd_code=1771" target="_blank" rel="noopener noreferrer">http://coffeenix.net/board_print.php?bd_code=1771<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://findstar.pe.kr/2018/07/27/install-haproxy/" target="_blank" rel="noopener noreferrer">https://findstar.pe.kr/2018/07/27/install-haproxy/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://d2.naver.com/helloworld/284659" target="_blank" rel="noopener noreferrer">https://d2.naver.com/helloworld/284659<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://livegs.tistory.com/43" target="_blank" rel="noopener noreferrer">https://livegs.tistory.com/43<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.joinc.co.kr/w/Site/cloud/ClusterLBWithOpenSource" target="_blank" rel="noopener noreferrer">https://www.joinc.co.kr/w/Site/cloud/ClusterLBWithOpenSource<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://myungin.tistory.com/entry/haproxycfg-%EA%B8%B0%EB%B3%B8-%EC%84%A4%EC%A0%95" target="_blank" rel="noopener noreferrer">https://myungin.tistory.com/entry/haproxycfg-%EA%B8%B0%EB%B3%B8-%EC%84%A4%EC%A0%95<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://m.blog.naver.com/PostView.nhn?blogId=wideeyed&amp;logNo=221303339246&amp;proxyReferer=https%3A%2F%2Fwww.google.co.kr%2F" target="_blank" rel="noopener noreferrer">https://m.blog.naver.com/PostView.nhn?blogId=wideeyed&amp;logNo=221303339246&amp;proxyReferer=https%3A%2F%2Fwww.google.co.kr%2F<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.develope.kr/2020/01/haproxy%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%8B%B1-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-1-%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1%EC%9D%B4%EB%9E%80/" target="_blank" rel="noopener noreferrer">https://blog.develope.kr/2020/01/haproxy를-이용한-로드-밸런싱-구축하기-1-로드밸런싱이란/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/7/2021, 5:47:34 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/til/assets/js/app.bfbfa927.js" defer></script><script src="/til/assets/js/2.f827bc55.js" defer></script><script src="/til/assets/js/11.af453223.js" defer></script><script src="/til/assets/js/46.01e6df54.js" defer></script>
  </body>
</html>
