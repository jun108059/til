<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CompletableFuture | Today Youngjun learned‚úç</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/til/images/logo-144.png">
    <link rel="manifest" href="/til/manifest.json">
    <meta name="description" content="Youngjun`s Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/til/assets/css/0.styles.5b85764b.css" as="style"><link rel="preload" href="/til/assets/js/app.b966e427.js" as="script"><link rel="preload" href="/til/assets/js/2.f827bc55.js" as="script"><link rel="preload" href="/til/assets/js/94.000327da.js" as="script"><link rel="preload" href="/til/assets/js/46.01e6df54.js" as="script"><link rel="prefetch" href="/til/assets/js/10.d7bebace.js"><link rel="prefetch" href="/til/assets/js/100.10add18d.js"><link rel="prefetch" href="/til/assets/js/101.fc5a0940.js"><link rel="prefetch" href="/til/assets/js/102.7a32911f.js"><link rel="prefetch" href="/til/assets/js/103.b87f99b0.js"><link rel="prefetch" href="/til/assets/js/104.568ac1fd.js"><link rel="prefetch" href="/til/assets/js/105.a6266b36.js"><link rel="prefetch" href="/til/assets/js/106.6f9f3240.js"><link rel="prefetch" href="/til/assets/js/107.4b11e714.js"><link rel="prefetch" href="/til/assets/js/108.3b50a929.js"><link rel="prefetch" href="/til/assets/js/109.d62e2365.js"><link rel="prefetch" href="/til/assets/js/11.0f06add5.js"><link rel="prefetch" href="/til/assets/js/110.b5535820.js"><link rel="prefetch" href="/til/assets/js/111.4cb0279a.js"><link rel="prefetch" href="/til/assets/js/112.af713b0f.js"><link rel="prefetch" href="/til/assets/js/113.15fc01bd.js"><link rel="prefetch" href="/til/assets/js/114.27a3c9f9.js"><link rel="prefetch" href="/til/assets/js/115.b29b8bd0.js"><link rel="prefetch" href="/til/assets/js/116.1a75c525.js"><link rel="prefetch" href="/til/assets/js/117.c639595c.js"><link rel="prefetch" href="/til/assets/js/118.8bbde709.js"><link rel="prefetch" href="/til/assets/js/119.0a6e4091.js"><link rel="prefetch" href="/til/assets/js/12.32cd872d.js"><link rel="prefetch" href="/til/assets/js/120.ba61235a.js"><link rel="prefetch" href="/til/assets/js/121.1d19845e.js"><link rel="prefetch" href="/til/assets/js/122.76352e08.js"><link rel="prefetch" href="/til/assets/js/123.bdf6c8ad.js"><link rel="prefetch" href="/til/assets/js/124.65d6a68f.js"><link rel="prefetch" href="/til/assets/js/125.ba572baa.js"><link rel="prefetch" href="/til/assets/js/126.6362e5f7.js"><link rel="prefetch" href="/til/assets/js/127.0972ab19.js"><link rel="prefetch" href="/til/assets/js/128.940585f8.js"><link rel="prefetch" href="/til/assets/js/129.fcdae323.js"><link rel="prefetch" href="/til/assets/js/13.36b91a88.js"><link rel="prefetch" href="/til/assets/js/130.9ce02b8f.js"><link rel="prefetch" href="/til/assets/js/131.c4f8380d.js"><link rel="prefetch" href="/til/assets/js/132.466b27f2.js"><link rel="prefetch" href="/til/assets/js/133.a74b2bcf.js"><link rel="prefetch" href="/til/assets/js/134.cd262fd3.js"><link rel="prefetch" href="/til/assets/js/135.db0c46d2.js"><link rel="prefetch" href="/til/assets/js/136.8d7c3ae2.js"><link rel="prefetch" href="/til/assets/js/137.095348af.js"><link rel="prefetch" href="/til/assets/js/138.d65cfbaa.js"><link rel="prefetch" href="/til/assets/js/139.b9cae344.js"><link rel="prefetch" href="/til/assets/js/14.93de2a9d.js"><link rel="prefetch" href="/til/assets/js/140.af25d63e.js"><link rel="prefetch" href="/til/assets/js/141.ba0e2c42.js"><link rel="prefetch" href="/til/assets/js/142.22f0de41.js"><link rel="prefetch" href="/til/assets/js/143.8badcf6c.js"><link rel="prefetch" href="/til/assets/js/144.03291af7.js"><link rel="prefetch" href="/til/assets/js/145.1a62107d.js"><link rel="prefetch" href="/til/assets/js/146.9660b5d3.js"><link rel="prefetch" href="/til/assets/js/147.d31a5026.js"><link rel="prefetch" href="/til/assets/js/148.5b2a7f31.js"><link rel="prefetch" href="/til/assets/js/149.17fec1d0.js"><link rel="prefetch" href="/til/assets/js/15.dc412a0b.js"><link rel="prefetch" href="/til/assets/js/150.427e1cc8.js"><link rel="prefetch" href="/til/assets/js/151.579a53fa.js"><link rel="prefetch" href="/til/assets/js/152.01535ad9.js"><link rel="prefetch" href="/til/assets/js/153.60074c9b.js"><link rel="prefetch" href="/til/assets/js/154.8e3ca391.js"><link rel="prefetch" href="/til/assets/js/155.b9048e3a.js"><link rel="prefetch" href="/til/assets/js/156.046eb80d.js"><link rel="prefetch" href="/til/assets/js/157.324be1b1.js"><link rel="prefetch" href="/til/assets/js/158.4e1c4361.js"><link rel="prefetch" href="/til/assets/js/159.0f90e010.js"><link rel="prefetch" href="/til/assets/js/16.a55ea966.js"><link rel="prefetch" href="/til/assets/js/160.29f51c86.js"><link rel="prefetch" href="/til/assets/js/17.9f78216b.js"><link rel="prefetch" href="/til/assets/js/18.0d484a85.js"><link rel="prefetch" href="/til/assets/js/19.1c3892bc.js"><link rel="prefetch" href="/til/assets/js/20.8937f56e.js"><link rel="prefetch" href="/til/assets/js/21.fddd6515.js"><link rel="prefetch" href="/til/assets/js/22.a8d8c325.js"><link rel="prefetch" href="/til/assets/js/23.06fd5516.js"><link rel="prefetch" href="/til/assets/js/24.9742c20f.js"><link rel="prefetch" href="/til/assets/js/25.43488937.js"><link rel="prefetch" href="/til/assets/js/26.cfda8508.js"><link rel="prefetch" href="/til/assets/js/27.d56fbf92.js"><link rel="prefetch" href="/til/assets/js/28.b726f0e8.js"><link rel="prefetch" href="/til/assets/js/29.9392ca02.js"><link rel="prefetch" href="/til/assets/js/3.b6c859d9.js"><link rel="prefetch" href="/til/assets/js/30.f00fd4d5.js"><link rel="prefetch" href="/til/assets/js/31.30deb5f6.js"><link rel="prefetch" href="/til/assets/js/32.33d79ed8.js"><link rel="prefetch" href="/til/assets/js/33.ff775729.js"><link rel="prefetch" href="/til/assets/js/34.14ba38de.js"><link rel="prefetch" href="/til/assets/js/35.a26ad471.js"><link rel="prefetch" href="/til/assets/js/36.3533ce1b.js"><link rel="prefetch" href="/til/assets/js/37.d923853e.js"><link rel="prefetch" href="/til/assets/js/38.d261d060.js"><link rel="prefetch" href="/til/assets/js/39.9837999e.js"><link rel="prefetch" href="/til/assets/js/4.45c650f4.js"><link rel="prefetch" href="/til/assets/js/40.2d9bc2a1.js"><link rel="prefetch" href="/til/assets/js/41.1e89639e.js"><link rel="prefetch" href="/til/assets/js/42.b0dcaa1a.js"><link rel="prefetch" href="/til/assets/js/43.39bd8193.js"><link rel="prefetch" href="/til/assets/js/44.a0dcaecc.js"><link rel="prefetch" href="/til/assets/js/45.a79908d0.js"><link rel="prefetch" href="/til/assets/js/47.1be508f7.js"><link rel="prefetch" href="/til/assets/js/48.2b9b1509.js"><link rel="prefetch" href="/til/assets/js/49.494fbd72.js"><link rel="prefetch" href="/til/assets/js/5.0aa337fe.js"><link rel="prefetch" href="/til/assets/js/50.b3e0241f.js"><link rel="prefetch" href="/til/assets/js/51.497b25e7.js"><link rel="prefetch" href="/til/assets/js/52.079e17c0.js"><link rel="prefetch" href="/til/assets/js/53.eea981ae.js"><link rel="prefetch" href="/til/assets/js/54.8f82c850.js"><link rel="prefetch" href="/til/assets/js/55.799a85a9.js"><link rel="prefetch" href="/til/assets/js/56.4d6a321c.js"><link rel="prefetch" href="/til/assets/js/57.bbf8da6b.js"><link rel="prefetch" href="/til/assets/js/58.2ca7da5b.js"><link rel="prefetch" href="/til/assets/js/59.926b192a.js"><link rel="prefetch" href="/til/assets/js/6.52e5f234.js"><link rel="prefetch" href="/til/assets/js/60.221c2169.js"><link rel="prefetch" href="/til/assets/js/61.d1814565.js"><link rel="prefetch" href="/til/assets/js/62.2c62fe16.js"><link rel="prefetch" href="/til/assets/js/63.64d19172.js"><link rel="prefetch" href="/til/assets/js/64.45e22399.js"><link rel="prefetch" href="/til/assets/js/65.4c350e04.js"><link rel="prefetch" href="/til/assets/js/66.5a834cf8.js"><link rel="prefetch" href="/til/assets/js/67.c783ae27.js"><link rel="prefetch" href="/til/assets/js/68.b9bae23d.js"><link rel="prefetch" href="/til/assets/js/69.e0304559.js"><link rel="prefetch" href="/til/assets/js/7.21123317.js"><link rel="prefetch" href="/til/assets/js/70.5dfaa4d5.js"><link rel="prefetch" href="/til/assets/js/71.f96d7948.js"><link rel="prefetch" href="/til/assets/js/72.d3b73ec0.js"><link rel="prefetch" href="/til/assets/js/73.d866814e.js"><link rel="prefetch" href="/til/assets/js/74.2326a2fd.js"><link rel="prefetch" href="/til/assets/js/75.5d7de152.js"><link rel="prefetch" href="/til/assets/js/76.84d9a412.js"><link rel="prefetch" href="/til/assets/js/77.4e5fdc50.js"><link rel="prefetch" href="/til/assets/js/78.1e1b77d2.js"><link rel="prefetch" href="/til/assets/js/79.9228d008.js"><link rel="prefetch" href="/til/assets/js/8.bc2662d1.js"><link rel="prefetch" href="/til/assets/js/80.9f99425b.js"><link rel="prefetch" href="/til/assets/js/81.edc4bc43.js"><link rel="prefetch" href="/til/assets/js/82.c38528d6.js"><link rel="prefetch" href="/til/assets/js/83.3faadb6e.js"><link rel="prefetch" href="/til/assets/js/84.d8a552da.js"><link rel="prefetch" href="/til/assets/js/85.55f502c3.js"><link rel="prefetch" href="/til/assets/js/86.c493861b.js"><link rel="prefetch" href="/til/assets/js/87.021ecda2.js"><link rel="prefetch" href="/til/assets/js/88.2d238be1.js"><link rel="prefetch" href="/til/assets/js/89.25104c46.js"><link rel="prefetch" href="/til/assets/js/9.1d59b63f.js"><link rel="prefetch" href="/til/assets/js/90.5c5e8d16.js"><link rel="prefetch" href="/til/assets/js/91.e169fa49.js"><link rel="prefetch" href="/til/assets/js/92.722f0b66.js"><link rel="prefetch" href="/til/assets/js/93.ad3d53df.js"><link rel="prefetch" href="/til/assets/js/95.801fd8c3.js"><link rel="prefetch" href="/til/assets/js/96.ca00a28b.js"><link rel="prefetch" href="/til/assets/js/97.71a58138.js"><link rel="prefetch" href="/til/assets/js/98.1a9eea17.js"><link rel="prefetch" href="/til/assets/js/99.bfb3e7b4.js">
    <link rel="stylesheet" href="/til/assets/css/0.styles.5b85764b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/til/" class="home-link router-link-active"><!----> <span class="site-name">Today Youngjun learned‚úç</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üé® Elasticsearch</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üê≥ Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üêã Kubernetes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üìò Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üìó GCP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üìô Machine Learning</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üìï Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üíö Data Structure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>üíù Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/til/Java/01.OOP.html" class="sidebar-link">Í∞ùÏ≤¥ÏßÄÌñ•Ïùò Í∞úÎÖê</a></li><li><a href="/til/Java/02.GenericClass.html" class="sidebar-link">GenericÏù¥ÎûÄ?</a></li><li><a href="/til/Java/03.JavaScanner.html" class="sidebar-link">Java Scanner</a></li><li><a href="/til/Java/04.init-clinit.html" class="sidebar-link">initÍ≥º clinitÏùò Ï∞®Ïù¥Ï†ê</a></li><li><a href="/til/Java/05.Java-JVM-JDK.html" class="sidebar-link">Java, JVM, JDK, JREÏùò Ï∞®Ïù¥Ï†ê</a></li><li><a href="/til/Java/06.JavaCollection.html" class="sidebar-link">Java Ïª¨Î†âÏÖò(Collection) Ï†ïÎ¶¨</a></li><li><a href="/til/Java/07.Fuctional-Interface-Lamda.html" class="sidebar-link">Ìï®ÏàòÌòï Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ÏôÄ ÎûåÎã§</a></li><li><a href="/til/Java/08.Interface.html" class="sidebar-link">Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Ïùò Î≥ÄÌôî</a></li><li><a href="/til/Java/09.Stream.html" class="sidebar-link">Stream</a></li><li><a href="/til/Java/10.Optional.html" class="sidebar-link">Optional</a></li><li><a href="/til/Java/11.Date-Time.html" class="sidebar-link">DateÏôÄ Time</a></li><li><a href="/til/Java/12.CompletableFuture.html" aria-current="page" class="active sidebar-link">CompletableFuture</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/til/Java/12.CompletableFuture.html#_1-·Ñå·Ö°·Ñá·Ö°-concurrent-·Ñë·Ö≥·ÑÖ·Ö©·ÑÄ·Ö≥·ÑÖ·Ö¢·ÑÜ·Öµ·Üº-·Ñâ·Ö©·ÑÄ·Ö¢" class="sidebar-link">1. ÏûêÎ∞î Concurrent ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç ÏÜåÍ∞ú</a></li><li class="sidebar-sub-header"><a href="/til/Java/12.CompletableFuture.html#_2-executors" class="sidebar-link">2. Executors</a></li><li class="sidebar-sub-header"><a href="/til/Java/12.CompletableFuture.html#_3-callable·ÑÄ·Ö™-future" class="sidebar-link">3. CallableÍ≥º Future</a></li><li class="sidebar-sub-header"><a href="/til/Java/12.CompletableFuture.html#_4-completablefuture-1" class="sidebar-link">4. CompletableFuture (1)</a></li><li class="sidebar-sub-header"><a href="/til/Java/12.CompletableFuture.html#_5-completablefuture-2" class="sidebar-link">5. CompletableFuture (2)</a></li></ul></li><li><a href="/til/Java/13.Annotation-In-Java8.html" class="sidebar-link">Ïï†ÎÖ∏ÌÖåÏù¥ÏÖòÏùò Î≥ÄÌôî</a></li><li><a href="/til/Java/14.Arrays-parallel-sort.html" class="sidebar-link">Î∞∞Ïó¥ Î≥ëÎ†¨ Ï†ïÎ†¨</a></li><li><a href="/til/Java/15.Meta-space.html" class="sidebar-link">Meta space</a></li><li><a href="/til/Java/ArrayList.html" class="sidebar-link">ArrayList</a></li><li><a href="/til/Java/MVC-Pattern.html" class="sidebar-link">MVC Pattern</a></li><li><a href="/til/Java/Substring&amp;Split.html" class="sidebar-link">Substring &amp; Split</a></li><li><a href="/til/Java/for-each.html" class="sidebar-link">Java for eachÎ¨∏ (Ìñ•ÏÉÅÎêú forÎ¨∏)</a></li><li><a href="/til/Java/interface&amp;abstract.html" class="sidebar-link">Interface &amp; Abstract</a></li><li><a href="/til/Java/length&amp;size.html" class="sidebar-link">length &amp; length() &amp; size()</a></li><li><a href="/til/Java/static.html" class="sidebar-link">Java Static</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üíô Kubeflow</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üñ§ News</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üíú NGINX</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ü§ç Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ü§é System Programming</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üíõ UX&amp;UI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üíï Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>üìå etc</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="completablefuture"><a href="#completablefuture" class="header-anchor">#</a> CompletableFuture</h1> <ul><li><a href="#1-%EC%9E%90%EB%B0%94-concurrent-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%86%8C%EA%B0%9C">1. ÏûêÎ∞î Concurrent ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç ÏÜåÍ∞ú</a> <ul><li><a href="#1-1-concurrent-%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4">1-1. Concurrent ÏÜåÌîÑÌä∏Ïõ®Ïñ¥</a></li></ul></li> <li><a href="#2-executors">2. Executors</a> <ul><li><a href="#2-1-executors%EA%B0%80-%ED%95%98%EB%8A%94-%EC%9D%BC">2-1. ExecutorsÍ∞Ä ÌïòÎäî Ïùº</a></li> <li><a href="#2-2-%EC%A3%BC%EC%9A%94-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4">2-2. Ï£ºÏöî Ïù∏ÌÑ∞ÌéòÏù¥Ïä§</a></li> <li><a href="#2-3-%EC%98%88%EC%A0%9C">2-3. ÏòàÏ†ú</a></li> <li><a href="#2-4-executor-%EC%A0%95%EB%A6%AC">2-4. Executor Ï†ïÎ¶¨</a></li></ul></li> <li><a href="#3-callable%EA%B3%BC-future">3. CallableÍ≥º Future</a> <ul><li><a href="#3-1-callable">3-1. Callable</a></li> <li><a href="#3-2-future">3-2. Future</a></li> <li><a href="#3-3-%EB%A9%94%EC%86%8C%EB%93%9C-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0">3-3. Î©îÏÜåÎìú ÏÇ¥Ìé¥Î≥¥Í∏∞</a></li></ul></li> <li><a href="#4-completablefuture-1">4. CompletableFuture (1)</a> <ul><li><a href="#4-1-%EA%B0%9C%EC%9A%94">4-1. Í∞úÏöî</a></li> <li><a href="#4-2-completablefuture">4-2. CompletableFuture</a></li></ul></li> <li><a href="#5-completablefuture-2">5. CompletableFuture (2)</a> <ul><li><a href="#5-1-completablefuture-%EC%A1%B0%ED%95%A9-%EB%A9%94%EC%86%8C%EB%93%9C">5-1. CompletableFuture Ï°∞Ìï© Î©îÏÜåÎìú</a></li> <li><a href="#5-2-%EC%98%88%EC%99%B8-%EC%B2%98%EB%A6%AC-%EB%A9%94%EC%86%8C%EB%93%9C">5-2. ÏòàÏô∏ Ï≤òÎ¶¨ Î©îÏÜåÎìú</a></li> <li><a href="#5-3-completablefuture-%EB%A5%BC-%EC%96%B8%EC%A0%9C-%EC%93%B8-%EC%88%98-%EC%9E%88%EC%9D%84%EA%B9%8C">5-3. CompletableFuture Î•º Ïñ∏Ï†ú Ïì∏ Ïàò ÏûàÏùÑÍπå</a></li></ul></li></ul> <h2 id="_1-·Ñå·Ö°·Ñá·Ö°-concurrent-·Ñë·Ö≥·ÑÖ·Ö©·ÑÄ·Ö≥·ÑÖ·Ö¢·ÑÜ·Öµ·Üº-·Ñâ·Ö©·ÑÄ·Ö¢"><a href="#_1-·Ñå·Ö°·Ñá·Ö°-concurrent-·Ñë·Ö≥·ÑÖ·Ö©·ÑÄ·Ö≥·ÑÖ·Ö¢·ÑÜ·Öµ·Üº-·Ñâ·Ö©·ÑÄ·Ö¢" class="header-anchor">#</a> 1. ÏûêÎ∞î Concurrent ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç ÏÜåÍ∞ú</h2> <h3 id="_1-1-concurrent-·Ñâ·Ö©·Ñë·Ö≥·Ñê·Ö≥·Ñã·Ö∞·Ñã·Ö•"><a href="#_1-1-concurrent-·Ñâ·Ö©·Ñë·Ö≥·Ñê·Ö≥·Ñã·Ö∞·Ñã·Ö•" class="header-anchor">#</a> 1-1. Concurrent ÏÜåÌîÑÌä∏Ïõ®Ïñ¥</h3> <blockquote><p>üí° ÎèôÏãúÏóê Ïó¨Îü¨ ÏûëÏóÖÏùÑ Ìï† Ïàò ÏûàÎäî ÏÜåÌîÑÌä∏Ïõ®Ïñ¥</p></blockquote> <h4 id="·ÑÉ·Ö©·Üº·Ñâ·Öµ·Ñâ·Ö•·Üº·ÑÄ·Ö™-·Ñá·Öß·Üº·ÑÖ·Öß·ÜØ·Ñâ·Ö•·Üº·Ñã·Ö¥-·Ñé·Ö°·Ñã·Öµ"><a href="#·ÑÉ·Ö©·Üº·Ñâ·Öµ·Ñâ·Ö•·Üº·ÑÄ·Ö™-·Ñá·Öß·Üº·ÑÖ·Öß·ÜØ·Ñâ·Ö•·Üº·Ñã·Ö¥-·Ñé·Ö°·Ñã·Öµ" class="header-anchor">#</a> ÎèôÏãúÏÑ±Í≥º Î≥ëÎ†¨ÏÑ±Ïùò Ï∞®Ïù¥</h4> <ul><li>ÎèôÏãúÏÑ±
<ul><li>ÌïòÎÇòÏùò Ïì∞Î†àÎìúÎÇò ÌîÑÎ°úÏÑ∏ÏÑúÏùò Ïó¨Îü¨ TaskÎ•º Í¥ÄÎ¶¨Ìï®ÏúºÎ°úÏç®, ÎßàÏπò ÎèôÏãúÏóê ÏûëÏóÖÏù¥ ÏàòÌñâÎêòÍ≥† ÏûàÎäî Í≤ÉÏ≤òÎüº Î≥¥Ïù¥Îäî Í≤É</li></ul></li> <li>Î≥ëÎ†¨ÏÑ±
<ul><li>TaskÏùò Ïã§ÌñâÏùÑ ÌïòÎìúÏõ®Ïñ¥ ÏàòÏ§ÄÏúºÎ°ú Ïã§ÌñâÎêòÎ©∞, Í∞ÅÍ∞ÅÏùò ÏûëÏóÖÎì§Ïù¥ ÎèÖÎ¶ΩÏ†ÅÏûÑ</li></ul></li></ul> <h4 id="_1-1-1-·Ñå·Ö°·Ñá·Ö°·Ñã·Ö¶·Ñâ·Ö•-·Ñå·Öµ·Ñã·ÖØ·Ü´·Ñí·Ö°·ÑÇ·Ö≥·Ü´-concurrent-·Ñë·Ö≥·ÑÖ·Ö©·ÑÄ·Ö≥·ÑÖ·Ö¢·ÑÜ·Öµ·Üº"><a href="#_1-1-1-·Ñå·Ö°·Ñá·Ö°·Ñã·Ö¶·Ñâ·Ö•-·Ñå·Öµ·Ñã·ÖØ·Ü´·Ñí·Ö°·ÑÇ·Ö≥·Ü´-concurrent-·Ñë·Ö≥·ÑÖ·Ö©·ÑÄ·Ö≥·ÑÖ·Ö¢·ÑÜ·Öµ·Üº" class="header-anchor">#</a> 1-1-1. ÏûêÎ∞îÏóêÏÑú ÏßÄÏõêÌïòÎäî Concurrent ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç</h4> <ul><li>Î©ÄÌã∞Ïì∞Î†àÎìú</li> <li>Î©ÄÌã∞ÌîÑÎ°úÏÑ∏Ïã±(ProcessBuilder)</li></ul> <table><thead><tr><th style="text-align:center;"><code>Î≤ÑÏ†Ñ</code></th> <th style="text-align:center;"><code>ÏÇ¨Ïö© Î∞©Î≤ï</code></th></tr></thead> <tbody><tr><td style="text-align:center;">Java 5 Ïù¥Ï†Ñ</td> <td style="text-align:center;">RunnableÍ≥º ThreadÎ•º Ïù¥Ïö©ÌïòÏó¨ Íµ¨ÌòÑ</td></tr> <tr><td style="text-align:center;">Java 5</td> <td style="text-align:center;">ExecutorService, Callable, Future</td></tr> <tr><td style="text-align:center;">Java 7</td> <td style="text-align:center;">Fork/Join Í∑∏Î¶¨Í≥† RecursiveTask</td></tr> <tr><td style="text-align:center;">Java 8</td> <td style="text-align:center;">Stream, CompletableFuture</td></tr> <tr><td style="text-align:center;">Java 9</td> <td style="text-align:center;">Î∂ÑÏÇ∞ ÎπÑÎèôÍ∏∞ ÌîÑÎ°úÍ∑∏ÎûòÎ∞çÏùÄ Î™ÖÏãúÏ†ÅÏúºÎ°ú ÏßÄÏõê (Î∞úÌñâ Íµ¨ÎèÖ ÌîÑÎ°úÌÜ†ÏΩú ÏßÄÏõê Flow API)</td></tr></tbody></table> <h4 id="_1-1-2-·Ñå·Ö°·Ñá·Ö°-·ÑÜ·Ö•·ÜØ·Ñê·Öµ·Ñä·Ö≥·ÑÖ·Ö¶·ÑÉ·Ö≥-·Ñë·Ö≥·ÑÖ·Ö©·ÑÄ·Ö≥·ÑÖ·Ö¢·ÑÜ·Öµ·Üº"><a href="#_1-1-2-·Ñå·Ö°·Ñá·Ö°-·ÑÜ·Ö•·ÜØ·Ñê·Öµ·Ñä·Ö≥·ÑÖ·Ö¶·ÑÉ·Ö≥-·Ñë·Ö≥·ÑÖ·Ö©·ÑÄ·Ö≥·ÑÖ·Ö¢·ÑÜ·Öµ·Üº" class="header-anchor">#</a> 1-1-2. ÏûêÎ∞î Î©ÄÌã∞Ïì∞Î†àÎìú ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç</h4> <ul><li><p>Thread/Runnable</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// Ï≤´Î≤àÏß∏ Î∞©Î≤ï</span>
        <span class="token class-name">MyThread</span> myThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        myThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Anonymous class</span>
        <span class="token class-name">Thread</span> runnable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Runnable Thread: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Lambda Expression</span>
        <span class="token class-name">Thread</span> lambdaThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Lambda Thread:&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Thread ÏÉÅÏÜç</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Ïã§ÌñâÍ≤∞Í≥º
Hello: main
Thread: Thread-0
*/</span>
</code></pre></div><ul><li>ÏΩîÎìúÏùò Ïã§Ìñâ ÏàúÏÑúÎßå Î¥êÏÑúÎäî ThreadÍ∞Ä Î®ºÏ†Ä Ï∂úÎ†•ÎêòÏïº Ìï† Í≤É Í∞ôÏßÄÎßå, Ïã§Ï†úÎ°ú Ïã§ÌñâÌï¥Î≥¥Î©¥ Îã§Î•¥Í≤å Ï∂úÎ†•Îê† ÎïåÎèÑ ÏûàÎã§.</li> <li>Ïù¥Î•º ÌÜµÌï¥ ThreadÎäî ÏàúÏÑúÎ•º Î≥¥Ïû•ÌïòÏßÄ ÏïäÎäîÎã§Îäî Í≤ÉÏùÑ Ïïå Ïàò ÏûàÎã§.</li></ul></li></ul> <p>Ïó¨Í∏∞ÏÑ† Î°úÏª¨ÌÅ¥ÎûòÏä§Î•º Ïù¥Ïö©ÌñàÏßÄÎßå, ÏùµÎ™ÖÌÅ¥ÎûòÏä§ÏôÄ ÎûåÎã§ÌëúÌòÑÏãùÏùÑ Ïù¥Ïö©Ìï¥ÏÑúÎèÑ Ï†ÅÏö©Ìï† Ïàò ÏûàÎã§.</p> <h4 id="_1-1-3-·Ñå·ÖÆ·Ñã·Ö≠·ÑÄ·Öµ·ÑÇ·Ö≥·Üº-method"><a href="#_1-1-3-·Ñå·ÖÆ·Ñã·Ö≠·ÑÄ·Öµ·ÑÇ·Ö≥·Üº-method" class="header-anchor">#</a> 1-1-3. Ï£ºÏöîÍ∏∞Îä•(method)</h4> <ol><li><p><strong>sleep(<em>mills</em>)</strong></p> <ul><li>ÌòÑÏû¨ Ïì∞Î†àÎìú Ïû¨Ïö∞Í∏∞(Î©àÏ∂∞ÎëêÍ∏∞)
<ul><li>Ïä§Î†àÎìúÎ•º ÎåÄÍ∏∞ÏÉÅÌÉúÎ°ú Î©àÏ∂∞ÏÑú Îã§Î•∏ Ïä§Î†àÎìúÍ∞Ä Ï≤òÎ¶¨Ìï† Ïàò ÏûàÎèÑÎ°ù Ìï®.</li> <li>ÌïòÏßÄÎßå ÎùΩÏùÑ ÎÜîÏ£ºÏßÑ ÏïäÍ∏∞Ïóê ÏûòÎ™ªÌïòÎ©¥ Îç∞ÎìúÎùΩ ÏÉÅÌÉúÏóê Í±∏Î¶¥ Ïàò ÏûàÎã§.</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
    <span class="token comment">// Lambda Expression</span>
    <span class="token class-name">Thread</span> lambdaThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interrupted!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    lambdaThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Thread.sleep(1000L)</strong></p> <ul><li>ThreadÎ•º startÌïòÎ©¥ 1Ï¥à(1000L)ÎèôÏïà Î©àÏ∂∞ÏûàÍ≥† Í∑∏ ÎèôÏïà Îã§Î•∏ Ïì∞Î†àÎìúÎ•º ÏàòÌñâÌïòÍ∏∞ ÎïåÎ¨∏Ïóê HelloÍ∞Ä Ìï≠ÏÉÅ Ïö∞ÏÑ† Ï∂úÎ†•ÎêúÎã§.</li></ul></li> <li><p><strong>interrupt()</strong></p> <ul><li>Îã§Î•∏ Ïì∞Î†àÎìúÎ•º Íπ®Ïö∞Í∏∞
<ul><li><code>InterruptException</code> ÏùÑ Î∞úÏÉù</li> <li>Ïù¥ ÏóêÎü¨Ïóê ÎåÄÌïú Ìï∏Îì§ÎßÅÏùÄ Íµ¨ÌòÑ Í∞ÄÎä•</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
    <span class="token comment">// Lambda Expression</span>
    <span class="token class-name">Thread</span> lambdaThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interrupted!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    lambdaThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    lambdaThread<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>lambdaThread.interrupt();</strong></p> <ul><li>lambdaThreadÏóê interrupt()Î©îÏÜåÎìúÎ•º Ìò∏Ï∂úÌï¥ lambdaThreadÎÇ¥Ïóê InterruptedException ÏùÑ Î∞úÏÉùÏãúÌÇ®Îã§.</li></ul></li> <li><p><strong>join()</strong></p> <ul><li>Îã§Î•∏ Ïì∞Î†àÎìúÍ∞Ä ÎÅùÎÇ† ÎïåÍπåÏßÄ Í∏∞Îã§Î¶∞Îã§.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
    <span class="token comment">//Lambda Expression</span>
    <span class="token class-name">Thread</span> lambdaThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interrupted!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    lambdaThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    lambdaThread<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>lambdaThread.join();</strong></p> <ul><li>lambdaThreadÏóê join()Î©îÏÜåÎìúÎ•º Ìò∏Ï∂úÌïòÏó¨ lambdaThreadÍ∞Ä Ï¢ÖÎ£åÎê† ÎïåÍπåÏßÄ Í∏∞Îã§Î¶∞Îã§.</li></ul></li></ol> <h2 id="_2-executors"><a href="#_2-executors" class="header-anchor">#</a> 2. Executors</h2> <blockquote><p>RunnableÏù¥ÎÇò ThreadÏôÄ Í∞ôÏùÄ Low-levelÏù¥ ÏïÑÎãå Í≥† ÏàòÏ§Ä(High-Level) Concurrency ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç</p></blockquote> <p>Ïö∞Î¶¨Í∞Ä RunnableÎßå Ï†ïÏùòÌï¥ÏÑú Ï†úÍ≥µÌï¥Ï£ºÎ©¥ Ïä§Î†àÎìúÎ•º ÎßåÎì§Í≥†, Î∂àÌïÑÏöîÌï¥ÏßÄÎ©¥ Ï¢ÖÎ£åÌïòÍ≥† Í¥ÄÎ¶¨Ìï¥Ï£ºÎäî ÏûëÏóÖÎì§ÏùÑ ÎåÄÏã† Ìï¥Ï£ºÎäî ÌÅ¥ÎûòÏä§</p> <h3 id="_2-1-executors·ÑÄ·Ö°-·Ñí·Ö°·ÑÇ·Ö≥·Ü´-·Ñã·Öµ·ÜØ"><a href="#_2-1-executors·ÑÄ·Ö°-·Ñí·Ö°·ÑÇ·Ö≥·Ü´-·Ñã·Öµ·ÜØ" class="header-anchor">#</a> 2-1. ExecutorsÍ∞Ä ÌïòÎäî Ïùº</h3> <ul><li>Ïì∞Î†àÎìú ÎßåÎì§Í∏∞: Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏù¥ ÏÇ¨Ïö©Ìï† Ïì∞Î†àÎìú ÌíÄÏùÑ ÎßåÎì§Ïñ¥Í¥ÄÎ¶¨ÌïúÎã§.</li> <li>Ïì∞Î†àÎìú Í¥ÄÎ¶¨: Ïì∞Î†àÎìú ÏÉùÎ™Ö Ï£ºÍ∏∞Î•º Í¥ÄÎ¶¨ÌïúÎã§.</li> <li>ÏûëÏóÖ Ï≤òÎ¶¨ Î∞è Ïã§Ìñâ: Ïì∞Î†àÎìúÎ°ú Ïã§ÌñâÌï† ÏûëÏóÖÏùÑ Ï†úÍ≥µÌï† Ïàò ÏûàÎäî APIÎ•º Ï†úÍ≥µÌïúÎã§.</li></ul> <h3 id="_2-2-·Ñå·ÖÆ·Ñã·Ö≠-·Ñã·Öµ·Ü´·Ñê·Ö•·Ñë·Ö¶·Ñã·Öµ·Ñâ·Ö≥"><a href="#_2-2-·Ñå·ÖÆ·Ñã·Ö≠-·Ñã·Öµ·Ü´·Ñê·Ö•·Ñë·Ö¶·Ñã·Öµ·Ñâ·Ö≥" class="header-anchor">#</a> 2-2. Ï£ºÏöî Ïù∏ÌÑ∞ÌéòÏù¥Ïä§</h3> <ul><li><code>Executor</code>:  execute(Runnable)</li> <li><code>ExecutorService</code>: ExecutorÎ•º ÏÉÅÏÜç Î∞õÏùÄ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î°ú, CallableÎèÑ Ïã§Ìñâ Í∞ÄÎä•ÌïòÎ©∞ ExecutorÎ•º Ï¢ÖÎ£å ÏãúÌÇ§Í±∞ÎÇò Ïó¨Îü¨  CallableÏùÑ ÎèôÏãúÏóê Ïã§ÌñâÌïòÎäî Îì±Ïùò Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌïúÎã§.</li> <li><code>ScheduledExecutorService</code>: ExecutorServiceÎ•º ÏÉÅÏÜç Î∞õÏùÄ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î°ú ÌäπÏ†ï ÏãúÍ∞Ñ Ïù¥ÌõÑÏóê ÎòêÎäî Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú ÏûëÏóÖ Ïã§ÌñâÌï† Ïàò ÏûàÎã§.</li></ul> <h3 id="_2-3-·Ñã·Ö®·Ñå·Ö¶"><a href="#_2-3-·Ñã·Ö®·Ñå·Ö¶" class="header-anchor">#</a> 2-3. ÏòàÏ†ú</h3> <h4 id="_2-3-1-·ÑÄ·Öµ·Ñá·Ö©·Ü´-·Ñâ·Ö°·Ñã·Ö≠·Üº-·Ñã·Ö®·Ñå·Ö¶"><a href="#_2-3-1-·ÑÄ·Öµ·Ñá·Ö©·Ü´-·Ñâ·Ö°·Ñã·Ö≠·Üº-·Ñã·Ö®·Ñå·Ö¶" class="header-anchor">#</a> 2-3-1. Í∏∞Î≥∏ ÏÇ¨Ïö© ÏòàÏ†ú</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
		<span class="token comment">// ExecutorService ÏÉùÏÑ±</span>
    <span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// Legacy case</span>
    executorService<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Lambda Expression</span>
    executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Lambda Expression Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// graceful shutdown</span>
    <span class="token comment">// executorService.shutdownNow(); //Ï¶âÏãú Ï¢ÖÎ£å</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-3-2-2·ÑÄ·Ö¢·Ñã·Ö¥-thread·ÑÖ·Ö≥·ÜØ-·Ñã·Öµ·Ñã·Ö≠·Üº·Ñí·Ö°·Ñã·Öß-·Ñâ·Öµ·ÜØ·Ñí·Ö¢·Üº"><a href="#_2-3-2-2·ÑÄ·Ö¢·Ñã·Ö¥-thread·ÑÖ·Ö≥·ÜØ-·Ñã·Öµ·Ñã·Ö≠·Üº·Ñí·Ö°·Ñã·Öß-·Ñâ·Öµ·ÜØ·Ñí·Ö¢·Üº" class="header-anchor">#</a> 2-3-2. 2Í∞úÏùò ThreadÎ•º Ïù¥Ïö©ÌïòÏó¨ Ïã§Ìñâ</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Runnable</span> <span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;The&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;Lecture&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;Concurrent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;Part&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//graceful shutdown</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Ïã§ÌñâÍ≤∞Í≥º
Hellopool-1-thread-1
Worldpool-1-thread-2
Javapool-1-thread-2
Thepool-1-thread-1
Lecturepool-1-thread-2
Concurrentpool-1-thread-1
Partpool-1-thread-2
*/</span>
</code></pre></div><p><strong>Executors.newFixedThreadPool(2)</strong></p> <ul><li>Ìï¥Îãπ Î©îÏÜåÎìúÎ•º Ìò∏Ï∂úÌïòÎ©¥ Ìï¥Îãπ ÏòÅÏó≠ÏóêÎäî Ïù∏ÏûêÍ∞íÏúºÎ°ú ÎÑòÍ≤®Ï§Ä Ïà´ÏûêÎßåÌÅº ThreadÎ•º Í¥ÄÎ¶¨ÌïúÎã§.</li> <li>ÏúÑ ÏΩîÎìúÏóêÏÑúÎäî 2Î•º Ïù∏ÏûêÍ∞íÏúºÎ°ú ÎÑòÍ≤®Ï§¨Í∏∞ ÎïåÎ¨∏Ïóê 2Í∞úÏùò 2Í∞úÏùò Ïì∞Î†àÎìúÎ•º Í¥ÄÎ¶¨ÌïòÎäî Thread PoolÏù¥ ÎèÑÎäî ÎèôÏïà Blocking QueueÏóê Îì±Î°ùÎêú ÏûëÏóÖÎì§Ïù¥ Ï∞®Î°ÄÎåÄÎ°ú ÎèôÏûëÌïúÎã§.</li></ul> <img src="https://user-images.githubusercontent.com/42997924/142423017-14bf66d4-c249-4982-b9bc-19d13f3aa048.png" width="75%" height="75%"> <p>Ï∂úÏ≤ò : <a href="https://www.notion.so/50d5af24a72440a1981ba9f00ff521ad" target="_blank" rel="noopener noreferrer">https://catsbi.oopy.io/50d5af24-a724-40a1-981b-a9f00ff521ad#638f51da-ae38-4574-baf5-d4f331ee6fbe<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>ExecutorService.newSingleThreadScheduledExcutor();</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ScheduledExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadScheduledExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
executorService<span class="token punctuation">.</span><span class="token function">scheduleAtFixedRate</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>scheduleAtFixedRate(Ïã§Ìñâ Runnable, ÏãúÏûë ÏßÄÏó∞ ÏãúÍ∞Ñ, ÎîúÎ†àÏù¥, ÌååÎùºÎØ∏ÌÑ∞ ÏãúÍ∞Ñ Îã®ÏúÑ)</li> <li>ÏúÑ ÏΩîÎìúÎäî RunnableÌÉÄÏûÖÏùÑ Î∞òÌôòÌïòÎäî getRunnable() Î©îÏÜåÎìúÎ•º ÌîÑÎ°úÍ∑∏Îû®Ïù¥ ÏãúÏûë ÌõÑ 3Ï¥à Îí§Î∂ÄÌÑ∞ 1Ï¥àÎßàÎã§ ÏàòÌñâÌïòÎäî ÏΩîÎìú</li></ul> <h3 id="_2-4-executor-·Ñå·Ö•·Üº·ÑÖ·Öµ"><a href="#_2-4-executor-·Ñå·Ö•·Üº·ÑÖ·Öµ" class="header-anchor">#</a> 2-4. Executor Ï†ïÎ¶¨</h3> <ul><li><code>supplyAsync</code> Îì±Ïùò Î©îÏÜåÎìú Ìò∏Ï∂úÏãú Ïì∞Î†àÎìú ÌíÄÏùÑ Î™ÖÏãúÌïòÏßÄ ÏïäÏúºÎ©¥ <a href="https://kwonnam.pe.kr/wiki/java/concurrent/forkjoinpool" target="_blank" rel="noopener noreferrer">Java ForkJoinPool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Ïùò <code>commonPool()</code> Ïù¥ ÏÇ¨Ïö©ÎêúÎã§.</li> <li>Í∞úÎ∞úÏûêÍ∞Ä Ïì∞Î†àÎìú ÌíÄÏùÑ Ï†úÏñ¥Ìï† Ïàò ÏóÜÎã§Îäî Í≤ÉÏùÄ ÎÇòÏ§ëÏóê Î¨∏Ï†úÍ∞Ä Îê† Ïàò ÏûàÎã§.</li> <li>Îî∞ÎùºÏÑú, Ìï≠ÏÉÅ <a href="https://kwonnam.pe.kr/wiki/java/concurrent/executorservice" target="_blank" rel="noopener noreferrer">Java ExecutorService<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Î•º Î™ÖÏãúÏ†ÅÏúºÎ°ú ÏÇ¨Ïö©ÌïòÏó¨ Ïì∞Î†àÎìú ÌíÄÏùÑ ÏßÄÏ†ïÌïòÎèÑÎ°ù ÌïúÎã§.</li></ul> <h2 id="_3-callable·ÑÄ·Ö™-future"><a href="#_3-callable·ÑÄ·Ö™-future" class="header-anchor">#</a> 3. CallableÍ≥º Future</h2> <h3 id="_3-1-callable"><a href="#_3-1-callable" class="header-anchor">#</a> 3-1. Callable</h3> <ul><li>RunnableÍ≥º Í±∞Ïùò Ïú†ÏÇ¨ÌïòÏßÄÎßå Î∞òÌôò Í∞íÏùÑ Í∞ÄÏßà Ïàò ÏûàÎã§.</li></ul> <h3 id="_3-2-future"><a href="#_3-2-future" class="header-anchor">#</a> 3-2. Future</h3> <ul><li>ÎπÑÎèôÍ∏∞Ï†ÅÏù∏ ÏûëÏóÖÏùò ÌòÑÏû¨ ÏÉÅÌÉúÎ•º Ï°∞ÌöåÌïòÍ±∞ÎÇò Í≤∞Í≥ºÎ•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏûàÎã§.</li></ul> <h3 id="_3-3-·ÑÜ·Ö¶·Ñâ·Ö©·ÑÉ·Ö≥-·Ñâ·Ö°·ÜØ·Ñë·Öß·Ñá·Ö©·ÑÄ·Öµ"><a href="#_3-3-·ÑÜ·Ö¶·Ñâ·Ö©·ÑÉ·Ö≥-·Ñâ·Ö°·ÜØ·Ñë·Öß·Ñá·Ö©·ÑÄ·Öµ" class="header-anchor">#</a> 3-3. Î©îÏÜåÎìú ÏÇ¥Ìé¥Î≥¥Í∏∞</h3> <h4 id="_3-3-1-·ÑÄ·Öß·ÜØ·ÑÄ·Ö™-·Ñá·Ö°·Ü´·Ñí·Ö™·Ü´-get"><a href="#_3-3-1-·ÑÄ·Öß·ÜØ·ÑÄ·Ö™-·Ñá·Ö°·Ü´·Ñí·Ö™·Ü´-get" class="header-anchor">#</a> 3-3-1. Í≤∞Í≥º Î∞òÌôò : get()</h4> <ul><li>Ìï¥Îãπ Î©îÏÜåÎìúÎäî <code>Î∏îÎ°ùÌÇπ ÏΩú</code>Ïù¥Í∏∞Ïóê Î©îÏÜåÎìú Ìò∏Ï∂úÏãúÏ†êÎ∂ÄÌÑ∞ ÏΩîÎìúÏã§Ìñâ ÏôÑÎ£åÍπåÏßÄ Í∏∞Îã§Î¶∞Îã§.</li> <li>ÌÉÄÏûÑÏïÑÏõÉÏùÑ ÏÑ§Ï†ïÌï† Ïàò ÏûàÎã§.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> submit <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>hello<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Started!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

submit<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// blocking</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;End&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
Started!
(2Ï¥à Îí§)
End
*/</span>
</code></pre></div><h4 id="_3-3-2-·Ñå·Ö°·Ü®·Ñã·Ö•·Ü∏-·Ñâ·Ö°·Üº·Ñê·Ö¢-·Ñí·Ö™·Ü®·Ñã·Öµ·Ü´-isdone"><a href="#_3-3-2-·Ñå·Ö°·Ü®·Ñã·Ö•·Ü∏-·Ñâ·Ö°·Üº·Ñê·Ö¢-·Ñí·Ö™·Ü®·Ñã·Öµ·Ü´-isdone" class="header-anchor">#</a> 3-3-2. ÏûëÏóÖ ÏÉÅÌÉú ÌôïÏù∏ - isDone()</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> helloFuture <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>hello<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>helloFuture<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Started!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

helloFuture<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// blocking</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>helloFuture<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;End&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Ïã§Ìñâ Í≤∞Í≥º
false
Started!
true
End
*/</span>
</code></pre></div><h4 id="_3-3-3-·Ñå·Ö°·Ü®·Ñã·Ö•·Ü∏-·Ñé·Ö±·Ñâ·Ö©-cancel"><a href="#_3-3-3-·Ñå·Ö°·Ü®·Ñã·Ö•·Ü∏-·Ñé·Ö±·Ñâ·Ö©-cancel" class="header-anchor">#</a> 3-3-3. ÏûëÏóÖ Ï∑®ÏÜå : cancel()</h4> <ul><li>Ïù∏Ïûê Í∞íÏúºÎ°ú ÌòÑÏû¨ ÏßÑÌñâÏ§ëÏù∏ Ïì∞Î†àÎìú interrupt Ïó¨Î∂ÄÎ•º Í≤∞Ï†ïÌïúÎã§.</li> <li>true Ïù¥Î©¥ ÌòÑÏû¨ ÏßÑÌñâÏ§ëÏù∏ Ïì∞Î†àÎìúÎ•º interruptÌïòÍ≥† Í∑∏Î†áÏßÄ ÏïäÏúºÎ©¥ ÌòÑÏû¨ ÏßÑÌñâÏ§ëÏù∏ ÏûëÏóÖÏù¥ ÎÅùÎÇ†ÎïåÍπåÏßÄ Í∏∞Îã§Î¶∞Îã§.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> helloFuture <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>hello<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>helloFuture<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Started!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

helloFuture<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>helloFuture<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;End&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

helloFuture<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Ïã§Ìñâ Í≤∞Í≥º
false
Started!
true
End
Exception in thread &quot;main&quot; java.util.concurrent.CancellationException...
*/</span>
</code></pre></div><p><strong>helloFuture.cancel(false)</strong></p> <ul><li>ÌòÑÏû¨ ÏßÑÌñâÏ§ëÏù∏ ÏûëÏóÖÏùÑ Í∏∞Îã§Î¶∞ Îí§ ÏûëÏóÖÏùÑ Ï∑®ÏÜåÌïúÎã§.</li> <li>ÏûëÏóÖÏù¥ Ï∑®ÏÜåÎêòÏñ¥ Ï¢ÖÎ£åÎêòÏóàÍ∏∞ ÎïåÎ¨∏Ïóê ÏïÑÎûòÏóê <code>helloFuture.isDone()</code>ÏùÄ trueÍ∞Ä Î∞òÌôòÎêòÎ©∞, Ïù¥ÎØ∏ Ï∑®ÏÜåÌïú ÏûëÏóÖÏùÑ get() Ìò∏Ï∂úÌïòÎäî ÏãúÏ†êÏóêÎäî <code>CancellationException</code> ÏòàÏô∏Í∞Ä Î∞úÏÉù</li></ul> <h4 id="_3-3-4-·Ñã·Öß·ÑÖ·Ö•-·Ñå·Ö°·Ü®·Ñã·Ö•·Ü∏-·ÑÉ·Ö©·Üº·Ñâ·Öµ-·Ñâ·Öµ·ÜØ·Ñí·Ö¢·Üº-invokeall"><a href="#_3-3-4-·Ñã·Öß·ÑÖ·Ö•-·Ñå·Ö°·Ü®·Ñã·Ö•·Ü∏-·ÑÉ·Ö©·Üº·Ñâ·Öµ-·Ñâ·Öµ·ÜØ·Ñí·Ö¢·Üº-invokeall" class="header-anchor">#</a> 3-3-4. Ïó¨Îü¨ ÏûëÏóÖ ÎèôÏãú Ïã§Ìñâ : <code>invokeAll()</code></h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDateTime</span> start <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> java <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> youngjun <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;youngjun&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Future</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> futures <span class="token operator">=</span> 
        executorService<span class="token punctuation">.</span><span class="token function">invokeAll</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>hello<span class="token punctuation">,</span> java<span class="token punctuation">,</span> youngjun<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">:</span> futures<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">LocalDateTime</span> end <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Duration</span> between <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>between<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
Hello
java
youngjun
6
*/</span>
</code></pre></div><ul><li><p><code>invokeAll()</code> Î©îÏÜåÎìúÎäî ÌÉúÏä§ÌÅ¨Í∞Ä Î™®Îëê ÎÅùÎÇ†ÎïåÍπåÏßÄ Í∏∞Îã§Î†∏Îã§Í∞Ä Í∞íÎì§ÏùÑ Î∞òÌôò</p> <ul><li>Ïã±Í∏Ä Ïì∞Î†àÎìúÏù¥Í∏∞ ÎïåÎ¨∏Ïóê 6Ï¥àÍ∞Ä ÏÜåÏöîÎêúÎã§.</li> <li>future listÎ•º Î∞òÌôòÌïòÍ≥† <strong>Ï†ÑÎ∂Ä ÎÅùÎÇ†ÎïåÍπåÏßÄ holdingÎêúÎã§.</strong></li> <li>ÎÑòÍ≤®Ï§Ä Callable listÍ∞Ä Ï†ïÏÉÅ Ï≤òÎ¶¨ÎêòÎì† exceptionÏù¥ Î∞úÏÉùÌïòÎì† ÏôÑÎ£åÎêú Í≤ÉÏúºÎ°ú Î≥∏Îã§.</li> <li>ÎèôÏûëÏ§ëÏóê Ï†ÑÎã¨Î∞õÏùÄ listÍ∞Ä Î≥ÄÍ≤ΩÎêòÎ©¥ Í≤∞Í≥ºÎ•º Î≥¥Ïû•ÌïòÏßÄ ÏïäÎäîÎã§</li> <li>ÎÑòÍ≤®Ï§Ä list ÏàúÏÑúÎåÄÎ°ú Í≤∞Í≥º futureÎ•º Îã¥ÏïÑÏÑú ÎÑòÍ≤®Ï§ÄÎã§.</li></ul> <p><strong>Î∞úÏÉùÌï† Ïàò ÏûàÎäî Exception</strong></p> <ul><li><em>InterruptedException</em> : ÎèôÏûëÏù¥ Ï¢ÖÎ£åÎêòÏßÄ ÏïäÏùÄ(ÎèôÏûëÏ§ëÏù∏) taskÍ∞Ä Ï∑®ÏÜå ÎêòÏóàÏùÑ Îïå</li> <li><em>NullPointerException</em> : Ìï®ÏàòÏùò paramÏ§ë nullÏù¥ ÏûàÏùÑ Îïå</li> <li><em>RejectedExecutionException</em> : taskÎ•º poolÏóê ÎÑ£ÏùÑÏàò ÏóÜÏùÑ Îïå.</li></ul></li> <li><p>Îî∞ÎùºÏÑú Í∞ÄÏû• Î®ºÏ†Ä ÏôÑÎ£åÎêú ÏûëÏóÖÎßå Î∞òÌôòÌï¥ÎèÑ Í¥úÏ∞ÆÎã§Î©¥ invokeAllÏùÑ Ïì∞Í∏∞ÏóêÎäî ÏÑ±Îä•Ïù¥ Îñ®Ïñ¥ÏßÑÎã§.</p> <ul><li>Í∑∏Îü¥ Îïå ÏÇ¨Ïö© Ìï† Ïàò ÏûàÎäî Î©îÏÜåÎìúÍ∞Ä <code>invokeAny</code> Ïù¥Îã§.</li></ul></li></ul> <h4 id="_3-3-5-·Ñã·Öß·ÑÖ·Ö•-·Ñå·Ö°·Ü®·Ñã·Ö•·Ü∏-·ÑÉ·Ö©·Üº·Ñâ·Öµ-·Ñâ·Öµ·ÜØ·Ñí·Ö¢·Üº-invokeany"><a href="#_3-3-5-·Ñã·Öß·ÑÖ·Ö•-·Ñå·Ö°·Ü®·Ñã·Ö•·Ü∏-·ÑÉ·Ö©·Üº·Ñâ·Öµ-·Ñâ·Öµ·ÜØ·Ñí·Ö¢·Üº-invokeany" class="header-anchor">#</a> 3-3-5. Ïó¨Îü¨ ÏûëÏóÖ ÎèôÏãú Ïã§Ìñâ : invokeAny()</h4> <ul><li>ÎèôÏãúÏóê Ïã§ÌñâÌïú ÏûëÏóÖ Ï§ëÏóê Ï†úÏùº ÏßßÍ≤å Í±∏Î¶¨Îäî ÏûëÏóÖ ÎßåÌÅº ÏãúÍ∞ÑÏù¥ Í±∏Î¶∞Îã§.</li> <li><strong>Î∏îÎ°ùÌÇπ ÏΩú</strong>Ïù¥Îã§.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> result <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">invokeAny</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>hello<span class="token punctuation">,</span> java<span class="token punctuation">,</span> youngjun<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;result = &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Ïã§Ìñâ Í≤∞Í≥º
result = youngjun
*/</span>
</code></pre></div><blockquote><p>Ï£ºÏùòÌï† Ï†êÏùÄ, Ïã±Í∏Ä Ïì∞Î†àÎìúÎ°ú Ìï† Í≤ΩÏö∞ Î®ºÏ†Ä Îì§Ïñ¥Í∞Ñ ÏàúÏÑúÎåÄÎ°ú ÎÇòÏò§Í≤å ÎêúÎã§Îäî Ï†êÏù¥Îã§.</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">ExecutionException</span> <span class="token punctuation">{</span>
    <span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> java <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> youngjun <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;youngjun&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> s <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">invokeAny</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>hello<span class="token punctuation">,</span> java<span class="token punctuation">,</span> youngjun<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

    executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Ïã§Ìñâ Í≤∞Í≥º
Hello
*/</span>

</code></pre></div><h2 id="_4-completablefuture-1"><a href="#_4-completablefuture-1" class="header-anchor">#</a> 4. CompletableFuture (1)</h2> <h3 id="_4-1-·ÑÄ·Ö¢·Ñã·Ö≠"><a href="#_4-1-·ÑÄ·Ö¢·Ñã·Ö≠" class="header-anchor">#</a> 4-1. Í∞úÏöî</h3> <blockquote><p>ÏûêÎ∞îÏóêÏÑú ÎπÑÎèôÍ∏∞(Asynchronous)ÌîÑÎ°úÍ∑∏ÎûòÎ∞çÏùÑ Í∞ÄÎä•ÌïòÍ≤åÌïòÎäî Ïù∏ÌÑ∞ÌéòÏù¥Ïä§.<br>
FutureÏùò Ï†úÏïΩÏÇ¨Ìï≠Îì§ÏùÑ Ìï¥Í≤∞ÌïúÎã§.</p></blockquote> <h4 id="_4-1-1-future-·Ñå·Ö¶·Ñã·Ö£·Ü®"><a href="#_4-1-1-future-·Ñå·Ö¶·Ñã·Ö£·Ü®" class="header-anchor">#</a> 4-1-1. Future Ï†úÏïΩ</h4> <ul><li>ÏòàÏô∏ Ï≤òÎ¶¨Ïö© APIÎ•º Ï†úÍ≥µÌïòÏßÄ ÏïäÎäîÎã§.</li> <li>Ïó¨Îü¨ FutureÎ•º Ï°∞Ìï©Ìï† Ïàò ÏóÜÎã§. (ex: EventÏ†ïÎ≥¥Î•º Î∞õÏïÑ Îã§Ïùå EventÏóê Ï∞∏ÏÑùÌï† ÌöåÏõêÎ™©Î°ùÏ°∞Ìöå)</li> <li>FutureÎ•º Ïô∏Î∂ÄÏóêÏÑú ÏôÑÎ£åÏãúÌÇ¨ Ïàò ÏóÜÎã§. Ï∑®ÏÜåÌïòÍ±∞ÎÇò, get()Ïóê ÌÉÄÏûÑÏïÑÏõÉÏùÑ ÏÑ§Ï†ïÌï† ÏàòÎäî ÏûàÎã§.</li> <li>get()ÏùÑ Ìò∏Ï∂úÌïòÍ∏∞ Ï†ÑÍπåÏßÄÎäî futureÎ•º Îã§Î£∞ Ïàò ÏóÜÎã§.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token comment">//TODO</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token comment">//TODO</span>
</code></pre></div><ul><li>Ïó¨Í∏∞ÏÑú futureÎäî <code>blocking call</code></li></ul> <blockquote><p>futureÎ•º get()ÏúºÎ°ú Í∞ÄÏ†∏Ïò§Îäî ÎèôÏïàÏóêÎäî Îã§Î•∏ ÏûëÏóÖÎì§Ïùò ÏàòÌñâÏù¥ ÏïàÎêúÎã§Îäî ÏùòÎØ∏Ïù¥Í≥† Í∑∏ Í∏∞Í∞ÑÏù¥ Í∏∏Ïñ¥ÏßàÏàòÎ°ù ÏÑ±Îä•ÏùÄ Îñ®Ïñ¥ÏßàÏàò Î∞ñÏóê ÏóÜÎã§.</p></blockquote> <h3 id="_4-2-completablefuture"><a href="#_4-2-completablefuture" class="header-anchor">#</a> 4-2. CompletableFuture</h3> <blockquote><p>FutureÏôÄ CompletionStageÎ•º Íµ¨ÌòÑÌïòÎäî Íµ¨ÌòÑÏ≤¥</p></blockquote> <ul><li>ÏòàÏô∏Ï≤òÎ¶¨Î•º ÏßÄÏõêÌïòÎäî Î©îÏÑúÎìú</li> <li>ÏàúÏÑúÏùò ÏùòÏ°¥Í¥ÄÍ≥ÑÎ•º ÎßûÎäî Ïä§Î†àÎìú ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç</li> <li>ÏΩúÎ∞±ÏùÑ ÏßÄÏõêÌïòÍ∏∞ÎèÑ ÌïòÎ©∞ Ïó¨Îü¨ Ïä§Î†àÎìúÎ•º ÌïòÎÇòÎ°ú Î¨∂Ïñ¥ Ï≤òÎ¶¨ÌïòÍ∏∞ÏóêÎèÑ Ïö©Ïù¥</li></ul> <p><em><code>public class CompletableFuture&lt;T&gt; implements Future&lt;T&gt;, CompletionStage&lt;T&gt;{...}</code></em></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token string">&quot;youngjun&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;future = &quot;</span> <span class="token operator">+</span> future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//-------------OR --------------</span>
<span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">completedFuture</span><span class="token punctuation">(</span><span class="token string">&quot;youngjun&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;future = &quot;</span> <span class="token operator">+</span> future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_4-2-1-·Ñá·Öµ·ÑÉ·Ö©·Üº·ÑÄ·Öµ·ÑÖ·Ö©-·Ñå·Ö°·Ü®·Ñã·Ö•·Ü∏-·Ñâ·Öµ·ÜØ·Ñí·Ö¢·Üº·Ñí·Ö°·ÑÄ·Öµ"><a href="#_4-2-1-·Ñá·Öµ·ÑÉ·Ö©·Üº·ÑÄ·Öµ·ÑÖ·Ö©-·Ñå·Ö°·Ü®·Ñã·Ö•·Ü∏-·Ñâ·Öµ·ÜØ·Ñí·Ö¢·Üº·Ñí·Ö°·ÑÄ·Öµ" class="header-anchor">#</a> 4-2-1. ÎπÑÎèôÍ∏∞Î°ú ÏûëÏóÖ Ïã§ÌñâÌïòÍ∏∞</h4> <ul><li><p>Î¶¨ÌÑ¥Í∞íÏù¥ ÏóÜÎäî Í≤ΩÏö∞: <strong>runAsync()</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Î¶¨ÌÑ¥Í∞íÏù¥ ÏûàÎäî Í≤ΩÏö∞: <strong>supplyAsync()</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>ÏõêÌïòÎäî <strong>Executor</strong>(Ïì∞Î†àÎìúÌíÄ)Î•º ÏÇ¨Ïö©Ìï¥ÏÑú Ïã§ÌñâÌï† ÏàòÎèÑ ÏûàÎã§. (Í∏∞Î≥∏ÏùÄ <strong>ForkJoinPool.commonPool()</strong>)</p></li></ul> <h4 id="_4-2-2-·Ñè·Ö©·ÜØ·Ñá·Ö¢·Ü®-·Ñå·Ö¶·ÑÄ·Ö©·Üº·Ñí·Ö°·ÑÄ·Öµ"><a href="#_4-2-2-·Ñè·Ö©·ÜØ·Ñá·Ö¢·Ü®-·Ñå·Ö¶·ÑÄ·Ö©·Üº·Ñí·Ö°·ÑÄ·Öµ" class="header-anchor">#</a> 4-2-2. ÏΩúÎ∞± Ï†úÍ≥µÌïòÍ∏∞</h4> <ul><li><p><em><code>thenApply(Function)</code></em></p> <blockquote><p>Î¶¨ÌÑ¥Í∞íÏùÑ Î∞õÏïÑÏÑú Îã§Î•∏ Í∞íÏúºÎ°ú Î∞îÍæ∏Îäî ÏΩúÎ∞±</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenApply</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;content: &quot;</span><span class="token operator">+</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;HelloAsync&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>JavascriptÏùò Promise ÏôÄ Ïú†ÏÇ¨Ìïú ÌòïÌÉú</li> <li><code>supplyAsync</code>Ïùò ÎûåÎã§ÌëúÌòÑÏãùÏóêÏÑú Î∞òÌôòÎêú HelloÎùºÎäî Í∞íÏùÄ Ï≤¥Ïù¥ÎãùÎêú Î©îÏÜåÎìú <code>thenApply</code>Ïùò Ïù∏ÏûêÍ∞íÏúºÎ°ú Îì§Ïñ¥Í∞ÄÍ≥† ÏÇ¨Ïö© Í∞ÄÎä•</li> <li>Í∑∏Î¶¨Í≥† Îçî Ïù¥ÏÉÅ Ï≤¥Ïù¥ÎãùÎêú Î©îÏÜåÎìúÍ∞Ä ÏóÜÍ∏∞ ÎïåÎ¨∏Ïóê returnÍ∞íÏù∏ HelloAsyncÎäî Î∞òÌôòÎêòÏñ¥ futureÎ°ú Îì§Ïñ¥Í∞ÄÍ≥† get()ÏùÑÌÜµÌï¥ Î∞õÏùÑ Ïàò ÏûàÎã§.</li></ul></li> <li><p><em><code>thenAccept(Consumer)</code></em></p> <blockquote><p>Î¶¨ÌÑ¥Í∞íÏùÑ Î∞õÏïÑ Îòê Îã§Î•∏ ÏûëÏóÖÏùÑ ÏàòÌñâÌïòÎäîÎç∞ Î∞òÌôòÍ∞íÏùÄ ÏóÜÎäî ÏΩúÎ∞± (Î¶¨ÌÑ¥ x)</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAccept</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;content: &quot;</span><span class="token operator">+</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// return ÏóÜÎã§.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><em><code>thenRun(Runnable)</code></em></p> <blockquote><p>Î¶¨ÌÑ¥Í∞íÏùÑ Î∞õÏßÄ ÏïäÍ≥† Îã§Î•∏ ÏûëÏóÖÏùÑ ÏàòÌñâÌïòÎäî ÏΩúÎ∞±</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenRun</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h4 id="parallelstream-vs-completablefuture"><a href="#parallelstream-vs-completablefuture" class="header-anchor">#</a> <em>ParallelStream vs. CompletableFuture</em></h4> <ul><li>from <a href="https://www.manning.com/books/java-8-in-action" target="_blank" rel="noopener noreferrer">Java 8 in Action<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><strong>ParallelStream</strong> : <strong>I/OÍ∞Ä Ìè¨Ìï®ÎêòÏßÄ ÏïäÏùÄ Í≥ÑÏÇ∞ Ï§ëÏã¨</strong>Ïùò ÎèôÏûëÏùÑ Ïã§ÌñâÌï† ÎïåÎäî Ïä§Ìä∏Î¶º Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Í∞Ä Í∞ÄÏû• Íµ¨ÌòÑÌïòÍ∏∞ Í∞ÑÎã§ÌïòÎ©∞ Ìö®Ïú®Ï†ÅÏùº Ïàò ÏûàÎã§(Î™®Îì† Ïä§Î†àÎìúÍ∞Ä Í≥ÑÏÇ∞ ÏûëÏóÖÏùÑ ÏàòÌñâÌïòÎäî ÏÉÅÌô©ÏóêÏÑúÎäî ÌîÑÎ°úÏÑ∏ÏÑú ÏΩîÏñ¥ Ïàò Ïù¥ÏÉÅÏùò Ïì∞Î†àÎìúÎ•º Í∞ÄÏßà ÌïÑÏöîÍ∞Ä ÏóÜÎã§).</li> <li><strong>CompletableFuture</strong> : Î∞òÎ©¥ ÏûëÏóÖÏù¥ <strong>I/OÎ•º Í∏∞Îã§Î¶¨Îäî ÏûëÏóÖÏùÑ Î≥ëÎ†¨Î°ú Ïã§Ìñâ</strong>Ìï† ÎïåÎäî <code>CompletableFuture</code>Í∞Ä Îçî ÎßéÏùÄ Ïú†Ïó∞ÏÑ±ÏùÑ Ï†úÍ≥µÌïòÎ©∞ ÎåÄÍ∏∞/Í≥ÑÏÇ∞(W/C)Ïùò ÎπÑÏú®Ïóê Ï†ÅÌï©Ìïú Ïä§Î†àÎìú ÏàòÎ•º ÏÑ§Ï†ïÌï† Ïàò ÏûàÎã§. ÌäπÌûà Ïä§Ìä∏Î¶ºÏùò Í≤åÏúºÎ•∏ ÌäπÏÑ± ÎïåÎ¨∏Ïóê Ïä§Ìä∏Î¶ºÏóêÏÑú I/OÎ•º Ïã§Ï†úÎ°ú Ïñ∏Ï†ú Ï≤òÎ¶¨Ìï† ÏßÄ ÏòàÏ∏°ÌïòÍ∏∞ Ïñ¥Î†§Ïö¥ Î¨∏Ï†úÎèÑ ÏûàÎã§.</li> <li><a href="http://fahdshariff.blogspot.kr/2016/06/java-8-completablefuture-vs-parallel.html" target="_blank" rel="noopener noreferrer">fahd.blog: Java 8: CompletableFuture vs Parallel Stream<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="_5-completablefuture-2"><a href="#_5-completablefuture-2" class="header-anchor">#</a> 5. CompletableFuture (2)</h2> <h3 id="_5-1-completablefuture-·Ñå·Ö©·Ñí·Ö°·Ü∏-·ÑÜ·Ö¶·Ñâ·Ö©·ÑÉ·Ö≥"><a href="#_5-1-completablefuture-·Ñå·Ö©·Ñí·Ö°·Ü∏-·ÑÜ·Ö¶·Ñâ·Ö©·ÑÉ·Ö≥" class="header-anchor">#</a> 5-1. CompletableFuture Ï°∞Ìï© Î©îÏÜåÎìú</h3> <h4 id="_5-1-1-thencompose"><a href="#_5-1-1-thencompose" class="header-anchor">#</a> 5-1-1. thenCompose()</h4> <ul><li>Îëê ÏûëÏóÖÏù¥ ÏÑúÎ°ú Ïù¥Ïñ¥ÏÑú Ïã§ÌñâÌïòÎèÑÎ°ù Ï°∞Ìï©ÌïòÎ©∞ Ïó∞Í¥ÄÎêú futureÍ∞ÑÏóê ÎßéÏù¥ ÏÇ¨Ïö©</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">ExecutionException</span> <span class="token punctuation">{</span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> helloFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> helloFuture<span class="token punctuation">.</span><span class="token function">thenCompose</span><span class="token punctuation">(</span><span class="token class-name">App</span><span class="token operator">::</span><span class="token function">getWorldFuture</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getWorldFuture</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;World &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> message <span class="token operator">+</span> <span class="token string">&quot; World&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
Hello ForkJoinPool.commonPool-worker-3
World ForkJoinPool.commonPool-worker-5
Hello World
*/</span>
</code></pre></div><h4 id="_5-1-2-thencombine"><a href="#_5-1-2-thencombine" class="header-anchor">#</a> 5-1-2. thenCombine()</h4> <ul><li><strong>Îëê ÏûëÏóÖÏùÑ ÎèÖÎ¶ΩÏ†ÅÏúºÎ°ú Ïã§ÌñâÌïòÍ≥† Îëò Îã§ Ï¢ÖÎ£å ÌñàÏùÑÎïå ÏΩúÎ∞± Ïã§Ìñâ.</strong></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">ExecutionException</span> <span class="token punctuation">{</span>
    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> msFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MicroSoft &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;MicroSoft&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> appleFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Apple &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Apple&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> resultFuture <span class="token operator">=</span> msFuture<span class="token punctuation">.</span><span class="token function">thenCombine</span><span class="token punctuation">(</span>appleFuture<span class="token punctuation">,</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> i <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>resultFuture<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-1-3-allof"><a href="#_5-1-3-allof" class="header-anchor">#</a> 5-1-3. allOf()</h4> <ul><li>Ïó¨Îü¨ ÏûëÏóÖÏùÑ Î™®Îëê Ïã§ÌñâÌïòÍ≥† Î™®Îì† ÏûëÏóÖ Í≤∞Í≥ºÏóê ÏΩúÎ∞± Ïã§Ìñâ</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">ExecutionException</span> <span class="token punctuation">{</span>
    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> msFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MicroSoft &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;MicroSoft&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> appleFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Apple &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Apple&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompletableFuture</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> futures <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>msFuture<span class="token punctuation">,</span> appleFuture<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> results <span class="token operator">=</span>
            <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">allOf</span><span class="token punctuation">(</span>futures<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">[</span>futures<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">thenApply</span><span class="token punctuation">(</span>v <span class="token operator">-&gt;</span> futures<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">CompletableFuture</span><span class="token operator">::</span><span class="token function">join</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    results<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-1-4-anyof"><a href="#_5-1-4-anyof" class="header-anchor">#</a> 5-1-4. anyOf()</h4> <ul><li>Ïó¨Îü¨ ÏûëÏóÖ Ï§ë Í∞ÄÏû• ÎÅùÎÇú ÌïòÎÇòÏùò Í≤∞Í≥ºÎ•º ÏΩúÎ∞±Ïóê ÎÑòÍ≤® Ïã§Ìñâ</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> msFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MicroSoft &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;MicroSoft&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> appleFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Apple &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Apple&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">anyOf</span><span class="token punctuation">(</span>msFuture<span class="token punctuation">,</span> appleFuture<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAccept</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-2-·Ñã·Ö®·Ñã·Ö¨-·Ñé·Ö•·ÑÖ·Öµ-·ÑÜ·Ö¶·Ñâ·Ö©·ÑÉ·Ö≥"><a href="#_5-2-·Ñã·Ö®·Ñã·Ö¨-·Ñé·Ö•·ÑÖ·Öµ-·ÑÜ·Ö¶·Ñâ·Ö©·ÑÉ·Ö≥" class="header-anchor">#</a> 5-2. ÏòàÏô∏ Ï≤òÎ¶¨ Î©îÏÜåÎìú</h3> <h4 id="_5-2-1-exeptionally-function"><a href="#_5-2-1-exeptionally-function" class="header-anchor">#</a> 5-2-1. exeptionally(Function)</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">boolean</span> throwError <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> msFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>throwError<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MicroSoft &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;MicroSoft&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exceptionally</span><span class="token punctuation">(</span>ex<span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Error&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msFuture<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_5-2-2-handle-bifunction"><a href="#_5-2-2-handle-bifunction" class="header-anchor">#</a> 5-2-2. handle(BiFunction)</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">boolean</span> throwError <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> msFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>throwError<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MicroSoft &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;MicroSoft&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">nonNull</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ERROR&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msFuture<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-3-completablefuture-·ÑÖ·Ö≥·ÜØ-·Ñã·Ö•·Ü´·Ñå·Ö¶-·Ñä·Ö≥·ÜØ-·Ñâ·ÖÆ-·Ñã·Öµ·Üª·Ñã·Ö≥·ÜØ·ÑÅ·Ö°"><a href="#_5-3-completablefuture-·ÑÖ·Ö≥·ÜØ-·Ñã·Ö•·Ü´·Ñå·Ö¶-·Ñä·Ö≥·ÜØ-·Ñâ·ÖÆ-·Ñã·Öµ·Üª·Ñã·Ö≥·ÜØ·ÑÅ·Ö°" class="header-anchor">#</a> 5-3. CompletableFuture Î•º Ïñ∏Ï†ú Ïì∏ Ïàò ÏûàÏùÑÍπå</h3> <ul><li>ÏïÑÎûòÎäî microservices.io ÏÇ¨Ïù¥Ìä∏ÏóêÏÑú Í∞ÄÏ†∏Ïò® ÏòàÏ†úÏù¥Îã§.</li></ul> <p><img src="https://user-images.githubusercontent.com/42997924/142424985-840b9ddd-6f97-49f1-abc8-f34fa9f5918b.png" alt="image"></p> <ul><li>CompletableFuture Î•º ÏÇ¨Ïö©Ìï† ÎßåÌïú Î∂ÄÎ∂ÑÏùÄ API GATEWAY, Storefront WebApp ÎùºÍ≥† Ìï† Ïàò ÏûàÎã§. Ïù¥Ïú†Îäî Account, Inventory, Shipping Service Îäî DATA BASE ÏôÄ Ïó∞ÎèôÌïòÍ≥† ÏûàÍ∏∞ ÎïåÎ¨∏Ïù¥Îã§. java ÌôòÍ≤ΩÏóêÏÑú RDBMS Ïó∞ÎèôÏãúÏóê ÏïÑÏßÅ Async Ìïú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Î∞©ÏãùÏùÑ Ï†úÍ≥µÌïòÍ≥† ÏûàÏßÄ ÏïäÍ∏∞ ÎïåÎ¨∏Ïóê Async Í∞úÎ∞úÏùÑ Ìï¥ÏÑú ÌÅ∞ Ìö®Í≥ºÎ•º ÏñªÍ∏∞ Î∂ÄÏ°±ÌïòÎã§.</li> <li>ÌïòÏßÄÎßå GATEWAY Îì±ÏùÄ REST Service ÏôÄ Ïó∞ÎèôÌïòÍ∏∞ ÎïåÎ¨∏Ïóê Async Î•º ÌÜµÌïú ÏÑ±Îä• Ìö®Í≥ºÎ•º Î≥º Ïàò ÏûàÎã§. (Blocking Thread Î¨∏Ï†ú Ìï¥Í≤∞ Îì±)</li></ul> <p><strong>Reference</strong></p> <ul><li><a href="https://www.hungrydiver.co.kr/bbs/detail/develop?id=2" target="_blank" rel="noopener noreferrer">https://www.hungrydiver.co.kr/bbs/detail/develop?id=2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://kwonnam.pe.kr/wiki/java/8/completable_future" target="_blank" rel="noopener noreferrer">https://kwonnam.pe.kr/wiki/java/8/completable_future<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://huisam.tistory.com/entry/completableFuture" target="_blank" rel="noopener noreferrer">https://huisam.tistory.com/entry/completableFuture<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://tourspace.tistory.com/137" target="_blank" rel="noopener noreferrer">https://tourspace.tistory.com/137<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://bbubbush.tistory.com/23" target="_blank" rel="noopener noreferrer">https://bbubbush.tistory.com/23<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/1/2022, 2:32:12 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/til/Java/11.Date-Time.html" class="prev">
        DateÏôÄ Time
      </a></span> <span class="next"><a href="/til/Java/13.Annotation-In-Java8.html">
        Ïï†ÎÖ∏ÌÖåÏù¥ÏÖòÏùò Î≥ÄÌôî
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/til/assets/js/app.b966e427.js" defer></script><script src="/til/assets/js/2.f827bc55.js" defer></script><script src="/til/assets/js/94.000327da.js" defer></script><script src="/til/assets/js/46.01e6df54.js" defer></script>
  </body>
</html>
