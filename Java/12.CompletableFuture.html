<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CompletableFuture | Today Youngjun learnedâœ</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/til/images/logo-144.png">
    <link rel="manifest" href="/til/manifest.json">
    <meta name="description" content="Youngjun`s Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/til/assets/css/0.styles.5b85764b.css" as="style"><link rel="preload" href="/til/assets/js/app.b966e427.js" as="script"><link rel="preload" href="/til/assets/js/2.f827bc55.js" as="script"><link rel="preload" href="/til/assets/js/94.000327da.js" as="script"><link rel="preload" href="/til/assets/js/46.01e6df54.js" as="script"><link rel="prefetch" href="/til/assets/js/10.d7bebace.js"><link rel="prefetch" href="/til/assets/js/100.10add18d.js"><link rel="prefetch" href="/til/assets/js/101.fc5a0940.js"><link rel="prefetch" href="/til/assets/js/102.7a32911f.js"><link rel="prefetch" href="/til/assets/js/103.b87f99b0.js"><link rel="prefetch" href="/til/assets/js/104.568ac1fd.js"><link rel="prefetch" href="/til/assets/js/105.a6266b36.js"><link rel="prefetch" href="/til/assets/js/106.6f9f3240.js"><link rel="prefetch" href="/til/assets/js/107.4b11e714.js"><link rel="prefetch" href="/til/assets/js/108.3b50a929.js"><link rel="prefetch" href="/til/assets/js/109.d62e2365.js"><link rel="prefetch" href="/til/assets/js/11.0f06add5.js"><link rel="prefetch" href="/til/assets/js/110.b5535820.js"><link rel="prefetch" href="/til/assets/js/111.4cb0279a.js"><link rel="prefetch" href="/til/assets/js/112.af713b0f.js"><link rel="prefetch" href="/til/assets/js/113.15fc01bd.js"><link rel="prefetch" href="/til/assets/js/114.27a3c9f9.js"><link rel="prefetch" href="/til/assets/js/115.b29b8bd0.js"><link rel="prefetch" href="/til/assets/js/116.1a75c525.js"><link rel="prefetch" href="/til/assets/js/117.c639595c.js"><link rel="prefetch" href="/til/assets/js/118.8bbde709.js"><link rel="prefetch" href="/til/assets/js/119.0a6e4091.js"><link rel="prefetch" href="/til/assets/js/12.32cd872d.js"><link rel="prefetch" href="/til/assets/js/120.ba61235a.js"><link rel="prefetch" href="/til/assets/js/121.1d19845e.js"><link rel="prefetch" href="/til/assets/js/122.76352e08.js"><link rel="prefetch" href="/til/assets/js/123.bdf6c8ad.js"><link rel="prefetch" href="/til/assets/js/124.65d6a68f.js"><link rel="prefetch" href="/til/assets/js/125.ba572baa.js"><link rel="prefetch" href="/til/assets/js/126.6362e5f7.js"><link rel="prefetch" href="/til/assets/js/127.0972ab19.js"><link rel="prefetch" href="/til/assets/js/128.940585f8.js"><link rel="prefetch" href="/til/assets/js/129.fcdae323.js"><link rel="prefetch" href="/til/assets/js/13.36b91a88.js"><link rel="prefetch" href="/til/assets/js/130.9ce02b8f.js"><link rel="prefetch" href="/til/assets/js/131.c4f8380d.js"><link rel="prefetch" href="/til/assets/js/132.466b27f2.js"><link rel="prefetch" href="/til/assets/js/133.a74b2bcf.js"><link rel="prefetch" href="/til/assets/js/134.cd262fd3.js"><link rel="prefetch" href="/til/assets/js/135.db0c46d2.js"><link rel="prefetch" href="/til/assets/js/136.8d7c3ae2.js"><link rel="prefetch" href="/til/assets/js/137.095348af.js"><link rel="prefetch" href="/til/assets/js/138.d65cfbaa.js"><link rel="prefetch" href="/til/assets/js/139.b9cae344.js"><link rel="prefetch" href="/til/assets/js/14.93de2a9d.js"><link rel="prefetch" href="/til/assets/js/140.af25d63e.js"><link rel="prefetch" href="/til/assets/js/141.ba0e2c42.js"><link rel="prefetch" href="/til/assets/js/142.22f0de41.js"><link rel="prefetch" href="/til/assets/js/143.8badcf6c.js"><link rel="prefetch" href="/til/assets/js/144.03291af7.js"><link rel="prefetch" href="/til/assets/js/145.1a62107d.js"><link rel="prefetch" href="/til/assets/js/146.9660b5d3.js"><link rel="prefetch" href="/til/assets/js/147.d31a5026.js"><link rel="prefetch" href="/til/assets/js/148.5b2a7f31.js"><link rel="prefetch" href="/til/assets/js/149.17fec1d0.js"><link rel="prefetch" href="/til/assets/js/15.dc412a0b.js"><link rel="prefetch" href="/til/assets/js/150.427e1cc8.js"><link rel="prefetch" href="/til/assets/js/151.579a53fa.js"><link rel="prefetch" href="/til/assets/js/152.01535ad9.js"><link rel="prefetch" href="/til/assets/js/153.60074c9b.js"><link rel="prefetch" href="/til/assets/js/154.8e3ca391.js"><link rel="prefetch" href="/til/assets/js/155.b9048e3a.js"><link rel="prefetch" href="/til/assets/js/156.046eb80d.js"><link rel="prefetch" href="/til/assets/js/157.324be1b1.js"><link rel="prefetch" href="/til/assets/js/158.4e1c4361.js"><link rel="prefetch" href="/til/assets/js/159.0f90e010.js"><link rel="prefetch" href="/til/assets/js/16.a55ea966.js"><link rel="prefetch" href="/til/assets/js/160.29f51c86.js"><link rel="prefetch" href="/til/assets/js/17.9f78216b.js"><link rel="prefetch" href="/til/assets/js/18.0d484a85.js"><link rel="prefetch" href="/til/assets/js/19.1c3892bc.js"><link rel="prefetch" href="/til/assets/js/20.8937f56e.js"><link rel="prefetch" href="/til/assets/js/21.fddd6515.js"><link rel="prefetch" href="/til/assets/js/22.a8d8c325.js"><link rel="prefetch" href="/til/assets/js/23.06fd5516.js"><link rel="prefetch" href="/til/assets/js/24.9742c20f.js"><link rel="prefetch" href="/til/assets/js/25.43488937.js"><link rel="prefetch" href="/til/assets/js/26.cfda8508.js"><link rel="prefetch" href="/til/assets/js/27.d56fbf92.js"><link rel="prefetch" href="/til/assets/js/28.b726f0e8.js"><link rel="prefetch" href="/til/assets/js/29.9392ca02.js"><link rel="prefetch" href="/til/assets/js/3.b6c859d9.js"><link rel="prefetch" href="/til/assets/js/30.f00fd4d5.js"><link rel="prefetch" href="/til/assets/js/31.30deb5f6.js"><link rel="prefetch" href="/til/assets/js/32.33d79ed8.js"><link rel="prefetch" href="/til/assets/js/33.ff775729.js"><link rel="prefetch" href="/til/assets/js/34.14ba38de.js"><link rel="prefetch" href="/til/assets/js/35.a26ad471.js"><link rel="prefetch" href="/til/assets/js/36.3533ce1b.js"><link rel="prefetch" href="/til/assets/js/37.d923853e.js"><link rel="prefetch" href="/til/assets/js/38.d261d060.js"><link rel="prefetch" href="/til/assets/js/39.9837999e.js"><link rel="prefetch" href="/til/assets/js/4.45c650f4.js"><link rel="prefetch" href="/til/assets/js/40.2d9bc2a1.js"><link rel="prefetch" href="/til/assets/js/41.1e89639e.js"><link rel="prefetch" href="/til/assets/js/42.b0dcaa1a.js"><link rel="prefetch" href="/til/assets/js/43.39bd8193.js"><link rel="prefetch" href="/til/assets/js/44.a0dcaecc.js"><link rel="prefetch" href="/til/assets/js/45.a79908d0.js"><link rel="prefetch" href="/til/assets/js/47.1be508f7.js"><link rel="prefetch" href="/til/assets/js/48.2b9b1509.js"><link rel="prefetch" href="/til/assets/js/49.494fbd72.js"><link rel="prefetch" href="/til/assets/js/5.0aa337fe.js"><link rel="prefetch" href="/til/assets/js/50.b3e0241f.js"><link rel="prefetch" href="/til/assets/js/51.497b25e7.js"><link rel="prefetch" href="/til/assets/js/52.079e17c0.js"><link rel="prefetch" href="/til/assets/js/53.eea981ae.js"><link rel="prefetch" href="/til/assets/js/54.8f82c850.js"><link rel="prefetch" href="/til/assets/js/55.799a85a9.js"><link rel="prefetch" href="/til/assets/js/56.4d6a321c.js"><link rel="prefetch" href="/til/assets/js/57.bbf8da6b.js"><link rel="prefetch" href="/til/assets/js/58.2ca7da5b.js"><link rel="prefetch" href="/til/assets/js/59.926b192a.js"><link rel="prefetch" href="/til/assets/js/6.52e5f234.js"><link rel="prefetch" href="/til/assets/js/60.221c2169.js"><link rel="prefetch" href="/til/assets/js/61.d1814565.js"><link rel="prefetch" href="/til/assets/js/62.2c62fe16.js"><link rel="prefetch" href="/til/assets/js/63.64d19172.js"><link rel="prefetch" href="/til/assets/js/64.45e22399.js"><link rel="prefetch" href="/til/assets/js/65.4c350e04.js"><link rel="prefetch" href="/til/assets/js/66.5a834cf8.js"><link rel="prefetch" href="/til/assets/js/67.c783ae27.js"><link rel="prefetch" href="/til/assets/js/68.b9bae23d.js"><link rel="prefetch" href="/til/assets/js/69.e0304559.js"><link rel="prefetch" href="/til/assets/js/7.21123317.js"><link rel="prefetch" href="/til/assets/js/70.5dfaa4d5.js"><link rel="prefetch" href="/til/assets/js/71.f96d7948.js"><link rel="prefetch" href="/til/assets/js/72.d3b73ec0.js"><link rel="prefetch" href="/til/assets/js/73.d866814e.js"><link rel="prefetch" href="/til/assets/js/74.2326a2fd.js"><link rel="prefetch" href="/til/assets/js/75.5d7de152.js"><link rel="prefetch" href="/til/assets/js/76.84d9a412.js"><link rel="prefetch" href="/til/assets/js/77.4e5fdc50.js"><link rel="prefetch" href="/til/assets/js/78.1e1b77d2.js"><link rel="prefetch" href="/til/assets/js/79.9228d008.js"><link rel="prefetch" href="/til/assets/js/8.bc2662d1.js"><link rel="prefetch" href="/til/assets/js/80.9f99425b.js"><link rel="prefetch" href="/til/assets/js/81.edc4bc43.js"><link rel="prefetch" href="/til/assets/js/82.c38528d6.js"><link rel="prefetch" href="/til/assets/js/83.3faadb6e.js"><link rel="prefetch" href="/til/assets/js/84.d8a552da.js"><link rel="prefetch" href="/til/assets/js/85.55f502c3.js"><link rel="prefetch" href="/til/assets/js/86.c493861b.js"><link rel="prefetch" href="/til/assets/js/87.021ecda2.js"><link rel="prefetch" href="/til/assets/js/88.2d238be1.js"><link rel="prefetch" href="/til/assets/js/89.25104c46.js"><link rel="prefetch" href="/til/assets/js/9.1d59b63f.js"><link rel="prefetch" href="/til/assets/js/90.5c5e8d16.js"><link rel="prefetch" href="/til/assets/js/91.e169fa49.js"><link rel="prefetch" href="/til/assets/js/92.722f0b66.js"><link rel="prefetch" href="/til/assets/js/93.ad3d53df.js"><link rel="prefetch" href="/til/assets/js/95.801fd8c3.js"><link rel="prefetch" href="/til/assets/js/96.ca00a28b.js"><link rel="prefetch" href="/til/assets/js/97.71a58138.js"><link rel="prefetch" href="/til/assets/js/98.1a9eea17.js"><link rel="prefetch" href="/til/assets/js/99.bfb3e7b4.js">
    <link rel="stylesheet" href="/til/assets/css/0.styles.5b85764b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/til/" class="home-link router-link-active"><!----> <span class="site-name">Today Youngjun learnedâœ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/jun108059/til" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ¨ Elasticsearch</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ³ Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ‹ Kubernetes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“˜ Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“— GCP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“™ Machine Learning</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“• Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’š Data Structure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ğŸ’ Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/til/Java/01.OOP.html" class="sidebar-link">ê°ì²´ì§€í–¥ì˜ ê°œë…</a></li><li><a href="/til/Java/02.GenericClass.html" class="sidebar-link">Genericì´ë€?</a></li><li><a href="/til/Java/03.JavaScanner.html" class="sidebar-link">Java Scanner</a></li><li><a href="/til/Java/04.init-clinit.html" class="sidebar-link">initê³¼ clinitì˜ ì°¨ì´ì </a></li><li><a href="/til/Java/05.Java-JVM-JDK.html" class="sidebar-link">Java, JVM, JDK, JREì˜ ì°¨ì´ì </a></li><li><a href="/til/Java/06.JavaCollection.html" class="sidebar-link">Java ì»¬ë ‰ì…˜(Collection) ì •ë¦¬</a></li><li><a href="/til/Java/07.Fuctional-Interface-Lamda.html" class="sidebar-link">í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ì™€ ëŒë‹¤</a></li><li><a href="/til/Java/08.Interface.html" class="sidebar-link">ì¸í„°í˜ì´ìŠ¤ì˜ ë³€í™”</a></li><li><a href="/til/Java/09.Stream.html" class="sidebar-link">Stream</a></li><li><a href="/til/Java/10.Optional.html" class="sidebar-link">Optional</a></li><li><a href="/til/Java/11.Date-Time.html" class="sidebar-link">Dateì™€ Time</a></li><li><a href="/til/Java/12.CompletableFuture.html" aria-current="page" class="active sidebar-link">CompletableFuture</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/til/Java/12.CompletableFuture.html#_1-á„Œá…¡á„‡á…¡-concurrent-á„‘á…³á„…á…©á„€á…³á„…á…¢á„†á…µá†¼-á„‰á…©á„€á…¢" class="sidebar-link">1. ìë°” Concurrent í”„ë¡œê·¸ë˜ë° ì†Œê°œ</a></li><li class="sidebar-sub-header"><a href="/til/Java/12.CompletableFuture.html#_2-executors" class="sidebar-link">2. Executors</a></li><li class="sidebar-sub-header"><a href="/til/Java/12.CompletableFuture.html#_3-callableá„€á…ª-future" class="sidebar-link">3. Callableê³¼ Future</a></li><li class="sidebar-sub-header"><a href="/til/Java/12.CompletableFuture.html#_4-completablefuture-1" class="sidebar-link">4. CompletableFuture (1)</a></li><li class="sidebar-sub-header"><a href="/til/Java/12.CompletableFuture.html#_5-completablefuture-2" class="sidebar-link">5. CompletableFuture (2)</a></li></ul></li><li><a href="/til/Java/13.Annotation-In-Java8.html" class="sidebar-link">ì• ë…¸í…Œì´ì…˜ì˜ ë³€í™”</a></li><li><a href="/til/Java/14.Arrays-parallel-sort.html" class="sidebar-link">ë°°ì—´ ë³‘ë ¬ ì •ë ¬</a></li><li><a href="/til/Java/15.Meta-space.html" class="sidebar-link">Meta space</a></li><li><a href="/til/Java/ArrayList.html" class="sidebar-link">ArrayList</a></li><li><a href="/til/Java/MVC-Pattern.html" class="sidebar-link">MVC Pattern</a></li><li><a href="/til/Java/Substring&amp;Split.html" class="sidebar-link">Substring &amp; Split</a></li><li><a href="/til/Java/for-each.html" class="sidebar-link">Java for eachë¬¸ (í–¥ìƒëœ forë¬¸)</a></li><li><a href="/til/Java/interface&amp;abstract.html" class="sidebar-link">Interface &amp; Abstract</a></li><li><a href="/til/Java/length&amp;size.html" class="sidebar-link">length &amp; length() &amp; size()</a></li><li><a href="/til/Java/static.html" class="sidebar-link">Java Static</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’™ Kubeflow</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ–¤ News</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’œ NGINX</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ¤ Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ¤ System Programming</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’› UX&amp;UI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ’• Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ğŸ“Œ etc</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="completablefuture"><a href="#completablefuture" class="header-anchor">#</a> CompletableFuture</h1> <ul><li><a href="#1-%EC%9E%90%EB%B0%94-concurrent-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%86%8C%EA%B0%9C">1. ìë°” Concurrent í”„ë¡œê·¸ë˜ë° ì†Œê°œ</a> <ul><li><a href="#1-1-concurrent-%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4">1-1. Concurrent ì†Œí”„íŠ¸ì›¨ì–´</a></li></ul></li> <li><a href="#2-executors">2. Executors</a> <ul><li><a href="#2-1-executors%EA%B0%80-%ED%95%98%EB%8A%94-%EC%9D%BC">2-1. Executorsê°€ í•˜ëŠ” ì¼</a></li> <li><a href="#2-2-%EC%A3%BC%EC%9A%94-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4">2-2. ì£¼ìš” ì¸í„°í˜ì´ìŠ¤</a></li> <li><a href="#2-3-%EC%98%88%EC%A0%9C">2-3. ì˜ˆì œ</a></li> <li><a href="#2-4-executor-%EC%A0%95%EB%A6%AC">2-4. Executor ì •ë¦¬</a></li></ul></li> <li><a href="#3-callable%EA%B3%BC-future">3. Callableê³¼ Future</a> <ul><li><a href="#3-1-callable">3-1. Callable</a></li> <li><a href="#3-2-future">3-2. Future</a></li> <li><a href="#3-3-%EB%A9%94%EC%86%8C%EB%93%9C-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0">3-3. ë©”ì†Œë“œ ì‚´í´ë³´ê¸°</a></li></ul></li> <li><a href="#4-completablefuture-1">4. CompletableFuture (1)</a> <ul><li><a href="#4-1-%EA%B0%9C%EC%9A%94">4-1. ê°œìš”</a></li> <li><a href="#4-2-completablefuture">4-2. CompletableFuture</a></li></ul></li> <li><a href="#5-completablefuture-2">5. CompletableFuture (2)</a> <ul><li><a href="#5-1-completablefuture-%EC%A1%B0%ED%95%A9-%EB%A9%94%EC%86%8C%EB%93%9C">5-1. CompletableFuture ì¡°í•© ë©”ì†Œë“œ</a></li> <li><a href="#5-2-%EC%98%88%EC%99%B8-%EC%B2%98%EB%A6%AC-%EB%A9%94%EC%86%8C%EB%93%9C">5-2. ì˜ˆì™¸ ì²˜ë¦¬ ë©”ì†Œë“œ</a></li> <li><a href="#5-3-completablefuture-%EB%A5%BC-%EC%96%B8%EC%A0%9C-%EC%93%B8-%EC%88%98-%EC%9E%88%EC%9D%84%EA%B9%8C">5-3. CompletableFuture ë¥¼ ì–¸ì œ ì“¸ ìˆ˜ ìˆì„ê¹Œ</a></li></ul></li></ul> <h2 id="_1-á„Œá…¡á„‡á…¡-concurrent-á„‘á…³á„…á…©á„€á…³á„…á…¢á„†á…µá†¼-á„‰á…©á„€á…¢"><a href="#_1-á„Œá…¡á„‡á…¡-concurrent-á„‘á…³á„…á…©á„€á…³á„…á…¢á„†á…µá†¼-á„‰á…©á„€á…¢" class="header-anchor">#</a> 1. ìë°” Concurrent í”„ë¡œê·¸ë˜ë° ì†Œê°œ</h2> <h3 id="_1-1-concurrent-á„‰á…©á„‘á…³á„á…³á„‹á…°á„‹á…¥"><a href="#_1-1-concurrent-á„‰á…©á„‘á…³á„á…³á„‹á…°á„‹á…¥" class="header-anchor">#</a> 1-1. Concurrent ì†Œí”„íŠ¸ì›¨ì–´</h3> <blockquote><p>ğŸ’¡ ë™ì‹œì— ì—¬ëŸ¬ ì‘ì—…ì„ í•  ìˆ˜ ìˆëŠ” ì†Œí”„íŠ¸ì›¨ì–´</p></blockquote> <h4 id="á„ƒá…©á†¼á„‰á…µá„‰á…¥á†¼á„€á…ª-á„‡á…§á†¼á„…á…§á†¯á„‰á…¥á†¼á„‹á…´-á„á…¡á„‹á…µ"><a href="#á„ƒá…©á†¼á„‰á…µá„‰á…¥á†¼á„€á…ª-á„‡á…§á†¼á„…á…§á†¯á„‰á…¥á†¼á„‹á…´-á„á…¡á„‹á…µ" class="header-anchor">#</a> ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì˜ ì°¨ì´</h4> <ul><li>ë™ì‹œì„±
<ul><li>í•˜ë‚˜ì˜ ì“°ë ˆë“œë‚˜ í”„ë¡œì„¸ì„œì˜ ì—¬ëŸ¬ Taskë¥¼ ê´€ë¦¬í•¨ìœ¼ë¡œì¨, ë§ˆì¹˜ ë™ì‹œì— ì‘ì—…ì´ ìˆ˜í–‰ë˜ê³  ìˆëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ëŠ” ê²ƒ</li></ul></li> <li>ë³‘ë ¬ì„±
<ul><li>Taskì˜ ì‹¤í–‰ì„ í•˜ë“œì›¨ì–´ ìˆ˜ì¤€ìœ¼ë¡œ ì‹¤í–‰ë˜ë©°, ê°ê°ì˜ ì‘ì—…ë“¤ì´ ë…ë¦½ì ì„</li></ul></li></ul> <h4 id="_1-1-1-á„Œá…¡á„‡á…¡á„‹á…¦á„‰á…¥-á„Œá…µá„‹á…¯á†«á„’á…¡á„‚á…³á†«-concurrent-á„‘á…³á„…á…©á„€á…³á„…á…¢á„†á…µá†¼"><a href="#_1-1-1-á„Œá…¡á„‡á…¡á„‹á…¦á„‰á…¥-á„Œá…µá„‹á…¯á†«á„’á…¡á„‚á…³á†«-concurrent-á„‘á…³á„…á…©á„€á…³á„…á…¢á„†á…µá†¼" class="header-anchor">#</a> 1-1-1. ìë°”ì—ì„œ ì§€ì›í•˜ëŠ” Concurrent í”„ë¡œê·¸ë˜ë°</h4> <ul><li>ë©€í‹°ì“°ë ˆë“œ</li> <li>ë©€í‹°í”„ë¡œì„¸ì‹±(ProcessBuilder)</li></ul> <table><thead><tr><th style="text-align:center;"><code>ë²„ì „</code></th> <th style="text-align:center;"><code>ì‚¬ìš© ë°©ë²•</code></th></tr></thead> <tbody><tr><td style="text-align:center;">Java 5 ì´ì „</td> <td style="text-align:center;">Runnableê³¼ Threadë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„</td></tr> <tr><td style="text-align:center;">Java 5</td> <td style="text-align:center;">ExecutorService, Callable, Future</td></tr> <tr><td style="text-align:center;">Java 7</td> <td style="text-align:center;">Fork/Join ê·¸ë¦¬ê³  RecursiveTask</td></tr> <tr><td style="text-align:center;">Java 8</td> <td style="text-align:center;">Stream, CompletableFuture</td></tr> <tr><td style="text-align:center;">Java 9</td> <td style="text-align:center;">ë¶„ì‚° ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì€ ëª…ì‹œì ìœ¼ë¡œ ì§€ì› (ë°œí–‰ êµ¬ë… í”„ë¡œí† ì½œ ì§€ì› Flow API)</td></tr></tbody></table> <h4 id="_1-1-2-á„Œá…¡á„‡á…¡-á„†á…¥á†¯á„á…µá„Šá…³á„…á…¦á„ƒá…³-á„‘á…³á„…á…©á„€á…³á„…á…¢á„†á…µá†¼"><a href="#_1-1-2-á„Œá…¡á„‡á…¡-á„†á…¥á†¯á„á…µá„Šá…³á„…á…¦á„ƒá…³-á„‘á…³á„…á…©á„€á…³á„…á…¢á„†á…µá†¼" class="header-anchor">#</a> 1-1-2. ìë°” ë©€í‹°ì“°ë ˆë“œ í”„ë¡œê·¸ë˜ë°</h4> <ul><li><p>Thread/Runnable</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// ì²«ë²ˆì§¸ ë°©ë²•</span>
        <span class="token class-name">MyThread</span> myThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        myThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Anonymous class</span>
        <span class="token class-name">Thread</span> runnable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Runnable Thread: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Lambda Expression</span>
        <span class="token class-name">Thread</span> lambdaThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Lambda Thread:&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Thread ìƒì†</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* ì‹¤í–‰ê²°ê³¼
Hello: main
Thread: Thread-0
*/</span>
</code></pre></div><ul><li>ì½”ë“œì˜ ì‹¤í–‰ ìˆœì„œë§Œ ë´ì„œëŠ” Threadê°€ ë¨¼ì € ì¶œë ¥ë˜ì•¼ í•  ê²ƒ ê°™ì§€ë§Œ, ì‹¤ì œë¡œ ì‹¤í–‰í•´ë³´ë©´ ë‹¤ë¥´ê²Œ ì¶œë ¥ë  ë•Œë„ ìˆë‹¤.</li> <li>ì´ë¥¼ í†µí•´ ThreadëŠ” ìˆœì„œë¥¼ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.</li></ul></li></ul> <p>ì—¬ê¸°ì„  ë¡œì»¬í´ë˜ìŠ¤ë¥¼ ì´ìš©í–ˆì§€ë§Œ, ìµëª…í´ë˜ìŠ¤ì™€ ëŒë‹¤í‘œí˜„ì‹ì„ ì´ìš©í•´ì„œë„ ì ìš©í•  ìˆ˜ ìˆë‹¤.</p> <h4 id="_1-1-3-á„Œá…®á„‹á…­á„€á…µá„‚á…³á†¼-method"><a href="#_1-1-3-á„Œá…®á„‹á…­á„€á…µá„‚á…³á†¼-method" class="header-anchor">#</a> 1-1-3. ì£¼ìš”ê¸°ëŠ¥(method)</h4> <ol><li><p><strong>sleep(<em>mills</em>)</strong></p> <ul><li>í˜„ì¬ ì“°ë ˆë“œ ì¬ìš°ê¸°(ë©ˆì¶°ë‘ê¸°)
<ul><li>ìŠ¤ë ˆë“œë¥¼ ëŒ€ê¸°ìƒíƒœë¡œ ë©ˆì¶°ì„œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•¨.</li> <li>í•˜ì§€ë§Œ ë½ì„ ë†”ì£¼ì§„ ì•Šê¸°ì— ì˜ëª»í•˜ë©´ ë°ë“œë½ ìƒíƒœì— ê±¸ë¦´ ìˆ˜ ìˆë‹¤.</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
    <span class="token comment">// Lambda Expression</span>
    <span class="token class-name">Thread</span> lambdaThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interrupted!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    lambdaThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Thread.sleep(1000L)</strong></p> <ul><li>Threadë¥¼ startí•˜ë©´ 1ì´ˆ(1000L)ë™ì•ˆ ë©ˆì¶°ìˆê³  ê·¸ ë™ì•ˆ ë‹¤ë¥¸ ì“°ë ˆë“œë¥¼ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— Helloê°€ í•­ìƒ ìš°ì„  ì¶œë ¥ëœë‹¤.</li></ul></li> <li><p><strong>interrupt()</strong></p> <ul><li>ë‹¤ë¥¸ ì“°ë ˆë“œë¥¼ ê¹¨ìš°ê¸°
<ul><li><code>InterruptException</code> ì„ ë°œìƒ</li> <li>ì´ ì—ëŸ¬ì— ëŒ€í•œ í•¸ë“¤ë§ì€ êµ¬í˜„ ê°€ëŠ¥</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
    <span class="token comment">// Lambda Expression</span>
    <span class="token class-name">Thread</span> lambdaThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interrupted!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    lambdaThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    lambdaThread<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>lambdaThread.interrupt();</strong></p> <ul><li>lambdaThreadì— interrupt()ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ lambdaThreadë‚´ì— InterruptedException ì„ ë°œìƒì‹œí‚¨ë‹¤.</li></ul></li> <li><p><strong>join()</strong></p> <ul><li>ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
    <span class="token comment">//Lambda Expression</span>
    <span class="token class-name">Thread</span> lambdaThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interrupted!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    lambdaThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    lambdaThread<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>lambdaThread.join();</strong></p> <ul><li>lambdaThreadì— join()ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ lambdaThreadê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.</li></ul></li></ol> <h2 id="_2-executors"><a href="#_2-executors" class="header-anchor">#</a> 2. Executors</h2> <blockquote><p>Runnableì´ë‚˜ Threadì™€ ê°™ì€ Low-levelì´ ì•„ë‹Œ ê³  ìˆ˜ì¤€(High-Level) Concurrency í”„ë¡œê·¸ë˜ë°</p></blockquote> <p>ìš°ë¦¬ê°€ Runnableë§Œ ì •ì˜í•´ì„œ ì œê³µí•´ì£¼ë©´ ìŠ¤ë ˆë“œë¥¼ ë§Œë“¤ê³ , ë¶ˆí•„ìš”í•´ì§€ë©´ ì¢…ë£Œí•˜ê³  ê´€ë¦¬í•´ì£¼ëŠ” ì‘ì—…ë“¤ì„ ëŒ€ì‹  í•´ì£¼ëŠ” í´ë˜ìŠ¤</p> <h3 id="_2-1-executorsá„€á…¡-á„’á…¡á„‚á…³á†«-á„‹á…µá†¯"><a href="#_2-1-executorsá„€á…¡-á„’á…¡á„‚á…³á†«-á„‹á…µá†¯" class="header-anchor">#</a> 2-1. Executorsê°€ í•˜ëŠ” ì¼</h3> <ul><li>ì“°ë ˆë“œ ë§Œë“¤ê¸°: ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‚¬ìš©í•  ì“°ë ˆë“œ í’€ì„ ë§Œë“¤ì–´ê´€ë¦¬í•œë‹¤.</li> <li>ì“°ë ˆë“œ ê´€ë¦¬: ì“°ë ˆë“œ ìƒëª… ì£¼ê¸°ë¥¼ ê´€ë¦¬í•œë‹¤.</li> <li>ì‘ì—… ì²˜ë¦¬ ë° ì‹¤í–‰: ì“°ë ˆë“œë¡œ ì‹¤í–‰í•  ì‘ì—…ì„ ì œê³µí•  ìˆ˜ ìˆëŠ” APIë¥¼ ì œê³µí•œë‹¤.</li></ul> <h3 id="_2-2-á„Œá…®á„‹á…­-á„‹á…µá†«á„á…¥á„‘á…¦á„‹á…µá„‰á…³"><a href="#_2-2-á„Œá…®á„‹á…­-á„‹á…µá†«á„á…¥á„‘á…¦á„‹á…µá„‰á…³" class="header-anchor">#</a> 2-2. ì£¼ìš” ì¸í„°í˜ì´ìŠ¤</h3> <ul><li><code>Executor</code>:  execute(Runnable)</li> <li><code>ExecutorService</code>: Executorë¥¼ ìƒì† ë°›ì€ ì¸í„°í˜ì´ìŠ¤ë¡œ, Callableë„ ì‹¤í–‰ ê°€ëŠ¥í•˜ë©° Executorë¥¼ ì¢…ë£Œ ì‹œí‚¤ê±°ë‚˜ ì—¬ëŸ¬  Callableì„ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</li> <li><code>ScheduledExecutorService</code>: ExecutorServiceë¥¼ ìƒì† ë°›ì€ ì¸í„°í˜ì´ìŠ¤ë¡œ íŠ¹ì • ì‹œê°„ ì´í›„ì— ë˜ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ì‘ì—… ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.</li></ul> <h3 id="_2-3-á„‹á…¨á„Œá…¦"><a href="#_2-3-á„‹á…¨á„Œá…¦" class="header-anchor">#</a> 2-3. ì˜ˆì œ</h3> <h4 id="_2-3-1-á„€á…µá„‡á…©á†«-á„‰á…¡á„‹á…­á†¼-á„‹á…¨á„Œá…¦"><a href="#_2-3-1-á„€á…µá„‡á…©á†«-á„‰á…¡á„‹á…­á†¼-á„‹á…¨á„Œá…¦" class="header-anchor">#</a> 2-3-1. ê¸°ë³¸ ì‚¬ìš© ì˜ˆì œ</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
		<span class="token comment">// ExecutorService ìƒì„±</span>
    <span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// Legacy case</span>
    executorService<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Lambda Expression</span>
    executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Lambda Expression Thread: &quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// graceful shutdown</span>
    <span class="token comment">// executorService.shutdownNow(); //ì¦‰ì‹œ ì¢…ë£Œ</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-3-2-2á„€á…¢á„‹á…´-threadá„…á…³á†¯-á„‹á…µá„‹á…­á†¼á„’á…¡á„‹á…§-á„‰á…µá†¯á„’á…¢á†¼"><a href="#_2-3-2-2á„€á…¢á„‹á…´-threadá„…á…³á†¯-á„‹á…µá„‹á…­á†¼á„’á…¡á„‹á…§-á„‰á…µá†¯á„’á…¢á†¼" class="header-anchor">#</a> 2-3-2. 2ê°œì˜ Threadë¥¼ ì´ìš©í•˜ì—¬ ì‹¤í–‰</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Runnable</span> <span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;The&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;Lecture&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;Concurrent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;Part&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//graceful shutdown</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* ì‹¤í–‰ê²°ê³¼
Hellopool-1-thread-1
Worldpool-1-thread-2
Javapool-1-thread-2
Thepool-1-thread-1
Lecturepool-1-thread-2
Concurrentpool-1-thread-1
Partpool-1-thread-2
*/</span>
</code></pre></div><p><strong>Executors.newFixedThreadPool(2)</strong></p> <ul><li>í•´ë‹¹ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ í•´ë‹¹ ì˜ì—­ì—ëŠ” ì¸ìê°’ìœ¼ë¡œ ë„˜ê²¨ì¤€ ìˆ«ìë§Œí¼ Threadë¥¼ ê´€ë¦¬í•œë‹¤.</li> <li>ìœ„ ì½”ë“œì—ì„œëŠ” 2ë¥¼ ì¸ìê°’ìœ¼ë¡œ ë„˜ê²¨ì¤¬ê¸° ë•Œë¬¸ì— 2ê°œì˜ 2ê°œì˜ ì“°ë ˆë“œë¥¼ ê´€ë¦¬í•˜ëŠ” Thread Poolì´ ë„ëŠ” ë™ì•ˆ Blocking Queueì— ë“±ë¡ëœ ì‘ì—…ë“¤ì´ ì°¨ë¡€ëŒ€ë¡œ ë™ì‘í•œë‹¤.</li></ul> <img src="https://user-images.githubusercontent.com/42997924/142423017-14bf66d4-c249-4982-b9bc-19d13f3aa048.png" width="75%" height="75%"> <p>ì¶œì²˜ : <a href="https://www.notion.so/50d5af24a72440a1981ba9f00ff521ad" target="_blank" rel="noopener noreferrer">https://catsbi.oopy.io/50d5af24-a724-40a1-981b-a9f00ff521ad#638f51da-ae38-4574-baf5-d4f331ee6fbe<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>ExecutorService.newSingleThreadScheduledExcutor();</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ScheduledExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadScheduledExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
executorService<span class="token punctuation">.</span><span class="token function">scheduleAtFixedRate</span><span class="token punctuation">(</span><span class="token function">getRunnable</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>scheduleAtFixedRate(ì‹¤í–‰ Runnable, ì‹œì‘ ì§€ì—° ì‹œê°„, ë”œë ˆì´, íŒŒë¼ë¯¸í„° ì‹œê°„ ë‹¨ìœ„)</li> <li>ìœ„ ì½”ë“œëŠ” Runnableíƒ€ì…ì„ ë°˜í™˜í•˜ëŠ” getRunnable() ë©”ì†Œë“œë¥¼ í”„ë¡œê·¸ë¨ì´ ì‹œì‘ í›„ 3ì´ˆ ë’¤ë¶€í„° 1ì´ˆë§ˆë‹¤ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œ</li></ul> <h3 id="_2-4-executor-á„Œá…¥á†¼á„…á…µ"><a href="#_2-4-executor-á„Œá…¥á†¼á„…á…µ" class="header-anchor">#</a> 2-4. Executor ì •ë¦¬</h3> <ul><li><code>supplyAsync</code> ë“±ì˜ ë©”ì†Œë“œ í˜¸ì¶œì‹œ ì“°ë ˆë“œ í’€ì„ ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´ <a href="https://kwonnam.pe.kr/wiki/java/concurrent/forkjoinpool" target="_blank" rel="noopener noreferrer">Java ForkJoinPool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ì˜ <code>commonPool()</code> ì´ ì‚¬ìš©ëœë‹¤.</li> <li>ê°œë°œìê°€ ì“°ë ˆë“œ í’€ì„ ì œì–´í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì€ ë‚˜ì¤‘ì— ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤.</li> <li>ë”°ë¼ì„œ, í•­ìƒ <a href="https://kwonnam.pe.kr/wiki/java/concurrent/executorservice" target="_blank" rel="noopener noreferrer">Java ExecutorService<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ì“°ë ˆë“œ í’€ì„ ì§€ì •í•˜ë„ë¡ í•œë‹¤.</li></ul> <h2 id="_3-callableá„€á…ª-future"><a href="#_3-callableá„€á…ª-future" class="header-anchor">#</a> 3. Callableê³¼ Future</h2> <h3 id="_3-1-callable"><a href="#_3-1-callable" class="header-anchor">#</a> 3-1. Callable</h3> <ul><li>Runnableê³¼ ê±°ì˜ ìœ ì‚¬í•˜ì§€ë§Œ ë°˜í™˜ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.</li></ul> <h3 id="_3-2-future"><a href="#_3-2-future" class="header-anchor">#</a> 3-2. Future</h3> <ul><li>ë¹„ë™ê¸°ì ì¸ ì‘ì—…ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì¡°íšŒí•˜ê±°ë‚˜ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.</li></ul> <h3 id="_3-3-á„†á…¦á„‰á…©á„ƒá…³-á„‰á…¡á†¯á„‘á…§á„‡á…©á„€á…µ"><a href="#_3-3-á„†á…¦á„‰á…©á„ƒá…³-á„‰á…¡á†¯á„‘á…§á„‡á…©á„€á…µ" class="header-anchor">#</a> 3-3. ë©”ì†Œë“œ ì‚´í´ë³´ê¸°</h3> <h4 id="_3-3-1-á„€á…§á†¯á„€á…ª-á„‡á…¡á†«á„’á…ªá†«-get"><a href="#_3-3-1-á„€á…§á†¯á„€á…ª-á„‡á…¡á†«á„’á…ªá†«-get" class="header-anchor">#</a> 3-3-1. ê²°ê³¼ ë°˜í™˜ : get()</h4> <ul><li>í•´ë‹¹ ë©”ì†Œë“œëŠ” <code>ë¸”ë¡í‚¹ ì½œ</code>ì´ê¸°ì— ë©”ì†Œë“œ í˜¸ì¶œì‹œì ë¶€í„° ì½”ë“œì‹¤í–‰ ì™„ë£Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.</li> <li>íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> submit <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>hello<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Started!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

submit<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// blocking</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;End&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
Started!
(2ì´ˆ ë’¤)
End
*/</span>
</code></pre></div><h4 id="_3-3-2-á„Œá…¡á†¨á„‹á…¥á†¸-á„‰á…¡á†¼á„á…¢-á„’á…ªá†¨á„‹á…µá†«-isdone"><a href="#_3-3-2-á„Œá…¡á†¨á„‹á…¥á†¸-á„‰á…¡á†¼á„á…¢-á„’á…ªá†¨á„‹á…µá†«-isdone" class="header-anchor">#</a> 3-3-2. ì‘ì—… ìƒíƒœ í™•ì¸ - isDone()</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> helloFuture <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>hello<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>helloFuture<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Started!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

helloFuture<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// blocking</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>helloFuture<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;End&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* ì‹¤í–‰ ê²°ê³¼
false
Started!
true
End
*/</span>
</code></pre></div><h4 id="_3-3-3-á„Œá…¡á†¨á„‹á…¥á†¸-á„á…±á„‰á…©-cancel"><a href="#_3-3-3-á„Œá…¡á†¨á„‹á…¥á†¸-á„á…±á„‰á…©-cancel" class="header-anchor">#</a> 3-3-3. ì‘ì—… ì·¨ì†Œ : cancel()</h4> <ul><li>ì¸ì ê°’ìœ¼ë¡œ í˜„ì¬ ì§„í–‰ì¤‘ì¸ ì“°ë ˆë“œ interrupt ì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤.</li> <li>true ì´ë©´ í˜„ì¬ ì§„í–‰ì¤‘ì¸ ì“°ë ˆë“œë¥¼ interruptí•˜ê³  ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ í˜„ì¬ ì§„í–‰ì¤‘ì¸ ì‘ì—…ì´ ëë‚ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> helloFuture <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>hello<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>helloFuture<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Started!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

helloFuture<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>helloFuture<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;End&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

helloFuture<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* ì‹¤í–‰ ê²°ê³¼
false
Started!
true
End
Exception in thread &quot;main&quot; java.util.concurrent.CancellationException...
*/</span>
</code></pre></div><p><strong>helloFuture.cancel(false)</strong></p> <ul><li>í˜„ì¬ ì§„í–‰ì¤‘ì¸ ì‘ì—…ì„ ê¸°ë‹¤ë¦° ë’¤ ì‘ì—…ì„ ì·¨ì†Œí•œë‹¤.</li> <li>ì‘ì—…ì´ ì·¨ì†Œë˜ì–´ ì¢…ë£Œë˜ì—ˆê¸° ë•Œë¬¸ì— ì•„ë˜ì— <code>helloFuture.isDone()</code>ì€ trueê°€ ë°˜í™˜ë˜ë©°, ì´ë¯¸ ì·¨ì†Œí•œ ì‘ì—…ì„ get() í˜¸ì¶œí•˜ëŠ” ì‹œì ì—ëŠ” <code>CancellationException</code> ì˜ˆì™¸ê°€ ë°œìƒ</li></ul> <h4 id="_3-3-4-á„‹á…§á„…á…¥-á„Œá…¡á†¨á„‹á…¥á†¸-á„ƒá…©á†¼á„‰á…µ-á„‰á…µá†¯á„’á…¢á†¼-invokeall"><a href="#_3-3-4-á„‹á…§á„…á…¥-á„Œá…¡á†¨á„‹á…¥á†¸-á„ƒá…©á†¼á„‰á…µ-á„‰á…µá†¯á„’á…¢á†¼-invokeall" class="header-anchor">#</a> 3-3-4. ì—¬ëŸ¬ ì‘ì—… ë™ì‹œ ì‹¤í–‰ : <code>invokeAll()</code></h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDateTime</span> start <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> java <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> youngjun <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;youngjun&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Future</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> futures <span class="token operator">=</span> 
        executorService<span class="token punctuation">.</span><span class="token function">invokeAll</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>hello<span class="token punctuation">,</span> java<span class="token punctuation">,</span> youngjun<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">:</span> futures<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">LocalDateTime</span> end <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Duration</span> between <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>between<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
Hello
java
youngjun
6
*/</span>
</code></pre></div><ul><li><p><code>invokeAll()</code> ë©”ì†Œë“œëŠ” íƒœìŠ¤í¬ê°€ ëª¨ë‘ ëë‚ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ ê°’ë“¤ì„ ë°˜í™˜</p> <ul><li>ì‹±ê¸€ ì“°ë ˆë“œì´ê¸° ë•Œë¬¸ì— 6ì´ˆê°€ ì†Œìš”ëœë‹¤.</li> <li>future listë¥¼ ë°˜í™˜í•˜ê³  <strong>ì „ë¶€ ëë‚ ë•Œê¹Œì§€ holdingëœë‹¤.</strong></li> <li>ë„˜ê²¨ì¤€ Callable listê°€ ì •ìƒ ì²˜ë¦¬ë˜ë“  exceptionì´ ë°œìƒí•˜ë“  ì™„ë£Œëœ ê²ƒìœ¼ë¡œ ë³¸ë‹¤.</li> <li>ë™ì‘ì¤‘ì— ì „ë‹¬ë°›ì€ listê°€ ë³€ê²½ë˜ë©´ ê²°ê³¼ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤</li> <li>ë„˜ê²¨ì¤€ list ìˆœì„œëŒ€ë¡œ ê²°ê³¼ futureë¥¼ ë‹´ì•„ì„œ ë„˜ê²¨ì¤€ë‹¤.</li></ul> <p><strong>ë°œìƒí•  ìˆ˜ ìˆëŠ” Exception</strong></p> <ul><li><em>InterruptedException</em> : ë™ì‘ì´ ì¢…ë£Œë˜ì§€ ì•Šì€(ë™ì‘ì¤‘ì¸) taskê°€ ì·¨ì†Œ ë˜ì—ˆì„ ë•Œ</li> <li><em>NullPointerException</em> : í•¨ìˆ˜ì˜ paramì¤‘ nullì´ ìˆì„ ë•Œ</li> <li><em>RejectedExecutionException</em> : taskë¥¼ poolì— ë„£ì„ìˆ˜ ì—†ì„ ë•Œ.</li></ul></li> <li><p>ë”°ë¼ì„œ ê°€ì¥ ë¨¼ì € ì™„ë£Œëœ ì‘ì—…ë§Œ ë°˜í™˜í•´ë„ ê´œì°®ë‹¤ë©´ invokeAllì„ ì“°ê¸°ì—ëŠ” ì„±ëŠ¥ì´ ë–¨ì–´ì§„ë‹¤.</p> <ul><li>ê·¸ëŸ´ ë•Œ ì‚¬ìš© í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œê°€ <code>invokeAny</code> ì´ë‹¤.</li></ul></li></ul> <h4 id="_3-3-5-á„‹á…§á„…á…¥-á„Œá…¡á†¨á„‹á…¥á†¸-á„ƒá…©á†¼á„‰á…µ-á„‰á…µá†¯á„’á…¢á†¼-invokeany"><a href="#_3-3-5-á„‹á…§á„…á…¥-á„Œá…¡á†¨á„‹á…¥á†¸-á„ƒá…©á†¼á„‰á…µ-á„‰á…µá†¯á„’á…¢á†¼-invokeany" class="header-anchor">#</a> 3-3-5. ì—¬ëŸ¬ ì‘ì—… ë™ì‹œ ì‹¤í–‰ : invokeAny()</h4> <ul><li>ë™ì‹œì— ì‹¤í–‰í•œ ì‘ì—… ì¤‘ì— ì œì¼ ì§§ê²Œ ê±¸ë¦¬ëŠ” ì‘ì—… ë§Œí¼ ì‹œê°„ì´ ê±¸ë¦°ë‹¤.</li> <li><strong>ë¸”ë¡í‚¹ ì½œ</strong>ì´ë‹¤.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> result <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">invokeAny</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>hello<span class="token punctuation">,</span> java<span class="token punctuation">,</span> youngjun<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;result = &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* ì‹¤í–‰ ê²°ê³¼
result = youngjun
*/</span>
</code></pre></div><blockquote><p>ì£¼ì˜í•  ì ì€, ì‹±ê¸€ ì“°ë ˆë“œë¡œ í•  ê²½ìš° ë¨¼ì € ë“¤ì–´ê°„ ìˆœì„œëŒ€ë¡œ ë‚˜ì˜¤ê²Œ ëœë‹¤ëŠ” ì ì´ë‹¤.</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">ExecutionException</span> <span class="token punctuation">{</span>
    <span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> java <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> youngjun <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;youngjun&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> s <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">invokeAny</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>hello<span class="token punctuation">,</span> java<span class="token punctuation">,</span> youngjun<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

    executorService<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* ì‹¤í–‰ ê²°ê³¼
Hello
*/</span>

</code></pre></div><h2 id="_4-completablefuture-1"><a href="#_4-completablefuture-1" class="header-anchor">#</a> 4. CompletableFuture (1)</h2> <h3 id="_4-1-á„€á…¢á„‹á…­"><a href="#_4-1-á„€á…¢á„‹á…­" class="header-anchor">#</a> 4-1. ê°œìš”</h3> <blockquote><p>ìë°”ì—ì„œ ë¹„ë™ê¸°(Asynchronous)í”„ë¡œê·¸ë˜ë°ì„ ê°€ëŠ¥í•˜ê²Œí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤.<br>
Futureì˜ ì œì•½ì‚¬í•­ë“¤ì„ í•´ê²°í•œë‹¤.</p></blockquote> <h4 id="_4-1-1-future-á„Œá…¦á„‹á…£á†¨"><a href="#_4-1-1-future-á„Œá…¦á„‹á…£á†¨" class="header-anchor">#</a> 4-1-1. Future ì œì•½</h4> <ul><li>ì˜ˆì™¸ ì²˜ë¦¬ìš© APIë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.</li> <li>ì—¬ëŸ¬ Futureë¥¼ ì¡°í•©í•  ìˆ˜ ì—†ë‹¤. (ex: Eventì •ë³´ë¥¼ ë°›ì•„ ë‹¤ìŒ Eventì— ì°¸ì„í•  íšŒì›ëª©ë¡ì¡°íšŒ)</li> <li>Futureë¥¼ ì™¸ë¶€ì—ì„œ ì™„ë£Œì‹œí‚¬ ìˆ˜ ì—†ë‹¤. ì·¨ì†Œí•˜ê±°ë‚˜, get()ì— íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•  ìˆ˜ëŠ” ìˆë‹¤.</li> <li>get()ì„ í˜¸ì¶œí•˜ê¸° ì „ê¹Œì§€ëŠ” futureë¥¼ ë‹¤ë£° ìˆ˜ ì—†ë‹¤.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ExecutorService</span> executorService <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> executorService<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token comment">//TODO</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token comment">//TODO</span>
</code></pre></div><ul><li>ì—¬ê¸°ì„œ futureëŠ” <code>blocking call</code></li></ul> <blockquote><p>futureë¥¼ get()ìœ¼ë¡œ ê°€ì ¸ì˜¤ëŠ” ë™ì•ˆì—ëŠ” ë‹¤ë¥¸ ì‘ì—…ë“¤ì˜ ìˆ˜í–‰ì´ ì•ˆëœë‹¤ëŠ” ì˜ë¯¸ì´ê³  ê·¸ ê¸°ê°„ì´ ê¸¸ì–´ì§ˆìˆ˜ë¡ ì„±ëŠ¥ì€ ë–¨ì–´ì§ˆìˆ˜ ë°–ì— ì—†ë‹¤.</p></blockquote> <h3 id="_4-2-completablefuture"><a href="#_4-2-completablefuture" class="header-anchor">#</a> 4-2. CompletableFuture</h3> <blockquote><p>Futureì™€ CompletionStageë¥¼ êµ¬í˜„í•˜ëŠ” êµ¬í˜„ì²´</p></blockquote> <ul><li>ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ì§€ì›í•˜ëŠ” ë©”ì„œë“œ</li> <li>ìˆœì„œì˜ ì˜ì¡´ê´€ê³„ë¥¼ ë§ëŠ” ìŠ¤ë ˆë“œ í”„ë¡œê·¸ë˜ë°</li> <li>ì½œë°±ì„ ì§€ì›í•˜ê¸°ë„ í•˜ë©° ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¥¼ í•˜ë‚˜ë¡œ ë¬¶ì–´ ì²˜ë¦¬í•˜ê¸°ì—ë„ ìš©ì´</li></ul> <p><em><code>public class CompletableFuture&lt;T&gt; implements Future&lt;T&gt;, CompletionStage&lt;T&gt;{...}</code></em></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token string">&quot;youngjun&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;future = &quot;</span> <span class="token operator">+</span> future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//-------------OR --------------</span>
<span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">completedFuture</span><span class="token punctuation">(</span><span class="token string">&quot;youngjun&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;future = &quot;</span> <span class="token operator">+</span> future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_4-2-1-á„‡á…µá„ƒá…©á†¼á„€á…µá„…á…©-á„Œá…¡á†¨á„‹á…¥á†¸-á„‰á…µá†¯á„’á…¢á†¼á„’á…¡á„€á…µ"><a href="#_4-2-1-á„‡á…µá„ƒá…©á†¼á„€á…µá„…á…©-á„Œá…¡á†¨á„‹á…¥á†¸-á„‰á…µá†¯á„’á…¢á†¼á„’á…¡á„€á…µ" class="header-anchor">#</a> 4-2-1. ë¹„ë™ê¸°ë¡œ ì‘ì—… ì‹¤í–‰í•˜ê¸°</h4> <ul><li><p>ë¦¬í„´ê°’ì´ ì—†ëŠ” ê²½ìš°: <strong>runAsync()</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>ë¦¬í„´ê°’ì´ ìˆëŠ” ê²½ìš°: <strong>supplyAsync()</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>ì›í•˜ëŠ” <strong>Executor</strong>(ì“°ë ˆë“œí’€)ë¥¼ ì‚¬ìš©í•´ì„œ ì‹¤í–‰í•  ìˆ˜ë„ ìˆë‹¤. (ê¸°ë³¸ì€ <strong>ForkJoinPool.commonPool()</strong>)</p></li></ul> <h4 id="_4-2-2-á„á…©á†¯á„‡á…¢á†¨-á„Œá…¦á„€á…©á†¼á„’á…¡á„€á…µ"><a href="#_4-2-2-á„á…©á†¯á„‡á…¢á†¨-á„Œá…¦á„€á…©á†¼á„’á…¡á„€á…µ" class="header-anchor">#</a> 4-2-2. ì½œë°± ì œê³µí•˜ê¸°</h4> <ul><li><p><em><code>thenApply(Function)</code></em></p> <blockquote><p>ë¦¬í„´ê°’ì„ ë°›ì•„ì„œ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ë°”ê¾¸ëŠ” ì½œë°±</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenApply</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;content: &quot;</span><span class="token operator">+</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;HelloAsync&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Javascriptì˜ Promise ì™€ ìœ ì‚¬í•œ í˜•íƒœ</li> <li><code>supplyAsync</code>ì˜ ëŒë‹¤í‘œí˜„ì‹ì—ì„œ ë°˜í™˜ëœ Helloë¼ëŠ” ê°’ì€ ì²´ì´ë‹ëœ ë©”ì†Œë“œ <code>thenApply</code>ì˜ ì¸ìê°’ìœ¼ë¡œ ë“¤ì–´ê°€ê³  ì‚¬ìš© ê°€ëŠ¥</li> <li>ê·¸ë¦¬ê³  ë” ì´ìƒ ì²´ì´ë‹ëœ ë©”ì†Œë“œê°€ ì—†ê¸° ë•Œë¬¸ì— returnê°’ì¸ HelloAsyncëŠ” ë°˜í™˜ë˜ì–´ futureë¡œ ë“¤ì–´ê°€ê³  get()ì„í†µí•´ ë°›ì„ ìˆ˜ ìˆë‹¤.</li></ul></li> <li><p><em><code>thenAccept(Consumer)</code></em></p> <blockquote><p>ë¦¬í„´ê°’ì„ ë°›ì•„ ë˜ ë‹¤ë¥¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ë° ë°˜í™˜ê°’ì€ ì—†ëŠ” ì½œë°± (ë¦¬í„´ x)</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAccept</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;content: &quot;</span><span class="token operator">+</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// return ì—†ë‹¤.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><em><code>thenRun(Runnable)</code></em></p> <blockquote><p>ë¦¬í„´ê°’ì„ ë°›ì§€ ì•Šê³  ë‹¤ë¥¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì½œë°±</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenRun</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h4 id="parallelstream-vs-completablefuture"><a href="#parallelstream-vs-completablefuture" class="header-anchor">#</a> <em>ParallelStream vs. CompletableFuture</em></h4> <ul><li>from <a href="https://www.manning.com/books/java-8-in-action" target="_blank" rel="noopener noreferrer">Java 8 in Action<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><strong>ParallelStream</strong> : <strong>I/Oê°€ í¬í•¨ë˜ì§€ ì•Šì€ ê³„ì‚° ì¤‘ì‹¬</strong>ì˜ ë™ì‘ì„ ì‹¤í–‰í•  ë•ŒëŠ” ìŠ¤íŠ¸ë¦¼ ì¸í„°í˜ì´ìŠ¤ê°€ ê°€ì¥ êµ¬í˜„í•˜ê¸° ê°„ë‹¤í•˜ë©° íš¨ìœ¨ì ì¼ ìˆ˜ ìˆë‹¤(ëª¨ë“  ìŠ¤ë ˆë“œê°€ ê³„ì‚° ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ìƒí™©ì—ì„œëŠ” í”„ë¡œì„¸ì„œ ì½”ì–´ ìˆ˜ ì´ìƒì˜ ì“°ë ˆë“œë¥¼ ê°€ì§ˆ í•„ìš”ê°€ ì—†ë‹¤).</li> <li><strong>CompletableFuture</strong> : ë°˜ë©´ ì‘ì—…ì´ <strong>I/Oë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì‘ì—…ì„ ë³‘ë ¬ë¡œ ì‹¤í–‰</strong>í•  ë•ŒëŠ” <code>CompletableFuture</code>ê°€ ë” ë§ì€ ìœ ì—°ì„±ì„ ì œê³µí•˜ë©° ëŒ€ê¸°/ê³„ì‚°(W/C)ì˜ ë¹„ìœ¨ì— ì í•©í•œ ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. íŠ¹íˆ ìŠ¤íŠ¸ë¦¼ì˜ ê²Œìœ¼ë¥¸ íŠ¹ì„± ë•Œë¬¸ì— ìŠ¤íŠ¸ë¦¼ì—ì„œ I/Oë¥¼ ì‹¤ì œë¡œ ì–¸ì œ ì²˜ë¦¬í•  ì§€ ì˜ˆì¸¡í•˜ê¸° ì–´ë ¤ìš´ ë¬¸ì œë„ ìˆë‹¤.</li> <li><a href="http://fahdshariff.blogspot.kr/2016/06/java-8-completablefuture-vs-parallel.html" target="_blank" rel="noopener noreferrer">fahd.blog: Java 8: CompletableFuture vs Parallel Stream<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="_5-completablefuture-2"><a href="#_5-completablefuture-2" class="header-anchor">#</a> 5. CompletableFuture (2)</h2> <h3 id="_5-1-completablefuture-á„Œá…©á„’á…¡á†¸-á„†á…¦á„‰á…©á„ƒá…³"><a href="#_5-1-completablefuture-á„Œá…©á„’á…¡á†¸-á„†á…¦á„‰á…©á„ƒá…³" class="header-anchor">#</a> 5-1. CompletableFuture ì¡°í•© ë©”ì†Œë“œ</h3> <h4 id="_5-1-1-thencompose"><a href="#_5-1-1-thencompose" class="header-anchor">#</a> 5-1-1. thenCompose()</h4> <ul><li>ë‘ ì‘ì—…ì´ ì„œë¡œ ì´ì–´ì„œ ì‹¤í–‰í•˜ë„ë¡ ì¡°í•©í•˜ë©° ì—°ê´€ëœ futureê°„ì— ë§ì´ ì‚¬ìš©</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">ExecutionException</span> <span class="token punctuation">{</span>
        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> helloFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> helloFuture<span class="token punctuation">.</span><span class="token function">thenCompose</span><span class="token punctuation">(</span><span class="token class-name">App</span><span class="token operator">::</span><span class="token function">getWorldFuture</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getWorldFuture</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;World &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> message <span class="token operator">+</span> <span class="token string">&quot; World&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
Hello ForkJoinPool.commonPool-worker-3
World ForkJoinPool.commonPool-worker-5
Hello World
*/</span>
</code></pre></div><h4 id="_5-1-2-thencombine"><a href="#_5-1-2-thencombine" class="header-anchor">#</a> 5-1-2. thenCombine()</h4> <ul><li><strong>ë‘ ì‘ì—…ì„ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê³  ë‘˜ ë‹¤ ì¢…ë£Œ í–ˆì„ë•Œ ì½œë°± ì‹¤í–‰.</strong></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">ExecutionException</span> <span class="token punctuation">{</span>
    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> msFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MicroSoft &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;MicroSoft&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> appleFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Apple &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Apple&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> resultFuture <span class="token operator">=</span> msFuture<span class="token punctuation">.</span><span class="token function">thenCombine</span><span class="token punctuation">(</span>appleFuture<span class="token punctuation">,</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> i <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>resultFuture<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-1-3-allof"><a href="#_5-1-3-allof" class="header-anchor">#</a> 5-1-3. allOf()</h4> <ul><li>ì—¬ëŸ¬ ì‘ì—…ì„ ëª¨ë‘ ì‹¤í–‰í•˜ê³  ëª¨ë“  ì‘ì—… ê²°ê³¼ì— ì½œë°± ì‹¤í–‰</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">ExecutionException</span> <span class="token punctuation">{</span>
    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> msFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MicroSoft &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;MicroSoft&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> appleFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Apple &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Apple&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompletableFuture</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> futures <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>msFuture<span class="token punctuation">,</span> appleFuture<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> results <span class="token operator">=</span>
            <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">allOf</span><span class="token punctuation">(</span>futures<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">[</span>futures<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">thenApply</span><span class="token punctuation">(</span>v <span class="token operator">-&gt;</span> futures<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">CompletableFuture</span><span class="token operator">::</span><span class="token function">join</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    results<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-1-4-anyof"><a href="#_5-1-4-anyof" class="header-anchor">#</a> 5-1-4. anyOf()</h4> <ul><li>ì—¬ëŸ¬ ì‘ì—… ì¤‘ ê°€ì¥ ëë‚œ í•˜ë‚˜ì˜ ê²°ê³¼ë¥¼ ì½œë°±ì— ë„˜ê²¨ ì‹¤í–‰</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> msFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MicroSoft &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;MicroSoft&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> appleFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Apple &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Apple&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">anyOf</span><span class="token punctuation">(</span>msFuture<span class="token punctuation">,</span> appleFuture<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAccept</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-2-á„‹á…¨á„‹á…¬-á„á…¥á„…á…µ-á„†á…¦á„‰á…©á„ƒá…³"><a href="#_5-2-á„‹á…¨á„‹á…¬-á„á…¥á„…á…µ-á„†á…¦á„‰á…©á„ƒá…³" class="header-anchor">#</a> 5-2. ì˜ˆì™¸ ì²˜ë¦¬ ë©”ì†Œë“œ</h3> <h4 id="_5-2-1-exeptionally-function"><a href="#_5-2-1-exeptionally-function" class="header-anchor">#</a> 5-2-1. exeptionally(Function)</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">boolean</span> throwError <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> msFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>throwError<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MicroSoft &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;MicroSoft&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exceptionally</span><span class="token punctuation">(</span>ex<span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Error&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msFuture<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_5-2-2-handle-bifunction"><a href="#_5-2-2-handle-bifunction" class="header-anchor">#</a> 5-2-2. handle(BiFunction)</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">boolean</span> throwError <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> msFuture <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>throwError<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MicroSoft &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;MicroSoft&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">nonNull</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ERROR&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msFuture<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-3-completablefuture-á„…á…³á†¯-á„‹á…¥á†«á„Œá…¦-á„Šá…³á†¯-á„‰á…®-á„‹á…µá†»á„‹á…³á†¯á„á…¡"><a href="#_5-3-completablefuture-á„…á…³á†¯-á„‹á…¥á†«á„Œá…¦-á„Šá…³á†¯-á„‰á…®-á„‹á…µá†»á„‹á…³á†¯á„á…¡" class="header-anchor">#</a> 5-3. CompletableFuture ë¥¼ ì–¸ì œ ì“¸ ìˆ˜ ìˆì„ê¹Œ</h3> <ul><li>ì•„ë˜ëŠ” microservices.io ì‚¬ì´íŠ¸ì—ì„œ ê°€ì ¸ì˜¨ ì˜ˆì œì´ë‹¤.</li></ul> <p><img src="https://user-images.githubusercontent.com/42997924/142424985-840b9ddd-6f97-49f1-abc8-f34fa9f5918b.png" alt="image"></p> <ul><li>CompletableFuture ë¥¼ ì‚¬ìš©í•  ë§Œí•œ ë¶€ë¶„ì€ API GATEWAY, Storefront WebApp ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ì´ìœ ëŠ” Account, Inventory, Shipping Service ëŠ” DATA BASE ì™€ ì—°ë™í•˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤. java í™˜ê²½ì—ì„œ RDBMS ì—°ë™ì‹œì— ì•„ì§ Async í•œ ì¸í„°í˜ì´ìŠ¤ ë°©ì‹ì„ ì œê³µí•˜ê³  ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— Async ê°œë°œì„ í•´ì„œ í° íš¨ê³¼ë¥¼ ì–»ê¸° ë¶€ì¡±í•˜ë‹¤.</li> <li>í•˜ì§€ë§Œ GATEWAY ë“±ì€ REST Service ì™€ ì—°ë™í•˜ê¸° ë•Œë¬¸ì— Async ë¥¼ í†µí•œ ì„±ëŠ¥ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. (Blocking Thread ë¬¸ì œ í•´ê²° ë“±)</li></ul> <p><strong>Reference</strong></p> <ul><li><a href="https://www.hungrydiver.co.kr/bbs/detail/develop?id=2" target="_blank" rel="noopener noreferrer">https://www.hungrydiver.co.kr/bbs/detail/develop?id=2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://kwonnam.pe.kr/wiki/java/8/completable_future" target="_blank" rel="noopener noreferrer">https://kwonnam.pe.kr/wiki/java/8/completable_future<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://huisam.tistory.com/entry/completableFuture" target="_blank" rel="noopener noreferrer">https://huisam.tistory.com/entry/completableFuture<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://tourspace.tistory.com/137" target="_blank" rel="noopener noreferrer">https://tourspace.tistory.com/137<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://bbubbush.tistory.com/23" target="_blank" rel="noopener noreferrer">https://bbubbush.tistory.com/23<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/1/2022, 2:32:12 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/til/Java/11.Date-Time.html" class="prev">
        Dateì™€ Time
      </a></span> <span class="next"><a href="/til/Java/13.Annotation-In-Java8.html">
        ì• ë…¸í…Œì´ì…˜ì˜ ë³€í™”
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/til/assets/js/app.b966e427.js" defer></script><script src="/til/assets/js/2.f827bc55.js" defer></script><script src="/til/assets/js/94.000327da.js" defer></script><script src="/til/assets/js/46.01e6df54.js" defer></script>
  </body>
</html>
